var p0=Object.defineProperty;var b0=(t,e,a)=>e in t?p0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a;var q=(t,e,a)=>b0(t,typeof e!="symbol"?e+"":e,a);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function a(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(l){if(l.ep)return;l.ep=!0;const i=a(l);fetch(l.href,i)}})();var zn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function y0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function v0(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var a=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};a.prototype=e.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var l=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(a,n,l.get?l:{enumerable:!0,get:function(){return t[n]}})}),a}var Qf={exports:{}},Bs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x0=Symbol.for("react.transitional.element"),S0=Symbol.for("react.fragment");function Zf(t,e,a){var n=null;if(a!==void 0&&(n=""+a),e.key!==void 0&&(n=""+e.key),"key"in e){a={};for(var l in e)l!=="key"&&(a[l]=e[l])}else a=e;return e=a.ref,{$$typeof:x0,type:t,key:n,ref:e!==void 0?e:null,props:a}}Bs.Fragment=S0;Bs.jsx=Zf;Bs.jsxs=Zf;Qf.exports=Bs;var o=Qf.exports,Ff={exports:{}},nt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var to=Symbol.for("react.transitional.element"),w0=Symbol.for("react.portal"),T0=Symbol.for("react.fragment"),M0=Symbol.for("react.strict_mode"),N0=Symbol.for("react.profiler"),j0=Symbol.for("react.consumer"),k0=Symbol.for("react.context"),A0=Symbol.for("react.forward_ref"),z0=Symbol.for("react.suspense"),_0=Symbol.for("react.memo"),Kf=Symbol.for("react.lazy"),C0=Symbol.for("react.activity"),iu=Symbol.iterator;function O0(t){return t===null||typeof t!="object"?null:(t=iu&&t[iu]||t["@@iterator"],typeof t=="function"?t:null)}var Jf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},If=Object.assign,Pf={};function sl(t,e,a){this.props=t,this.context=e,this.refs=Pf,this.updater=a||Jf}sl.prototype.isReactComponent={};sl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};sl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Wf(){}Wf.prototype=sl.prototype;function eo(t,e,a){this.props=t,this.context=e,this.refs=Pf,this.updater=a||Jf}var ao=eo.prototype=new Wf;ao.constructor=eo;If(ao,sl.prototype);ao.isPureReactComponent=!0;var su=Array.isArray;function tc(){}var Ot={H:null,A:null,T:null,S:null},$f=Object.prototype.hasOwnProperty;function no(t,e,a){var n=a.ref;return{$$typeof:to,type:t,key:e,ref:n!==void 0?n:null,props:a}}function E0(t,e){return no(t.type,e,t.props)}function lo(t){return typeof t=="object"&&t!==null&&t.$$typeof===to}function D0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(a){return e[a]})}var ru=/\/+/g;function or(t,e){return typeof t=="object"&&t!==null&&t.key!=null?D0(""+t.key):e.toString(36)}function U0(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(tc,tc):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Nn(t,e,a,n,l){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"bigint":case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case to:case w0:s=!0;break;case Kf:return s=t._init,Nn(s(t._payload),e,a,n,l)}}if(s)return l=l(t),s=n===""?"."+or(t,0):n,su(l)?(a="",s!=null&&(a=s.replace(ru,"$&/")+"/"),Nn(l,e,a,"",function(u){return u})):l!=null&&(lo(l)&&(l=E0(l,a+(l.key==null||t&&t.key===l.key?"":(""+l.key).replace(ru,"$&/")+"/")+s)),e.push(l)),1;s=0;var r=n===""?".":n+":";if(su(t))for(var c=0;c<t.length;c++)n=t[c],i=r+or(n,c),s+=Nn(n,e,a,i,l);else if(c=O0(t),typeof c=="function")for(t=c.call(t),c=0;!(n=t.next()).done;)n=n.value,i=r+or(n,c++),s+=Nn(n,e,a,i,l);else if(i==="object"){if(typeof t.then=="function")return Nn(U0(t),e,a,n,l);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return s}function xi(t,e,a){if(t==null)return t;var n=[],l=0;return Nn(t,n,"","",function(i){return e.call(a,i,l++)}),n}function R0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(a){(t._status===0||t._status===-1)&&(t._status=1,t._result=a)},function(a){(t._status===0||t._status===-1)&&(t._status=2,t._result=a)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var cu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},B0={map:xi,forEach:function(t,e,a){xi(t,function(){e.apply(this,arguments)},a)},count:function(t){var e=0;return xi(t,function(){e++}),e},toArray:function(t){return xi(t,function(e){return e})||[]},only:function(t){if(!lo(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};nt.Activity=C0;nt.Children=B0;nt.Component=sl;nt.Fragment=T0;nt.Profiler=N0;nt.PureComponent=eo;nt.StrictMode=M0;nt.Suspense=z0;nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ot;nt.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Ot.H.useMemoCache(t)}};nt.cache=function(t){return function(){return t.apply(null,arguments)}};nt.cacheSignal=function(){return null};nt.cloneElement=function(t,e,a){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var n=If({},t.props),l=t.key;if(e!=null)for(i in e.key!==void 0&&(l=""+e.key),e)!$f.call(e,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&e.ref===void 0||(n[i]=e[i]);var i=arguments.length-2;if(i===1)n.children=a;else if(1<i){for(var s=Array(i),r=0;r<i;r++)s[r]=arguments[r+2];n.children=s}return no(t.type,l,n)};nt.createContext=function(t){return t={$$typeof:k0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:j0,_context:t},t};nt.createElement=function(t,e,a){var n,l={},i=null;if(e!=null)for(n in e.key!==void 0&&(i=""+e.key),e)$f.call(e,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(l[n]=e[n]);var s=arguments.length-2;if(s===1)l.children=a;else if(1<s){for(var r=Array(s),c=0;c<s;c++)r[c]=arguments[c+2];l.children=r}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)l[n]===void 0&&(l[n]=s[n]);return no(t,i,l)};nt.createRef=function(){return{current:null}};nt.forwardRef=function(t){return{$$typeof:A0,render:t}};nt.isValidElement=lo;nt.lazy=function(t){return{$$typeof:Kf,_payload:{_status:-1,_result:t},_init:R0}};nt.memo=function(t,e){return{$$typeof:_0,type:t,compare:e===void 0?null:e}};nt.startTransition=function(t){var e=Ot.T,a={};Ot.T=a;try{var n=t(),l=Ot.S;l!==null&&l(a,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(tc,cu)}catch(i){cu(i)}finally{e!==null&&a.types!==null&&(e.types=a.types),Ot.T=e}};nt.unstable_useCacheRefresh=function(){return Ot.H.useCacheRefresh()};nt.use=function(t){return Ot.H.use(t)};nt.useActionState=function(t,e,a){return Ot.H.useActionState(t,e,a)};nt.useCallback=function(t,e){return Ot.H.useCallback(t,e)};nt.useContext=function(t){return Ot.H.useContext(t)};nt.useDebugValue=function(){};nt.useDeferredValue=function(t,e){return Ot.H.useDeferredValue(t,e)};nt.useEffect=function(t,e){return Ot.H.useEffect(t,e)};nt.useEffectEvent=function(t){return Ot.H.useEffectEvent(t)};nt.useId=function(){return Ot.H.useId()};nt.useImperativeHandle=function(t,e,a){return Ot.H.useImperativeHandle(t,e,a)};nt.useInsertionEffect=function(t,e){return Ot.H.useInsertionEffect(t,e)};nt.useLayoutEffect=function(t,e){return Ot.H.useLayoutEffect(t,e)};nt.useMemo=function(t,e){return Ot.H.useMemo(t,e)};nt.useOptimistic=function(t,e){return Ot.H.useOptimistic(t,e)};nt.useReducer=function(t,e,a){return Ot.H.useReducer(t,e,a)};nt.useRef=function(t){return Ot.H.useRef(t)};nt.useState=function(t){return Ot.H.useState(t)};nt.useSyncExternalStore=function(t,e,a){return Ot.H.useSyncExternalStore(t,e,a)};nt.useTransition=function(){return Ot.H.useTransition()};nt.version="19.2.4";Ff.exports=nt;var L=Ff.exports,td={exports:{}},Hs={},ed={exports:{}},ad={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(_,D){var j=_.length;_.push(D);t:for(;0<j;){var F=j-1>>>1,at=_[F];if(0<l(at,D))_[F]=D,_[j]=at,j=F;else break t}}function a(_){return _.length===0?null:_[0]}function n(_){if(_.length===0)return null;var D=_[0],j=_.pop();if(j!==D){_[0]=j;t:for(var F=0,at=_.length,vt=at>>>1;F<vt;){var K=2*(F+1)-1,R=_[K],V=K+1,W=_[V];if(0>l(R,j))V<at&&0>l(W,R)?(_[F]=W,_[V]=j,F=V):(_[F]=R,_[K]=j,F=K);else if(V<at&&0>l(W,j))_[F]=W,_[V]=j,F=V;else break t}}return D}function l(_,D){var j=_.sortIndex-D.sortIndex;return j!==0?j:_.id-D.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,r=s.now();t.unstable_now=function(){return s.now()-r}}var c=[],u=[],m=1,g=null,f=3,d=!1,v=!1,y=!1,w=!1,p=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function x(_){for(var D=a(u);D!==null;){if(D.callback===null)n(u);else if(D.startTime<=_)n(u),D.sortIndex=D.expirationTime,e(c,D);else break;D=a(u)}}function T(_){if(y=!1,x(_),!v)if(a(c)!==null)v=!0,M||(M=!0,P());else{var D=a(u);D!==null&&st(T,D.startTime-_)}}var M=!1,z=-1,S=5,N=-1;function O(){return w?!0:!(t.unstable_now()-N<S)}function E(){if(w=!1,M){var _=t.unstable_now();N=_;var D=!0;try{t:{v=!1,y&&(y=!1,h(z),z=-1),d=!0;var j=f;try{e:{for(x(_),g=a(c);g!==null&&!(g.expirationTime>_&&O());){var F=g.callback;if(typeof F=="function"){g.callback=null,f=g.priorityLevel;var at=F(g.expirationTime<=_);if(_=t.unstable_now(),typeof at=="function"){g.callback=at,x(_),D=!0;break e}g===a(c)&&n(c),x(_)}else n(c);g=a(c)}if(g!==null)D=!0;else{var vt=a(u);vt!==null&&st(T,vt.startTime-_),D=!1}}break t}finally{g=null,f=j,d=!1}D=void 0}}finally{D?P():M=!1}}}var P;if(typeof b=="function")P=function(){b(E)};else if(typeof MessageChannel<"u"){var ut=new MessageChannel,yt=ut.port2;ut.port1.onmessage=E,P=function(){yt.postMessage(null)}}else P=function(){p(E,0)};function st(_,D){z=p(function(){_(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(_){_.callback=null},t.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<_?Math.floor(1e3/_):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(_){switch(f){case 1:case 2:case 3:var D=3;break;default:D=f}var j=f;f=D;try{return _()}finally{f=j}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(_,D){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var j=f;f=_;try{return D()}finally{f=j}},t.unstable_scheduleCallback=function(_,D,j){var F=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?F+j:F):j=F,_){case 1:var at=-1;break;case 2:at=250;break;case 5:at=1073741823;break;case 4:at=1e4;break;default:at=5e3}return at=j+at,_={id:m++,callback:D,priorityLevel:_,startTime:j,expirationTime:at,sortIndex:-1},j>F?(_.sortIndex=j,e(u,_),a(c)===null&&_===a(u)&&(y?(h(z),z=-1):y=!0,st(T,j-F))):(_.sortIndex=at,e(c,_),v||d||(v=!0,M||(M=!0,P()))),_},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(_){var D=f;return function(){var j=f;f=D;try{return _.apply(this,arguments)}finally{f=j}}}})(ad);ed.exports=ad;var H0=ed.exports,nd={exports:{}},ce={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G0=L;function ld(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)e+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ya(){}var re={d:{f:ya,r:function(){throw Error(ld(522))},D:ya,C:ya,L:ya,m:ya,X:ya,S:ya,M:ya},p:0,findDOMNode:null},q0=Symbol.for("react.portal");function V0(t,e,a){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q0,key:n==null?null:""+n,children:t,containerInfo:e,implementation:a}}var zl=G0.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Gs(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}ce.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=re;ce.createPortal=function(t,e){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(ld(299));return V0(t,e,null,a)};ce.flushSync=function(t){var e=zl.T,a=re.p;try{if(zl.T=null,re.p=2,t)return t()}finally{zl.T=e,re.p=a,re.d.f()}};ce.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,re.d.C(t,e))};ce.prefetchDNS=function(t){typeof t=="string"&&re.d.D(t)};ce.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var a=e.as,n=Gs(a,e.crossOrigin),l=typeof e.integrity=="string"?e.integrity:void 0,i=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;a==="style"?re.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:n,integrity:l,fetchPriority:i}):a==="script"&&re.d.X(t,{crossOrigin:n,integrity:l,fetchPriority:i,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};ce.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var a=Gs(e.as,e.crossOrigin);re.d.M(t,{crossOrigin:a,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&re.d.M(t)};ce.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var a=e.as,n=Gs(a,e.crossOrigin);re.d.L(t,a,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};ce.preloadModule=function(t,e){if(typeof t=="string")if(e){var a=Gs(e.as,e.crossOrigin);re.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:a,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else re.d.m(t)};ce.requestFormReset=function(t){re.d.r(t)};ce.unstable_batchedUpdates=function(t,e){return t(e)};ce.useFormState=function(t,e,a){return zl.H.useFormState(t,e,a)};ce.useFormStatus=function(){return zl.H.useHostTransitionStatus()};ce.version="19.2.4";function id(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(id)}catch(t){console.error(t)}}id(),nd.exports=ce;var Y0=nd.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jt=H0,sd=L,X0=Y0;function A(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)e+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function rd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function si(t){var e=t,a=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(a=e.return),t=e.return;while(t)}return e.tag===3?a:null}function cd(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function od(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ou(t){if(si(t)!==t)throw Error(A(188))}function L0(t){var e=t.alternate;if(!e){if(e=si(t),e===null)throw Error(A(188));return e!==t?null:t}for(var a=t,n=e;;){var l=a.return;if(l===null)break;var i=l.alternate;if(i===null){if(n=l.return,n!==null){a=n;continue}break}if(l.child===i.child){for(i=l.child;i;){if(i===a)return ou(l),t;if(i===n)return ou(l),e;i=i.sibling}throw Error(A(188))}if(a.return!==n.return)a=l,n=i;else{for(var s=!1,r=l.child;r;){if(r===a){s=!0,a=l,n=i;break}if(r===n){s=!0,n=l,a=i;break}r=r.sibling}if(!s){for(r=i.child;r;){if(r===a){s=!0,a=i,n=l;break}if(r===n){s=!0,n=i,a=l;break}r=r.sibling}if(!s)throw Error(A(189))}}if(a.alternate!==n)throw Error(A(190))}if(a.tag!==3)throw Error(A(188));return a.stateNode.current===a?t:e}function ud(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=ud(t),e!==null)return e;t=t.sibling}return null}var Et=Object.assign,Q0=Symbol.for("react.element"),Si=Symbol.for("react.transitional.element"),Ml=Symbol.for("react.portal"),_n=Symbol.for("react.fragment"),fd=Symbol.for("react.strict_mode"),ec=Symbol.for("react.profiler"),dd=Symbol.for("react.consumer"),ia=Symbol.for("react.context"),io=Symbol.for("react.forward_ref"),ac=Symbol.for("react.suspense"),nc=Symbol.for("react.suspense_list"),so=Symbol.for("react.memo"),Sa=Symbol.for("react.lazy"),lc=Symbol.for("react.activity"),Z0=Symbol.for("react.memo_cache_sentinel"),uu=Symbol.iterator;function pl(t){return t===null||typeof t!="object"?null:(t=uu&&t[uu]||t["@@iterator"],typeof t=="function"?t:null)}var F0=Symbol.for("react.client.reference");function ic(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===F0?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _n:return"Fragment";case ec:return"Profiler";case fd:return"StrictMode";case ac:return"Suspense";case nc:return"SuspenseList";case lc:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Ml:return"Portal";case ia:return t.displayName||"Context";case dd:return(t._context.displayName||"Context")+".Consumer";case io:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case so:return e=t.displayName||null,e!==null?e:ic(t.type)||"Memo";case Sa:e=t._payload,t=t._init;try{return ic(t(e))}catch{}}return null}var Nl=Array.isArray,tt=sd.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,St=X0.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,an={pending:!1,data:null,method:null,action:null},sc=[],Cn=-1;function Fe(t){return{current:t}}function $t(t){0>Cn||(t.current=sc[Cn],sc[Cn]=null,Cn--)}function zt(t,e){Cn++,sc[Cn]=t.current,t.current=e}var Ze=Fe(null),Ql=Fe(null),Oa=Fe(null),ns=Fe(null);function ls(t,e){switch(zt(Oa,e),zt(Ql,t),zt(Ze,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?bf(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=bf(e),t=Om(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$t(Ze),zt(Ze,t)}function Jn(){$t(Ze),$t(Ql),$t(Oa)}function rc(t){t.memoizedState!==null&&zt(ns,t);var e=Ze.current,a=Om(e,t.type);e!==a&&(zt(Ql,t),zt(Ze,a))}function is(t){Ql.current===t&&($t(Ze),$t(Ql)),ns.current===t&&($t(ns),ai._currentValue=an)}var ur,fu;function Pa(t){if(ur===void 0)try{throw Error()}catch(a){var e=a.stack.trim().match(/\n( *(at )?)/);ur=e&&e[1]||"",fu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ur+t+fu}var fr=!1;function dr(t,e){if(!t||fr)return"";fr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(e){var g=function(){throw Error()};if(Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(d){var f=d}Reflect.construct(t,[],g)}else{try{g.call()}catch(d){f=d}t.call(g.prototype)}}else{try{throw Error()}catch(d){f=d}(g=t())&&typeof g.catch=="function"&&g.catch(function(){})}}catch(d){if(d&&f&&typeof d.stack=="string")return[d.stack,f.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=n.DetermineComponentFrameRoot(),s=i[0],r=i[1];if(s&&r){var c=s.split(`
`),u=r.split(`
`);for(l=n=0;n<c.length&&!c[n].includes("DetermineComponentFrameRoot");)n++;for(;l<u.length&&!u[l].includes("DetermineComponentFrameRoot");)l++;if(n===c.length||l===u.length)for(n=c.length-1,l=u.length-1;1<=n&&0<=l&&c[n]!==u[l];)l--;for(;1<=n&&0<=l;n--,l--)if(c[n]!==u[l]){if(n!==1||l!==1)do if(n--,l--,0>l||c[n]!==u[l]){var m=`
`+c[n].replace(" at new "," at ");return t.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",t.displayName)),m}while(1<=n&&0<=l);break}}}finally{fr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Pa(a):""}function K0(t,e){switch(t.tag){case 26:case 27:case 5:return Pa(t.type);case 16:return Pa("Lazy");case 13:return t.child!==e&&e!==null?Pa("Suspense Fallback"):Pa("Suspense");case 19:return Pa("SuspenseList");case 0:case 15:return dr(t.type,!1);case 11:return dr(t.type.render,!1);case 1:return dr(t.type,!0);case 31:return Pa("Activity");default:return""}}function du(t){try{var e="",a=null;do e+=K0(t,a),a=t,t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var cc=Object.prototype.hasOwnProperty,ro=Jt.unstable_scheduleCallback,hr=Jt.unstable_cancelCallback,J0=Jt.unstable_shouldYield,I0=Jt.unstable_requestPaint,Te=Jt.unstable_now,P0=Jt.unstable_getCurrentPriorityLevel,hd=Jt.unstable_ImmediatePriority,md=Jt.unstable_UserBlockingPriority,ss=Jt.unstable_NormalPriority,W0=Jt.unstable_LowPriority,gd=Jt.unstable_IdlePriority,$0=Jt.log,tg=Jt.unstable_setDisableYieldValue,ri=null,Me=null;function ka(t){if(typeof $0=="function"&&tg(t),Me&&typeof Me.setStrictMode=="function")try{Me.setStrictMode(ri,t)}catch{}}var Ne=Math.clz32?Math.clz32:ng,eg=Math.log,ag=Math.LN2;function ng(t){return t>>>=0,t===0?32:31-(eg(t)/ag|0)|0}var wi=256,Ti=262144,Mi=4194304;function Wa(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function qs(t,e,a){var n=t.pendingLanes;if(n===0)return 0;var l=0,i=t.suspendedLanes,s=t.pingedLanes;t=t.warmLanes;var r=n&134217727;return r!==0?(n=r&~i,n!==0?l=Wa(n):(s&=r,s!==0?l=Wa(s):a||(a=r&~t,a!==0&&(l=Wa(a))))):(r=n&~i,r!==0?l=Wa(r):s!==0?l=Wa(s):a||(a=n&~t,a!==0&&(l=Wa(a)))),l===0?0:e!==0&&e!==l&&!(e&i)&&(i=l&-l,a=e&-e,i>=a||i===32&&(a&4194048)!==0)?e:l}function ci(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function lg(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pd(){var t=Mi;return Mi<<=1,!(Mi&62914560)&&(Mi=4194304),t}function mr(t){for(var e=[],a=0;31>a;a++)e.push(t);return e}function oi(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ig(t,e,a,n,l,i){var s=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var r=t.entanglements,c=t.expirationTimes,u=t.hiddenUpdates;for(a=s&~a;0<a;){var m=31-Ne(a),g=1<<m;r[m]=0,c[m]=-1;var f=u[m];if(f!==null)for(u[m]=null,m=0;m<f.length;m++){var d=f[m];d!==null&&(d.lane&=-536870913)}a&=~g}n!==0&&bd(t,n,0),i!==0&&l===0&&t.tag!==0&&(t.suspendedLanes|=i&~(s&~e))}function bd(t,e,a){t.pendingLanes|=e,t.suspendedLanes&=~e;var n=31-Ne(e);t.entangledLanes|=e,t.entanglements[n]=t.entanglements[n]|1073741824|a&261930}function yd(t,e){var a=t.entangledLanes|=e;for(t=t.entanglements;a;){var n=31-Ne(a),l=1<<n;l&e|t[n]&e&&(t[n]|=e),a&=~l}}function vd(t,e){var a=e&-e;return a=a&42?1:co(a),a&(t.suspendedLanes|e)?0:a}function co(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function oo(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function xd(){var t=St.p;return t!==0?t:(t=window.event,t===void 0?32:Xm(t.type))}function hu(t,e){var a=St.p;try{return St.p=t,e()}finally{St.p=a}}var Za=Math.random().toString(36).slice(2),ae="__reactFiber$"+Za,ge="__reactProps$"+Za,rl="__reactContainer$"+Za,oc="__reactEvents$"+Za,sg="__reactListeners$"+Za,rg="__reactHandles$"+Za,mu="__reactResources$"+Za,ui="__reactMarker$"+Za;function uo(t){delete t[ae],delete t[ge],delete t[oc],delete t[sg],delete t[rg]}function On(t){var e=t[ae];if(e)return e;for(var a=t.parentNode;a;){if(e=a[rl]||a[ae]){if(a=e.alternate,e.child!==null||a!==null&&a.child!==null)for(t=wf(t);t!==null;){if(a=t[ae])return a;t=wf(t)}return e}t=a,a=t.parentNode}return null}function cl(t){if(t=t[ae]||t[rl]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function jl(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(A(33))}function Yn(t){var e=t[mu];return e||(e=t[mu]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Wt(t){t[ui]=!0}var Sd=new Set,wd={};function mn(t,e){In(t,e),In(t+"Capture",e)}function In(t,e){for(wd[t]=e,t=0;t<e.length;t++)Sd.add(e[t])}var cg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gu={},pu={};function og(t){return cc.call(pu,t)?!0:cc.call(gu,t)?!1:cg.test(t)?pu[t]=!0:(gu[t]=!0,!1)}function Yi(t,e,a){if(og(e))if(a===null)t.removeAttribute(e);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var n=e.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+a)}}function Ni(t,e,a){if(a===null)t.removeAttribute(e);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+a)}}function Pe(t,e,a,n){if(n===null)t.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(e,a,""+n)}}function _e(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Td(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ug(t,e,a){var n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return l.call(this)},set:function(s){a=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(s){a=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function uc(t){if(!t._valueTracker){var e=Td(t)?"checked":"value";t._valueTracker=ug(t,e,""+t[e])}}function Md(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var a=e.getValue(),n="";return t&&(n=Td(t)?t.checked?"true":"false":t.value),t=n,t!==a?(e.setValue(t),!0):!1}function rs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var fg=/[\n"\\]/g;function Ee(t){return t.replace(fg,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function fc(t,e,a,n,l,i,s,r){t.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.type=s:t.removeAttribute("type"),e!=null?s==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+_e(e)):t.value!==""+_e(e)&&(t.value=""+_e(e)):s!=="submit"&&s!=="reset"||t.removeAttribute("value"),e!=null?dc(t,s,_e(e)):a!=null?dc(t,s,_e(a)):n!=null&&t.removeAttribute("value"),l==null&&i!=null&&(t.defaultChecked=!!i),l!=null&&(t.checked=l&&typeof l!="function"&&typeof l!="symbol"),r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?t.name=""+_e(r):t.removeAttribute("name")}function Nd(t,e,a,n,l,i,s,r){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(t.type=i),e!=null||a!=null){if(!(i!=="submit"&&i!=="reset"||e!=null)){uc(t);return}a=a!=null?""+_e(a):"",e=e!=null?""+_e(e):a,r||e===t.value||(t.value=e),t.defaultValue=e}n=n??l,n=typeof n!="function"&&typeof n!="symbol"&&!!n,t.checked=r?t.checked:!!n,t.defaultChecked=!!n,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.name=s),uc(t)}function dc(t,e,a){e==="number"&&rs(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Xn(t,e,a,n){if(t=t.options,e){e={};for(var l=0;l<a.length;l++)e["$"+a[l]]=!0;for(a=0;a<t.length;a++)l=e.hasOwnProperty("$"+t[a].value),t[a].selected!==l&&(t[a].selected=l),l&&n&&(t[a].defaultSelected=!0)}else{for(a=""+_e(a),e=null,l=0;l<t.length;l++){if(t[l].value===a){t[l].selected=!0,n&&(t[l].defaultSelected=!0);return}e!==null||t[l].disabled||(e=t[l])}e!==null&&(e.selected=!0)}}function jd(t,e,a){if(e!=null&&(e=""+_e(e),e!==t.value&&(t.value=e),a==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=a!=null?""+_e(a):""}function kd(t,e,a,n){if(e==null){if(n!=null){if(a!=null)throw Error(A(92));if(Nl(n)){if(1<n.length)throw Error(A(93));n=n[0]}a=n}a==null&&(a=""),e=a}a=_e(e),t.defaultValue=a,n=t.textContent,n===a&&n!==""&&n!==null&&(t.value=n),uc(t)}function Pn(t,e){if(e){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=e;return}}t.textContent=e}var dg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bu(t,e,a){var n=e.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":n?t.setProperty(e,a):typeof a!="number"||a===0||dg.has(e)?e==="float"?t.cssFloat=a:t[e]=(""+a).trim():t[e]=a+"px"}function Ad(t,e,a){if(e!=null&&typeof e!="object")throw Error(A(62));if(t=t.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||e!=null&&e.hasOwnProperty(n)||(n.indexOf("--")===0?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="");for(var l in e)n=e[l],e.hasOwnProperty(l)&&a[l]!==n&&bu(t,l,n)}else for(var i in e)e.hasOwnProperty(i)&&bu(t,i,e[i])}function fo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xi(t){return mg.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function sa(){}var hc=null;function ho(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var En=null,Ln=null;function yu(t){var e=cl(t);if(e&&(t=e.stateNode)){var a=t[ge]||null;t:switch(t=e.stateNode,e.type){case"input":if(fc(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),e=a.name,a.type==="radio"&&e!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ee(""+e)+'"][type="radio"]'),e=0;e<a.length;e++){var n=a[e];if(n!==t&&n.form===t.form){var l=n[ge]||null;if(!l)throw Error(A(90));fc(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(e=0;e<a.length;e++)n=a[e],n.form===t.form&&Md(n)}break t;case"textarea":jd(t,a.value,a.defaultValue);break t;case"select":e=a.value,e!=null&&Xn(t,!!a.multiple,e,!1)}}}var gr=!1;function zd(t,e,a){if(gr)return t(e,a);gr=!0;try{var n=t(e);return n}finally{if(gr=!1,(En!==null||Ln!==null)&&(Ws(),En&&(e=En,t=Ln,Ln=En=null,yu(e),t)))for(e=0;e<t.length;e++)yu(t[e])}}function Zl(t,e){var a=t.stateNode;if(a===null)return null;var n=a[ge]||null;if(n===null)return null;a=n[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(A(231,e,typeof a));return a}var fa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mc=!1;if(fa)try{var bl={};Object.defineProperty(bl,"passive",{get:function(){mc=!0}}),window.addEventListener("test",bl,bl),window.removeEventListener("test",bl,bl)}catch{mc=!1}var Aa=null,mo=null,Li=null;function _d(){if(Li)return Li;var t,e=mo,a=e.length,n,l="value"in Aa?Aa.value:Aa.textContent,i=l.length;for(t=0;t<a&&e[t]===l[t];t++);var s=a-t;for(n=1;n<=s&&e[a-n]===l[i-n];n++);return Li=l.slice(t,1<n?1-n:void 0)}function Qi(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ji(){return!0}function vu(){return!1}function pe(t){function e(a,n,l,i,s){this._reactName=a,this._targetInst=l,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var r in t)t.hasOwnProperty(r)&&(a=t[r],this[r]=a?a(i):i[r]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ji:vu,this.isPropagationStopped=vu,this}return Et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ji)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ji)},persist:function(){},isPersistent:ji}),e}var gn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vs=pe(gn),fi=Et({},gn,{view:0,detail:0}),gg=pe(fi),pr,br,yl,Ys=Et({},fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:go,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yl&&(yl&&t.type==="mousemove"?(pr=t.screenX-yl.screenX,br=t.screenY-yl.screenY):br=pr=0,yl=t),pr)},movementY:function(t){return"movementY"in t?t.movementY:br}}),xu=pe(Ys),pg=Et({},Ys,{dataTransfer:0}),bg=pe(pg),yg=Et({},fi,{relatedTarget:0}),yr=pe(yg),vg=Et({},gn,{animationName:0,elapsedTime:0,pseudoElement:0}),xg=pe(vg),Sg=Et({},gn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wg=pe(Sg),Tg=Et({},gn,{data:0}),Su=pe(Tg),Mg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ng={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kg(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=jg[t])?!!e[t]:!1}function go(){return kg}var Ag=Et({},fi,{key:function(t){if(t.key){var e=Mg[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ng[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:go,charCode:function(t){return t.type==="keypress"?Qi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zg=pe(Ag),_g=Et({},Ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wu=pe(_g),Cg=Et({},fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:go}),Og=pe(Cg),Eg=Et({},gn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dg=pe(Eg),Ug=Et({},Ys,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Rg=pe(Ug),Bg=Et({},gn,{newState:0,oldState:0}),Hg=pe(Bg),Gg=[9,13,27,32],po=fa&&"CompositionEvent"in window,_l=null;fa&&"documentMode"in document&&(_l=document.documentMode);var qg=fa&&"TextEvent"in window&&!_l,Cd=fa&&(!po||_l&&8<_l&&11>=_l),Tu=" ",Mu=!1;function Od(t,e){switch(t){case"keyup":return Gg.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ed(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Dn=!1;function Vg(t,e){switch(t){case"compositionend":return Ed(e);case"keypress":return e.which!==32?null:(Mu=!0,Tu);case"textInput":return t=e.data,t===Tu&&Mu?null:t;default:return null}}function Yg(t,e){if(Dn)return t==="compositionend"||!po&&Od(t,e)?(t=_d(),Li=mo=Aa=null,Dn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Cd&&e.locale!=="ko"?null:e.data;default:return null}}var Xg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Xg[t.type]:e==="textarea"}function Dd(t,e,a,n){En?Ln?Ln.push(n):Ln=[n]:En=n,e=Ns(e,"onChange"),0<e.length&&(a=new Vs("onChange","change",null,a,n),t.push({event:a,listeners:e}))}var Cl=null,Fl=null;function Lg(t){zm(t,0)}function Xs(t){var e=jl(t);if(Md(e))return t}function ju(t,e){if(t==="change")return e}var Ud=!1;if(fa){var vr;if(fa){var xr="oninput"in document;if(!xr){var ku=document.createElement("div");ku.setAttribute("oninput","return;"),xr=typeof ku.oninput=="function"}vr=xr}else vr=!1;Ud=vr&&(!document.documentMode||9<document.documentMode)}function Au(){Cl&&(Cl.detachEvent("onpropertychange",Rd),Fl=Cl=null)}function Rd(t){if(t.propertyName==="value"&&Xs(Fl)){var e=[];Dd(e,Fl,t,ho(t)),zd(Lg,e)}}function Qg(t,e,a){t==="focusin"?(Au(),Cl=e,Fl=a,Cl.attachEvent("onpropertychange",Rd)):t==="focusout"&&Au()}function Zg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xs(Fl)}function Fg(t,e){if(t==="click")return Xs(e)}function Kg(t,e){if(t==="input"||t==="change")return Xs(e)}function Jg(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ke=typeof Object.is=="function"?Object.is:Jg;function Kl(t,e){if(ke(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var a=Object.keys(t),n=Object.keys(e);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var l=a[n];if(!cc.call(e,l)||!ke(t[l],e[l]))return!1}return!0}function zu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _u(t,e){var a=zu(t);t=0;for(var n;a;){if(a.nodeType===3){if(n=t+a.textContent.length,t<=e&&n>=e)return{node:a,offset:e-t};t=n}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=zu(a)}}function Bd(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Bd(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Hd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=rs(t.document);e instanceof t.HTMLIFrameElement;){try{var a=typeof e.contentWindow.location.href=="string"}catch{a=!1}if(a)t=e.contentWindow;else break;e=rs(t.document)}return e}function bo(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Ig=fa&&"documentMode"in document&&11>=document.documentMode,Un=null,gc=null,Ol=null,pc=!1;function Cu(t,e,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;pc||Un==null||Un!==rs(n)||(n=Un,"selectionStart"in n&&bo(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ol&&Kl(Ol,n)||(Ol=n,n=Ns(gc,"onSelect"),0<n.length&&(e=new Vs("onSelect","select",null,e,a),t.push({event:e,listeners:n}),e.target=Un)))}function Ka(t,e){var a={};return a[t.toLowerCase()]=e.toLowerCase(),a["Webkit"+t]="webkit"+e,a["Moz"+t]="moz"+e,a}var Rn={animationend:Ka("Animation","AnimationEnd"),animationiteration:Ka("Animation","AnimationIteration"),animationstart:Ka("Animation","AnimationStart"),transitionrun:Ka("Transition","TransitionRun"),transitionstart:Ka("Transition","TransitionStart"),transitioncancel:Ka("Transition","TransitionCancel"),transitionend:Ka("Transition","TransitionEnd")},Sr={},Gd={};fa&&(Gd=document.createElement("div").style,"AnimationEvent"in window||(delete Rn.animationend.animation,delete Rn.animationiteration.animation,delete Rn.animationstart.animation),"TransitionEvent"in window||delete Rn.transitionend.transition);function pn(t){if(Sr[t])return Sr[t];if(!Rn[t])return t;var e=Rn[t],a;for(a in e)if(e.hasOwnProperty(a)&&a in Gd)return Sr[t]=e[a];return t}var qd=pn("animationend"),Vd=pn("animationiteration"),Yd=pn("animationstart"),Pg=pn("transitionrun"),Wg=pn("transitionstart"),$g=pn("transitioncancel"),Xd=pn("transitionend"),Ld=new Map,bc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bc.push("scrollEnd");function Ye(t,e){Ld.set(t,e),mn(e,[t])}var cs=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ze=[],Bn=0,yo=0;function Ls(){for(var t=Bn,e=yo=Bn=0;e<t;){var a=ze[e];ze[e++]=null;var n=ze[e];ze[e++]=null;var l=ze[e];ze[e++]=null;var i=ze[e];if(ze[e++]=null,n!==null&&l!==null){var s=n.pending;s===null?l.next=l:(l.next=s.next,s.next=l),n.pending=l}i!==0&&Qd(a,l,i)}}function Qs(t,e,a,n){ze[Bn++]=t,ze[Bn++]=e,ze[Bn++]=a,ze[Bn++]=n,yo|=n,t.lanes|=n,t=t.alternate,t!==null&&(t.lanes|=n)}function vo(t,e,a,n){return Qs(t,e,a,n),os(t)}function bn(t,e){return Qs(t,null,null,e),os(t)}function Qd(t,e,a){t.lanes|=a;var n=t.alternate;n!==null&&(n.lanes|=a);for(var l=!1,i=t.return;i!==null;)i.childLanes|=a,n=i.alternate,n!==null&&(n.childLanes|=a),i.tag===22&&(t=i.stateNode,t===null||t._visibility&1||(l=!0)),t=i,i=i.return;return t.tag===3?(i=t.stateNode,l&&e!==null&&(l=31-Ne(a),t=i.hiddenUpdates,n=t[l],n===null?t[l]=[e]:n.push(e),e.lane=a|536870912),i):null}function os(t){if(50<Vl)throw Vl=0,Hc=null,Error(A(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Hn={};function tp(t,e,a,n){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Se(t,e,a,n){return new tp(t,e,a,n)}function xo(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ca(t,e){var a=t.alternate;return a===null?(a=Se(t.tag,e,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=e,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,e=t.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Zd(t,e){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,e=a.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Zi(t,e,a,n,l,i){var s=0;if(n=t,typeof t=="function")xo(t)&&(s=1);else if(typeof t=="string")s=ib(t,a,Ze.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case lc:return t=Se(31,a,e,l),t.elementType=lc,t.lanes=i,t;case _n:return nn(a.children,l,i,e);case fd:s=8,l|=24;break;case ec:return t=Se(12,a,e,l|2),t.elementType=ec,t.lanes=i,t;case ac:return t=Se(13,a,e,l),t.elementType=ac,t.lanes=i,t;case nc:return t=Se(19,a,e,l),t.elementType=nc,t.lanes=i,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ia:s=10;break t;case dd:s=9;break t;case io:s=11;break t;case so:s=14;break t;case Sa:s=16,n=null;break t}s=29,a=Error(A(130,t===null?"null":typeof t,"")),n=null}return e=Se(s,a,e,l),e.elementType=t,e.type=n,e.lanes=i,e}function nn(t,e,a,n){return t=Se(7,t,n,e),t.lanes=a,t}function wr(t,e,a){return t=Se(6,t,null,e),t.lanes=a,t}function Fd(t){var e=Se(18,null,null,0);return e.stateNode=t,e}function Tr(t,e,a){return e=Se(4,t.children!==null?t.children:[],t.key,e),e.lanes=a,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Ou=new WeakMap;function De(t,e){if(typeof t=="object"&&t!==null){var a=Ou.get(t);return a!==void 0?a:(e={value:t,source:e,stack:du(e)},Ou.set(t,e),e)}return{value:t,source:e,stack:du(e)}}var Gn=[],qn=0,us=null,Jl=0,Ce=[],Oe=0,Ya=null,Xe=1,Le="";function na(t,e){Gn[qn++]=Jl,Gn[qn++]=us,us=t,Jl=e}function Kd(t,e,a){Ce[Oe++]=Xe,Ce[Oe++]=Le,Ce[Oe++]=Ya,Ya=t;var n=Xe;t=Le;var l=32-Ne(n)-1;n&=~(1<<l),a+=1;var i=32-Ne(e)+l;if(30<i){var s=l-l%5;i=(n&(1<<s)-1).toString(32),n>>=s,l-=s,Xe=1<<32-Ne(e)+l|a<<l|n,Le=i+t}else Xe=1<<i|a<<l|n,Le=t}function So(t){t.return!==null&&(na(t,1),Kd(t,1,0))}function wo(t){for(;t===us;)us=Gn[--qn],Gn[qn]=null,Jl=Gn[--qn],Gn[qn]=null;for(;t===Ya;)Ya=Ce[--Oe],Ce[Oe]=null,Le=Ce[--Oe],Ce[Oe]=null,Xe=Ce[--Oe],Ce[Oe]=null}function Jd(t,e){Ce[Oe++]=Xe,Ce[Oe++]=Le,Ce[Oe++]=Ya,Xe=e.id,Le=e.overflow,Ya=t}var ne=null,Ct=null,pt=!1,Ea=null,Ue=!1,yc=Error(A(519));function Xa(t){var e=Error(A(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Il(De(e,t)),yc}function Eu(t){var e=t.stateNode,a=t.type,n=t.memoizedProps;switch(e[ae]=t,e[ge]=n,a){case"dialog":ft("cancel",e),ft("close",e);break;case"iframe":case"object":case"embed":ft("load",e);break;case"video":case"audio":for(a=0;a<ti.length;a++)ft(ti[a],e);break;case"source":ft("error",e);break;case"img":case"image":case"link":ft("error",e),ft("load",e);break;case"details":ft("toggle",e);break;case"input":ft("invalid",e),Nd(e,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":ft("invalid",e);break;case"textarea":ft("invalid",e),kd(e,n.value,n.defaultValue,n.children)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||e.textContent===""+a||n.suppressHydrationWarning===!0||Cm(e.textContent,a)?(n.popover!=null&&(ft("beforetoggle",e),ft("toggle",e)),n.onScroll!=null&&ft("scroll",e),n.onScrollEnd!=null&&ft("scrollend",e),n.onClick!=null&&(e.onclick=sa),e=!0):e=!1,e||Xa(t,!0)}function Du(t){for(ne=t.return;ne;)switch(ne.tag){case 5:case 31:case 13:Ue=!1;return;case 27:case 3:Ue=!0;return;default:ne=ne.return}}function xn(t){if(t!==ne)return!1;if(!pt)return Du(t),pt=!0,!1;var e=t.tag,a;if((a=e!==3&&e!==27)&&((a=e===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Xc(t.type,t.memoizedProps)),a=!a),a&&Ct&&Xa(t),Du(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(A(317));Ct=Sf(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(A(317));Ct=Sf(t)}else e===27?(e=Ct,Fa(t.type)?(t=Fc,Fc=null,Ct=t):Ct=e):Ct=ne?Be(t.stateNode.nextSibling):null;return!0}function cn(){Ct=ne=null,pt=!1}function Mr(){var t=Ea;return t!==null&&(he===null?he=t:he.push.apply(he,t),Ea=null),t}function Il(t){Ea===null?Ea=[t]:Ea.push(t)}var vc=Fe(null),yn=null,ra=null;function Ta(t,e,a){zt(vc,e._currentValue),e._currentValue=a}function oa(t){t._currentValue=vc.current,$t(vc)}function xc(t,e,a){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===a)break;t=t.return}}function Sc(t,e,a,n){var l=t.child;for(l!==null&&(l.return=t);l!==null;){var i=l.dependencies;if(i!==null){var s=l.child;i=i.firstContext;t:for(;i!==null;){var r=i;i=l;for(var c=0;c<e.length;c++)if(r.context===e[c]){i.lanes|=a,r=i.alternate,r!==null&&(r.lanes|=a),xc(i.return,a,t),n||(s=null);break t}i=r.next}}else if(l.tag===18){if(s=l.return,s===null)throw Error(A(341));s.lanes|=a,i=s.alternate,i!==null&&(i.lanes|=a),xc(s,a,t),s=null}else s=l.child;if(s!==null)s.return=l;else for(s=l;s!==null;){if(s===t){s=null;break}if(l=s.sibling,l!==null){l.return=s.return,s=l;break}s=s.return}l=s}}function ol(t,e,a,n){t=null;for(var l=e,i=!1;l!==null;){if(!i){if(l.flags&524288)i=!0;else if(l.flags&262144)break}if(l.tag===10){var s=l.alternate;if(s===null)throw Error(A(387));if(s=s.memoizedProps,s!==null){var r=l.type;ke(l.pendingProps.value,s.value)||(t!==null?t.push(r):t=[r])}}else if(l===ns.current){if(s=l.alternate,s===null)throw Error(A(387));s.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(t!==null?t.push(ai):t=[ai])}l=l.return}t!==null&&Sc(e,t,a,n),e.flags|=262144}function fs(t){for(t=t.firstContext;t!==null;){if(!ke(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function on(t){yn=t,ra=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function le(t){return Id(yn,t)}function ki(t,e){return yn===null&&on(t),Id(t,e)}function Id(t,e){var a=e._currentValue;if(e={context:e,memoizedValue:a,next:null},ra===null){if(t===null)throw Error(A(308));ra=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else ra=ra.next=e;return a}var ep=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(a,n){t.push(n)}};this.abort=function(){e.aborted=!0,t.forEach(function(a){return a()})}},ap=Jt.unstable_scheduleCallback,np=Jt.unstable_NormalPriority,Qt={$$typeof:ia,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function To(){return{controller:new ep,data:new Map,refCount:0}}function di(t){t.refCount--,t.refCount===0&&ap(np,function(){t.controller.abort()})}var El=null,wc=0,Wn=0,Qn=null;function lp(t,e){if(El===null){var a=El=[];wc=0,Wn=Ko(),Qn={status:"pending",value:void 0,then:function(n){a.push(n)}}}return wc++,e.then(Uu,Uu),e}function Uu(){if(--wc===0&&El!==null){Qn!==null&&(Qn.status="fulfilled");var t=El;El=null,Wn=0,Qn=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function ip(t,e){var a=[],n={status:"pending",value:null,reason:null,then:function(l){a.push(l)}};return t.then(function(){n.status="fulfilled",n.value=e;for(var l=0;l<a.length;l++)(0,a[l])(e)},function(l){for(n.status="rejected",n.reason=l,l=0;l<a.length;l++)(0,a[l])(void 0)}),n}var Ru=tt.S;tt.S=function(t,e){um=Te(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&lp(t,e),Ru!==null&&Ru(t,e)};var ln=Fe(null);function Mo(){var t=ln.current;return t!==null?t:At.pooledCache}function Fi(t,e){e===null?zt(ln,ln.current):zt(ln,e.pool)}function Pd(){var t=Mo();return t===null?null:{parent:Qt._currentValue,pool:t}}var ul=Error(A(460)),No=Error(A(474)),Zs=Error(A(542)),ds={then:function(){}};function Bu(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Wd(t,e,a){switch(a=t[a],a===void 0?t.push(e):a!==e&&(e.then(sa,sa),e=a),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Gu(t),t;default:if(typeof e.status=="string")e.then(sa,sa);else{if(t=At,t!==null&&100<t.shellSuspendCounter)throw Error(A(482));t=e,t.status="pending",t.then(function(n){if(e.status==="pending"){var l=e;l.status="fulfilled",l.value=n}},function(n){if(e.status==="pending"){var l=e;l.status="rejected",l.reason=n}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Gu(t),t}throw sn=e,ul}}function $a(t){try{var e=t._init;return e(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(sn=a,ul):a}}var sn=null;function Hu(){if(sn===null)throw Error(A(459));var t=sn;return sn=null,t}function Gu(t){if(t===ul||t===Zs)throw Error(A(483))}var Zn=null,Pl=0;function Ai(t){var e=Pl;return Pl+=1,Zn===null&&(Zn=[]),Wd(Zn,t,e)}function vl(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function zi(t,e){throw e.$$typeof===Q0?Error(A(525)):(t=Object.prototype.toString.call(e),Error(A(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function $d(t){function e(p,h){if(t){var b=p.deletions;b===null?(p.deletions=[h],p.flags|=16):b.push(h)}}function a(p,h){if(!t)return null;for(;h!==null;)e(p,h),h=h.sibling;return null}function n(p){for(var h=new Map;p!==null;)p.key!==null?h.set(p.key,p):h.set(p.index,p),p=p.sibling;return h}function l(p,h){return p=ca(p,h),p.index=0,p.sibling=null,p}function i(p,h,b){return p.index=b,t?(b=p.alternate,b!==null?(b=b.index,b<h?(p.flags|=67108866,h):b):(p.flags|=67108866,h)):(p.flags|=1048576,h)}function s(p){return t&&p.alternate===null&&(p.flags|=67108866),p}function r(p,h,b,x){return h===null||h.tag!==6?(h=wr(b,p.mode,x),h.return=p,h):(h=l(h,b),h.return=p,h)}function c(p,h,b,x){var T=b.type;return T===_n?m(p,h,b.props.children,x,b.key):h!==null&&(h.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Sa&&$a(T)===h.type)?(h=l(h,b.props),vl(h,b),h.return=p,h):(h=Zi(b.type,b.key,b.props,null,p.mode,x),vl(h,b),h.return=p,h)}function u(p,h,b,x){return h===null||h.tag!==4||h.stateNode.containerInfo!==b.containerInfo||h.stateNode.implementation!==b.implementation?(h=Tr(b,p.mode,x),h.return=p,h):(h=l(h,b.children||[]),h.return=p,h)}function m(p,h,b,x,T){return h===null||h.tag!==7?(h=nn(b,p.mode,x,T),h.return=p,h):(h=l(h,b),h.return=p,h)}function g(p,h,b){if(typeof h=="string"&&h!==""||typeof h=="number"||typeof h=="bigint")return h=wr(""+h,p.mode,b),h.return=p,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Si:return b=Zi(h.type,h.key,h.props,null,p.mode,b),vl(b,h),b.return=p,b;case Ml:return h=Tr(h,p.mode,b),h.return=p,h;case Sa:return h=$a(h),g(p,h,b)}if(Nl(h)||pl(h))return h=nn(h,p.mode,b,null),h.return=p,h;if(typeof h.then=="function")return g(p,Ai(h),b);if(h.$$typeof===ia)return g(p,ki(p,h),b);zi(p,h)}return null}function f(p,h,b,x){var T=h!==null?h.key:null;if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return T!==null?null:r(p,h,""+b,x);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Si:return b.key===T?c(p,h,b,x):null;case Ml:return b.key===T?u(p,h,b,x):null;case Sa:return b=$a(b),f(p,h,b,x)}if(Nl(b)||pl(b))return T!==null?null:m(p,h,b,x,null);if(typeof b.then=="function")return f(p,h,Ai(b),x);if(b.$$typeof===ia)return f(p,h,ki(p,b),x);zi(p,b)}return null}function d(p,h,b,x,T){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return p=p.get(b)||null,r(h,p,""+x,T);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Si:return p=p.get(x.key===null?b:x.key)||null,c(h,p,x,T);case Ml:return p=p.get(x.key===null?b:x.key)||null,u(h,p,x,T);case Sa:return x=$a(x),d(p,h,b,x,T)}if(Nl(x)||pl(x))return p=p.get(b)||null,m(h,p,x,T,null);if(typeof x.then=="function")return d(p,h,b,Ai(x),T);if(x.$$typeof===ia)return d(p,h,b,ki(h,x),T);zi(h,x)}return null}function v(p,h,b,x){for(var T=null,M=null,z=h,S=h=0,N=null;z!==null&&S<b.length;S++){z.index>S?(N=z,z=null):N=z.sibling;var O=f(p,z,b[S],x);if(O===null){z===null&&(z=N);break}t&&z&&O.alternate===null&&e(p,z),h=i(O,h,S),M===null?T=O:M.sibling=O,M=O,z=N}if(S===b.length)return a(p,z),pt&&na(p,S),T;if(z===null){for(;S<b.length;S++)z=g(p,b[S],x),z!==null&&(h=i(z,h,S),M===null?T=z:M.sibling=z,M=z);return pt&&na(p,S),T}for(z=n(z);S<b.length;S++)N=d(z,p,S,b[S],x),N!==null&&(t&&N.alternate!==null&&z.delete(N.key===null?S:N.key),h=i(N,h,S),M===null?T=N:M.sibling=N,M=N);return t&&z.forEach(function(E){return e(p,E)}),pt&&na(p,S),T}function y(p,h,b,x){if(b==null)throw Error(A(151));for(var T=null,M=null,z=h,S=h=0,N=null,O=b.next();z!==null&&!O.done;S++,O=b.next()){z.index>S?(N=z,z=null):N=z.sibling;var E=f(p,z,O.value,x);if(E===null){z===null&&(z=N);break}t&&z&&E.alternate===null&&e(p,z),h=i(E,h,S),M===null?T=E:M.sibling=E,M=E,z=N}if(O.done)return a(p,z),pt&&na(p,S),T;if(z===null){for(;!O.done;S++,O=b.next())O=g(p,O.value,x),O!==null&&(h=i(O,h,S),M===null?T=O:M.sibling=O,M=O);return pt&&na(p,S),T}for(z=n(z);!O.done;S++,O=b.next())O=d(z,p,S,O.value,x),O!==null&&(t&&O.alternate!==null&&z.delete(O.key===null?S:O.key),h=i(O,h,S),M===null?T=O:M.sibling=O,M=O);return t&&z.forEach(function(P){return e(p,P)}),pt&&na(p,S),T}function w(p,h,b,x){if(typeof b=="object"&&b!==null&&b.type===_n&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Si:t:{for(var T=b.key;h!==null;){if(h.key===T){if(T=b.type,T===_n){if(h.tag===7){a(p,h.sibling),x=l(h,b.props.children),x.return=p,p=x;break t}}else if(h.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Sa&&$a(T)===h.type){a(p,h.sibling),x=l(h,b.props),vl(x,b),x.return=p,p=x;break t}a(p,h);break}else e(p,h);h=h.sibling}b.type===_n?(x=nn(b.props.children,p.mode,x,b.key),x.return=p,p=x):(x=Zi(b.type,b.key,b.props,null,p.mode,x),vl(x,b),x.return=p,p=x)}return s(p);case Ml:t:{for(T=b.key;h!==null;){if(h.key===T)if(h.tag===4&&h.stateNode.containerInfo===b.containerInfo&&h.stateNode.implementation===b.implementation){a(p,h.sibling),x=l(h,b.children||[]),x.return=p,p=x;break t}else{a(p,h);break}else e(p,h);h=h.sibling}x=Tr(b,p.mode,x),x.return=p,p=x}return s(p);case Sa:return b=$a(b),w(p,h,b,x)}if(Nl(b))return v(p,h,b,x);if(pl(b)){if(T=pl(b),typeof T!="function")throw Error(A(150));return b=T.call(b),y(p,h,b,x)}if(typeof b.then=="function")return w(p,h,Ai(b),x);if(b.$$typeof===ia)return w(p,h,ki(p,b),x);zi(p,b)}return typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint"?(b=""+b,h!==null&&h.tag===6?(a(p,h.sibling),x=l(h,b),x.return=p,p=x):(a(p,h),x=wr(b,p.mode,x),x.return=p,p=x),s(p)):a(p,h)}return function(p,h,b,x){try{Pl=0;var T=w(p,h,b,x);return Zn=null,T}catch(z){if(z===ul||z===Zs)throw z;var M=Se(29,z,null,p.mode);return M.lanes=x,M.return=p,M}finally{}}}var un=$d(!0),th=$d(!1),wa=!1;function jo(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tc(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Da(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ua(t,e,a){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,xt&2){var l=n.pending;return l===null?e.next=e:(e.next=l.next,l.next=e),n.pending=e,e=os(t),Qd(t,null,a),e}return Qs(t,n,e,a),os(t)}function Dl(t,e,a){if(e=e.updateQueue,e!==null&&(e=e.shared,(a&4194048)!==0)){var n=e.lanes;n&=t.pendingLanes,a|=n,e.lanes=a,yd(t,a)}}function Nr(t,e){var a=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var l=null,i=null;if(a=a.firstBaseUpdate,a!==null){do{var s={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};i===null?l=i=s:i=i.next=s,a=a.next}while(a!==null);i===null?l=i=e:i=i.next=e}else l=i=e;a={baseState:n.baseState,firstBaseUpdate:l,lastBaseUpdate:i,shared:n.shared,callbacks:n.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=e:t.next=e,a.lastBaseUpdate=e}var Mc=!1;function Ul(){if(Mc){var t=Qn;if(t!==null)throw t}}function Rl(t,e,a,n){Mc=!1;var l=t.updateQueue;wa=!1;var i=l.firstBaseUpdate,s=l.lastBaseUpdate,r=l.shared.pending;if(r!==null){l.shared.pending=null;var c=r,u=c.next;c.next=null,s===null?i=u:s.next=u,s=c;var m=t.alternate;m!==null&&(m=m.updateQueue,r=m.lastBaseUpdate,r!==s&&(r===null?m.firstBaseUpdate=u:r.next=u,m.lastBaseUpdate=c))}if(i!==null){var g=l.baseState;s=0,m=u=c=null,r=i;do{var f=r.lane&-536870913,d=f!==r.lane;if(d?(ht&f)===f:(n&f)===f){f!==0&&f===Wn&&(Mc=!0),m!==null&&(m=m.next={lane:0,tag:r.tag,payload:r.payload,callback:null,next:null});t:{var v=t,y=r;f=e;var w=a;switch(y.tag){case 1:if(v=y.payload,typeof v=="function"){g=v.call(w,g,f);break t}g=v;break t;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,f=typeof v=="function"?v.call(w,g,f):v,f==null)break t;g=Et({},g,f);break t;case 2:wa=!0}}f=r.callback,f!==null&&(t.flags|=64,d&&(t.flags|=8192),d=l.callbacks,d===null?l.callbacks=[f]:d.push(f))}else d={lane:f,tag:r.tag,payload:r.payload,callback:r.callback,next:null},m===null?(u=m=d,c=g):m=m.next=d,s|=f;if(r=r.next,r===null){if(r=l.shared.pending,r===null)break;d=r,r=d.next,d.next=null,l.lastBaseUpdate=d,l.shared.pending=null}}while(!0);m===null&&(c=g),l.baseState=c,l.firstBaseUpdate=u,l.lastBaseUpdate=m,i===null&&(l.shared.lanes=0),Qa|=s,t.lanes=s,t.memoizedState=g}}function eh(t,e){if(typeof t!="function")throw Error(A(191,t));t.call(e)}function ah(t,e){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)eh(a[t],e)}var $n=Fe(null),hs=Fe(0);function qu(t,e){t=ga,zt(hs,t),zt($n,e),ga=t|e.baseLanes}function Nc(){zt(hs,ga),zt($n,$n.current)}function ko(){ga=hs.current,$t($n),$t(hs)}var Ae=Fe(null),Re=null;function Ma(t){var e=t.alternate;zt(qt,qt.current&1),zt(Ae,t),Re===null&&(e===null||$n.current!==null||e.memoizedState!==null)&&(Re=t)}function jc(t){zt(qt,qt.current),zt(Ae,t),Re===null&&(Re=t)}function nh(t){t.tag===22?(zt(qt,qt.current),zt(Ae,t),Re===null&&(Re=t)):Na()}function Na(){zt(qt,qt.current),zt(Ae,Ae.current)}function xe(t){$t(Ae),Re===t&&(Re=null),$t(qt)}var qt=Fe(0);function ms(t){for(var e=t;e!==null;){if(e.tag===13){var a=e.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Qc(a)||Zc(a)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var da=0,lt=null,kt=null,Xt=null,gs=!1,Fn=!1,fn=!1,ps=0,Wl=0,Kn=null,sp=0;function Ht(){throw Error(A(321))}function Ao(t,e){if(e===null)return!1;for(var a=0;a<e.length&&a<t.length;a++)if(!ke(t[a],e[a]))return!1;return!0}function zo(t,e,a,n,l,i){return da=i,lt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,tt.H=t===null||t.memoizedState===null?Dh:qo,fn=!1,i=a(n,l),fn=!1,Fn&&(i=ih(e,a,n,l)),lh(t),i}function lh(t){tt.H=$l;var e=kt!==null&&kt.next!==null;if(da=0,Xt=kt=lt=null,gs=!1,Wl=0,Kn=null,e)throw Error(A(300));t===null||Zt||(t=t.dependencies,t!==null&&fs(t)&&(Zt=!0))}function ih(t,e,a,n){lt=t;var l=0;do{if(Fn&&(Kn=null),Wl=0,Fn=!1,25<=l)throw Error(A(301));if(l+=1,Xt=kt=null,t.updateQueue!=null){var i=t.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}tt.H=Uh,i=e(a,n)}while(Fn);return i}function rp(){var t=tt.H,e=t.useState()[0];return e=typeof e.then=="function"?hi(e):e,t=t.useState()[0],(kt!==null?kt.memoizedState:null)!==t&&(lt.flags|=1024),e}function _o(){var t=ps!==0;return ps=0,t}function Co(t,e,a){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a}function Oo(t){if(gs){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}gs=!1}da=0,Xt=kt=lt=null,Fn=!1,Wl=ps=0,Kn=null}function se(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?lt.memoizedState=Xt=t:Xt=Xt.next=t,Xt}function Vt(){if(kt===null){var t=lt.alternate;t=t!==null?t.memoizedState:null}else t=kt.next;var e=Xt===null?lt.memoizedState:Xt.next;if(e!==null)Xt=e,kt=t;else{if(t===null)throw lt.alternate===null?Error(A(467)):Error(A(310));kt=t,t={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Xt===null?lt.memoizedState=Xt=t:Xt=Xt.next=t}return Xt}function Fs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hi(t){var e=Wl;return Wl+=1,Kn===null&&(Kn=[]),t=Wd(Kn,t,e),e=lt,(Xt===null?e.memoizedState:Xt.next)===null&&(e=e.alternate,tt.H=e===null||e.memoizedState===null?Dh:qo),t}function Ks(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return hi(t);if(t.$$typeof===ia)return le(t)}throw Error(A(438,String(t)))}function Eo(t){var e=null,a=lt.updateQueue;if(a!==null&&(e=a.memoCache),e==null){var n=lt.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(e={data:n.data.map(function(l){return l.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),a===null&&(a=Fs(),lt.updateQueue=a),a.memoCache=e,a=e.data[e.index],a===void 0)for(a=e.data[e.index]=Array(t),n=0;n<t;n++)a[n]=Z0;return e.index++,a}function ha(t,e){return typeof e=="function"?e(t):e}function Ki(t){var e=Vt();return Do(e,kt,t)}function Do(t,e,a){var n=t.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=a;var l=t.baseQueue,i=n.pending;if(i!==null){if(l!==null){var s=l.next;l.next=i.next,i.next=s}e.baseQueue=l=i,n.pending=null}if(i=t.baseState,l===null)t.memoizedState=i;else{e=l.next;var r=s=null,c=null,u=e,m=!1;do{var g=u.lane&-536870913;if(g!==u.lane?(ht&g)===g:(da&g)===g){var f=u.revertLane;if(f===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),g===Wn&&(m=!0);else if((da&f)===f){u=u.next,f===Wn&&(m=!0);continue}else g={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(r=c=g,s=i):c=c.next=g,lt.lanes|=f,Qa|=f;g=u.action,fn&&a(i,g),i=u.hasEagerState?u.eagerState:a(i,g)}else f={lane:g,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(r=c=f,s=i):c=c.next=f,lt.lanes|=g,Qa|=g;u=u.next}while(u!==null&&u!==e);if(c===null?s=i:c.next=r,!ke(i,t.memoizedState)&&(Zt=!0,m&&(a=Qn,a!==null)))throw a;t.memoizedState=i,t.baseState=s,t.baseQueue=c,n.lastRenderedState=i}return l===null&&(n.lanes=0),[t.memoizedState,n.dispatch]}function jr(t){var e=Vt(),a=e.queue;if(a===null)throw Error(A(311));a.lastRenderedReducer=t;var n=a.dispatch,l=a.pending,i=e.memoizedState;if(l!==null){a.pending=null;var s=l=l.next;do i=t(i,s.action),s=s.next;while(s!==l);ke(i,e.memoizedState)||(Zt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),a.lastRenderedState=i}return[i,n]}function sh(t,e,a){var n=lt,l=Vt(),i=pt;if(i){if(a===void 0)throw Error(A(407));a=a()}else a=e();var s=!ke((kt||l).memoizedState,a);if(s&&(l.memoizedState=a,Zt=!0),l=l.queue,Uo(oh.bind(null,n,l,t),[t]),l.getSnapshot!==e||s||Xt!==null&&Xt.memoizedState.tag&1){if(n.flags|=2048,tl(9,{destroy:void 0},ch.bind(null,n,l,a,e),null),At===null)throw Error(A(349));i||da&127||rh(n,e,a)}return a}function rh(t,e,a){t.flags|=16384,t={getSnapshot:e,value:a},e=lt.updateQueue,e===null?(e=Fs(),lt.updateQueue=e,e.stores=[t]):(a=e.stores,a===null?e.stores=[t]:a.push(t))}function ch(t,e,a,n){e.value=a,e.getSnapshot=n,uh(e)&&fh(t)}function oh(t,e,a){return a(function(){uh(e)&&fh(t)})}function uh(t){var e=t.getSnapshot;t=t.value;try{var a=e();return!ke(t,a)}catch{return!0}}function fh(t){var e=bn(t,2);e!==null&&me(e,t,2)}function kc(t){var e=se();if(typeof t=="function"){var a=t;if(t=a(),fn){ka(!0);try{a()}finally{ka(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:t},e}function dh(t,e,a,n){return t.baseState=a,Do(t,kt,typeof n=="function"?n:ha)}function cp(t,e,a,n,l){if(Is(t))throw Error(A(485));if(t=e.action,t!==null){var i={payload:l,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){i.listeners.push(s)}};tt.T!==null?a(!0):i.isTransition=!1,n(i),a=e.pending,a===null?(i.next=e.pending=i,hh(e,i)):(i.next=a.next,e.pending=a.next=i)}}function hh(t,e){var a=e.action,n=e.payload,l=t.state;if(e.isTransition){var i=tt.T,s={};tt.T=s;try{var r=a(l,n),c=tt.S;c!==null&&c(s,r),Vu(t,e,r)}catch(u){Ac(t,e,u)}finally{i!==null&&s.types!==null&&(i.types=s.types),tt.T=i}}else try{i=a(l,n),Vu(t,e,i)}catch(u){Ac(t,e,u)}}function Vu(t,e,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){Yu(t,e,n)},function(n){return Ac(t,e,n)}):Yu(t,e,a)}function Yu(t,e,a){e.status="fulfilled",e.value=a,mh(e),t.state=a,e=t.pending,e!==null&&(a=e.next,a===e?t.pending=null:(a=a.next,e.next=a,hh(t,a)))}function Ac(t,e,a){var n=t.pending;if(t.pending=null,n!==null){n=n.next;do e.status="rejected",e.reason=a,mh(e),e=e.next;while(e!==n)}t.action=null}function mh(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function gh(t,e){return e}function Xu(t,e){if(pt){var a=At.formState;if(a!==null){t:{var n=lt;if(pt){if(Ct){e:{for(var l=Ct,i=Ue;l.nodeType!==8;){if(!i){l=null;break e}if(l=Be(l.nextSibling),l===null){l=null;break e}}i=l.data,l=i==="F!"||i==="F"?l:null}if(l){Ct=Be(l.nextSibling),n=l.data==="F!";break t}}Xa(n)}n=!1}n&&(e=a[0])}}return a=se(),a.memoizedState=a.baseState=e,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gh,lastRenderedState:e},a.queue=n,a=Ch.bind(null,lt,n),n.dispatch=a,n=kc(!1),i=Go.bind(null,lt,!1,n.queue),n=se(),l={state:e,dispatch:null,action:t,pending:null},n.queue=l,a=cp.bind(null,lt,l,i,a),l.dispatch=a,n.memoizedState=t,[e,a,!1]}function Lu(t){var e=Vt();return ph(e,kt,t)}function ph(t,e,a){if(e=Do(t,e,gh)[0],t=Ki(ha)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var n=hi(e)}catch(s){throw s===ul?Zs:s}else n=e;e=Vt();var l=e.queue,i=l.dispatch;return a!==e.memoizedState&&(lt.flags|=2048,tl(9,{destroy:void 0},op.bind(null,l,a),null)),[n,i,t]}function op(t,e){t.action=e}function Qu(t){var e=Vt(),a=kt;if(a!==null)return ph(e,a,t);Vt(),e=e.memoizedState,a=Vt();var n=a.queue.dispatch;return a.memoizedState=t,[e,n,!1]}function tl(t,e,a,n){return t={tag:t,create:a,deps:n,inst:e,next:null},e=lt.updateQueue,e===null&&(e=Fs(),lt.updateQueue=e),a=e.lastEffect,a===null?e.lastEffect=t.next=t:(n=a.next,a.next=t,t.next=n,e.lastEffect=t),t}function bh(){return Vt().memoizedState}function Ji(t,e,a,n){var l=se();lt.flags|=t,l.memoizedState=tl(1|e,{destroy:void 0},a,n===void 0?null:n)}function Js(t,e,a,n){var l=Vt();n=n===void 0?null:n;var i=l.memoizedState.inst;kt!==null&&n!==null&&Ao(n,kt.memoizedState.deps)?l.memoizedState=tl(e,i,a,n):(lt.flags|=t,l.memoizedState=tl(1|e,i,a,n))}function Zu(t,e){Ji(8390656,8,t,e)}function Uo(t,e){Js(2048,8,t,e)}function up(t){lt.flags|=4;var e=lt.updateQueue;if(e===null)e=Fs(),lt.updateQueue=e,e.events=[t];else{var a=e.events;a===null?e.events=[t]:a.push(t)}}function yh(t){var e=Vt().memoizedState;return up({ref:e,nextImpl:t}),function(){if(xt&2)throw Error(A(440));return e.impl.apply(void 0,arguments)}}function vh(t,e){return Js(4,2,t,e)}function xh(t,e){return Js(4,4,t,e)}function Sh(t,e){if(typeof e=="function"){t=t();var a=e(t);return function(){typeof a=="function"?a():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function wh(t,e,a){a=a!=null?a.concat([t]):null,Js(4,4,Sh.bind(null,e,t),a)}function Ro(){}function Th(t,e){var a=Vt();e=e===void 0?null:e;var n=a.memoizedState;return e!==null&&Ao(e,n[1])?n[0]:(a.memoizedState=[t,e],t)}function Mh(t,e){var a=Vt();e=e===void 0?null:e;var n=a.memoizedState;if(e!==null&&Ao(e,n[1]))return n[0];if(n=t(),fn){ka(!0);try{t()}finally{ka(!1)}}return a.memoizedState=[n,e],n}function Bo(t,e,a){return a===void 0||da&1073741824&&!(ht&261930)?t.memoizedState=e:(t.memoizedState=a,t=dm(),lt.lanes|=t,Qa|=t,a)}function Nh(t,e,a,n){return ke(a,e)?a:$n.current!==null?(t=Bo(t,a,n),ke(t,e)||(Zt=!0),t):!(da&42)||da&1073741824&&!(ht&261930)?(Zt=!0,t.memoizedState=a):(t=dm(),lt.lanes|=t,Qa|=t,e)}function jh(t,e,a,n,l){var i=St.p;St.p=i!==0&&8>i?i:8;var s=tt.T,r={};tt.T=r,Go(t,!1,e,a);try{var c=l(),u=tt.S;if(u!==null&&u(r,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var m=ip(c,n);Bl(t,e,m,je(t))}else Bl(t,e,n,je(t))}catch(g){Bl(t,e,{then:function(){},status:"rejected",reason:g},je())}finally{St.p=i,s!==null&&r.types!==null&&(s.types=r.types),tt.T=s}}function fp(){}function zc(t,e,a,n){if(t.tag!==5)throw Error(A(476));var l=kh(t).queue;jh(t,l,e,an,a===null?fp:function(){return Ah(t),a(n)})}function kh(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:an,baseState:an,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:an},next:null};var a={};return e.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:a},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Ah(t){var e=kh(t);e.next===null&&(e=t.alternate.memoizedState),Bl(t,e.next.queue,{},je())}function Ho(){return le(ai)}function zh(){return Vt().memoizedState}function _h(){return Vt().memoizedState}function dp(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var a=je();t=Da(a);var n=Ua(e,t,a);n!==null&&(me(n,e,a),Dl(n,e,a)),e={cache:To()},t.payload=e;return}e=e.return}}function hp(t,e,a){var n=je();a={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Is(t)?Oh(e,a):(a=vo(t,e,a,n),a!==null&&(me(a,t,n),Eh(a,e,n)))}function Ch(t,e,a){var n=je();Bl(t,e,a,n)}function Bl(t,e,a,n){var l={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Is(t))Oh(e,l);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,r=i(s,a);if(l.hasEagerState=!0,l.eagerState=r,ke(r,s))return Qs(t,e,l,0),At===null&&Ls(),!1}catch{}finally{}if(a=vo(t,e,l,n),a!==null)return me(a,t,n),Eh(a,e,n),!0}return!1}function Go(t,e,a,n){if(n={lane:2,revertLane:Ko(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Is(t)){if(e)throw Error(A(479))}else e=vo(t,a,n,2),e!==null&&me(e,t,2)}function Is(t){var e=t.alternate;return t===lt||e!==null&&e===lt}function Oh(t,e){Fn=gs=!0;var a=t.pending;a===null?e.next=e:(e.next=a.next,a.next=e),t.pending=e}function Eh(t,e,a){if(a&4194048){var n=e.lanes;n&=t.pendingLanes,a|=n,e.lanes=a,yd(t,a)}}var $l={readContext:le,use:Ks,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useLayoutEffect:Ht,useInsertionEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useSyncExternalStore:Ht,useId:Ht,useHostTransitionStatus:Ht,useFormState:Ht,useActionState:Ht,useOptimistic:Ht,useMemoCache:Ht,useCacheRefresh:Ht};$l.useEffectEvent=Ht;var Dh={readContext:le,use:Ks,useCallback:function(t,e){return se().memoizedState=[t,e===void 0?null:e],t},useContext:le,useEffect:Zu,useImperativeHandle:function(t,e,a){a=a!=null?a.concat([t]):null,Ji(4194308,4,Sh.bind(null,e,t),a)},useLayoutEffect:function(t,e){return Ji(4194308,4,t,e)},useInsertionEffect:function(t,e){Ji(4,2,t,e)},useMemo:function(t,e){var a=se();e=e===void 0?null:e;var n=t();if(fn){ka(!0);try{t()}finally{ka(!1)}}return a.memoizedState=[n,e],n},useReducer:function(t,e,a){var n=se();if(a!==void 0){var l=a(e);if(fn){ka(!0);try{a(e)}finally{ka(!1)}}}else l=e;return n.memoizedState=n.baseState=l,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:l},n.queue=t,t=t.dispatch=hp.bind(null,lt,t),[n.memoizedState,t]},useRef:function(t){var e=se();return t={current:t},e.memoizedState=t},useState:function(t){t=kc(t);var e=t.queue,a=Ch.bind(null,lt,e);return e.dispatch=a,[t.memoizedState,a]},useDebugValue:Ro,useDeferredValue:function(t,e){var a=se();return Bo(a,t,e)},useTransition:function(){var t=kc(!1);return t=jh.bind(null,lt,t.queue,!0,!1),se().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,a){var n=lt,l=se();if(pt){if(a===void 0)throw Error(A(407));a=a()}else{if(a=e(),At===null)throw Error(A(349));ht&127||rh(n,e,a)}l.memoizedState=a;var i={value:a,getSnapshot:e};return l.queue=i,Zu(oh.bind(null,n,i,t),[t]),n.flags|=2048,tl(9,{destroy:void 0},ch.bind(null,n,i,a,e),null),a},useId:function(){var t=se(),e=At.identifierPrefix;if(pt){var a=Le,n=Xe;a=(n&~(1<<32-Ne(n)-1)).toString(32)+a,e="_"+e+"R_"+a,a=ps++,0<a&&(e+="H"+a.toString(32)),e+="_"}else a=sp++,e="_"+e+"r_"+a.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Ho,useFormState:Xu,useActionState:Xu,useOptimistic:function(t){var e=se();e.memoizedState=e.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=a,e=Go.bind(null,lt,!0,a),a.dispatch=e,[t,e]},useMemoCache:Eo,useCacheRefresh:function(){return se().memoizedState=dp.bind(null,lt)},useEffectEvent:function(t){var e=se(),a={impl:t};return e.memoizedState=a,function(){if(xt&2)throw Error(A(440));return a.impl.apply(void 0,arguments)}}},qo={readContext:le,use:Ks,useCallback:Th,useContext:le,useEffect:Uo,useImperativeHandle:wh,useInsertionEffect:vh,useLayoutEffect:xh,useMemo:Mh,useReducer:Ki,useRef:bh,useState:function(){return Ki(ha)},useDebugValue:Ro,useDeferredValue:function(t,e){var a=Vt();return Nh(a,kt.memoizedState,t,e)},useTransition:function(){var t=Ki(ha)[0],e=Vt().memoizedState;return[typeof t=="boolean"?t:hi(t),e]},useSyncExternalStore:sh,useId:zh,useHostTransitionStatus:Ho,useFormState:Lu,useActionState:Lu,useOptimistic:function(t,e){var a=Vt();return dh(a,kt,t,e)},useMemoCache:Eo,useCacheRefresh:_h};qo.useEffectEvent=yh;var Uh={readContext:le,use:Ks,useCallback:Th,useContext:le,useEffect:Uo,useImperativeHandle:wh,useInsertionEffect:vh,useLayoutEffect:xh,useMemo:Mh,useReducer:jr,useRef:bh,useState:function(){return jr(ha)},useDebugValue:Ro,useDeferredValue:function(t,e){var a=Vt();return kt===null?Bo(a,t,e):Nh(a,kt.memoizedState,t,e)},useTransition:function(){var t=jr(ha)[0],e=Vt().memoizedState;return[typeof t=="boolean"?t:hi(t),e]},useSyncExternalStore:sh,useId:zh,useHostTransitionStatus:Ho,useFormState:Qu,useActionState:Qu,useOptimistic:function(t,e){var a=Vt();return kt!==null?dh(a,kt,t,e):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Eo,useCacheRefresh:_h};Uh.useEffectEvent=yh;function kr(t,e,a,n){e=t.memoizedState,a=a(n,e),a=a==null?e:Et({},e,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var _c={enqueueSetState:function(t,e,a){t=t._reactInternals;var n=je(),l=Da(n);l.payload=e,a!=null&&(l.callback=a),e=Ua(t,l,n),e!==null&&(me(e,t,n),Dl(e,t,n))},enqueueReplaceState:function(t,e,a){t=t._reactInternals;var n=je(),l=Da(n);l.tag=1,l.payload=e,a!=null&&(l.callback=a),e=Ua(t,l,n),e!==null&&(me(e,t,n),Dl(e,t,n))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var a=je(),n=Da(a);n.tag=2,e!=null&&(n.callback=e),e=Ua(t,n,a),e!==null&&(me(e,t,a),Dl(e,t,a))}};function Fu(t,e,a,n,l,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,s):e.prototype&&e.prototype.isPureReactComponent?!Kl(a,n)||!Kl(l,i):!0}function Ku(t,e,a,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(a,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(a,n),e.state!==t&&_c.enqueueReplaceState(e,e.state,null)}function dn(t,e){var a=e;if("ref"in e){a={};for(var n in e)n!=="ref"&&(a[n]=e[n])}if(t=t.defaultProps){a===e&&(a=Et({},a));for(var l in t)a[l]===void 0&&(a[l]=t[l])}return a}function Rh(t){cs(t)}function Bh(t){console.error(t)}function Hh(t){cs(t)}function bs(t,e){try{var a=t.onUncaughtError;a(e.value,{componentStack:e.stack})}catch(n){setTimeout(function(){throw n})}}function Ju(t,e,a){try{var n=t.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function Cc(t,e,a){return a=Da(a),a.tag=3,a.payload={element:null},a.callback=function(){bs(t,e)},a}function Gh(t){return t=Da(t),t.tag=3,t}function qh(t,e,a,n){var l=a.type.getDerivedStateFromError;if(typeof l=="function"){var i=n.value;t.payload=function(){return l(i)},t.callback=function(){Ju(e,a,n)}}var s=a.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){Ju(e,a,n),typeof l!="function"&&(Ra===null?Ra=new Set([this]):Ra.add(this));var r=n.stack;this.componentDidCatch(n.value,{componentStack:r!==null?r:""})})}function mp(t,e,a,n,l){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(e=a.alternate,e!==null&&ol(e,a,l,!0),a=Ae.current,a!==null){switch(a.tag){case 31:case 13:return Re===null?ws():a.alternate===null&&Gt===0&&(Gt=3),a.flags&=-257,a.flags|=65536,a.lanes=l,n===ds?a.flags|=16384:(e=a.updateQueue,e===null?a.updateQueue=new Set([n]):e.add(n),Hr(t,n,l)),!1;case 22:return a.flags|=65536,n===ds?a.flags|=16384:(e=a.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=e):(a=e.retryQueue,a===null?e.retryQueue=new Set([n]):a.add(n)),Hr(t,n,l)),!1}throw Error(A(435,a.tag))}return Hr(t,n,l),ws(),!1}if(pt)return e=Ae.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=l,n!==yc&&(t=Error(A(422),{cause:n}),Il(De(t,a)))):(n!==yc&&(e=Error(A(423),{cause:n}),Il(De(e,a))),t=t.current.alternate,t.flags|=65536,l&=-l,t.lanes|=l,n=De(n,a),l=Cc(t.stateNode,n,l),Nr(t,l),Gt!==4&&(Gt=2)),!1;var i=Error(A(520),{cause:n});if(i=De(i,a),ql===null?ql=[i]:ql.push(i),Gt!==4&&(Gt=2),e===null)return!0;n=De(n,a),a=e;do{switch(a.tag){case 3:return a.flags|=65536,t=l&-l,a.lanes|=t,t=Cc(a.stateNode,n,t),Nr(a,t),!1;case 1:if(e=a.type,i=a.stateNode,(a.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Ra===null||!Ra.has(i))))return a.flags|=65536,l&=-l,a.lanes|=l,l=Gh(l),qh(l,t,a,n),Nr(a,l),!1}a=a.return}while(a!==null);return!1}var Vo=Error(A(461)),Zt=!1;function ee(t,e,a,n){e.child=t===null?th(e,null,a,n):un(e,t.child,a,n)}function Iu(t,e,a,n,l){a=a.render;var i=e.ref;if("ref"in n){var s={};for(var r in n)r!=="ref"&&(s[r]=n[r])}else s=n;return on(e),n=zo(t,e,a,s,i,l),r=_o(),t!==null&&!Zt?(Co(t,e,l),ma(t,e,l)):(pt&&r&&So(e),e.flags|=1,ee(t,e,n,l),e.child)}function Pu(t,e,a,n,l){if(t===null){var i=a.type;return typeof i=="function"&&!xo(i)&&i.defaultProps===void 0&&a.compare===null?(e.tag=15,e.type=i,Vh(t,e,i,n,l)):(t=Zi(a.type,null,n,e,e.mode,l),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!Yo(t,l)){var s=i.memoizedProps;if(a=a.compare,a=a!==null?a:Kl,a(s,n)&&t.ref===e.ref)return ma(t,e,l)}return e.flags|=1,t=ca(i,n),t.ref=e.ref,t.return=e,e.child=t}function Vh(t,e,a,n,l){if(t!==null){var i=t.memoizedProps;if(Kl(i,n)&&t.ref===e.ref)if(Zt=!1,e.pendingProps=n=i,Yo(t,l))t.flags&131072&&(Zt=!0);else return e.lanes=t.lanes,ma(t,e,l)}return Oc(t,e,a,n,l)}function Yh(t,e,a,n){var l=n.children,i=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if(e.flags&128){if(i=i!==null?i.baseLanes|a:a,t!==null){for(n=e.child=t.child,l=0;n!==null;)l=l|n.lanes|n.childLanes,n=n.sibling;n=l&~i}else n=0,e.child=null;return Wu(t,e,i,a,n)}if(a&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Fi(e,i!==null?i.cachePool:null),i!==null?qu(e,i):Nc(),nh(e);else return n=e.lanes=536870912,Wu(t,e,i!==null?i.baseLanes|a:a,a,n)}else i!==null?(Fi(e,i.cachePool),qu(e,i),Na(),e.memoizedState=null):(t!==null&&Fi(e,null),Nc(),Na());return ee(t,e,l,a),e.child}function kl(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Wu(t,e,a,n,l){var i=Mo();return i=i===null?null:{parent:Qt._currentValue,pool:i},e.memoizedState={baseLanes:a,cachePool:i},t!==null&&Fi(e,null),Nc(),nh(e),t!==null&&ol(t,e,n,!0),e.childLanes=l,null}function Ii(t,e){return e=ys({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function $u(t,e,a){return un(e,t.child,null,a),t=Ii(e,e.pendingProps),t.flags|=2,xe(e),e.memoizedState=null,t}function gp(t,e,a){var n=e.pendingProps,l=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(pt){if(n.mode==="hidden")return t=Ii(e,n),e.lanes=536870912,kl(null,t);if(jc(e),(t=Ct)?(t=Dm(t,Ue),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Ya!==null?{id:Xe,overflow:Le}:null,retryLane:536870912,hydrationErrors:null},a=Fd(t),a.return=e,e.child=a,ne=e,Ct=null)):t=null,t===null)throw Xa(e);return e.lanes=536870912,null}return Ii(e,n)}var i=t.memoizedState;if(i!==null){var s=i.dehydrated;if(jc(e),l)if(e.flags&256)e.flags&=-257,e=$u(t,e,a);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(A(558));else if(Zt||ol(t,e,a,!1),l=(a&t.childLanes)!==0,Zt||l){if(n=At,n!==null&&(s=vd(n,a),s!==0&&s!==i.retryLane))throw i.retryLane=s,bn(t,s),me(n,t,s),Vo;ws(),e=$u(t,e,a)}else t=i.treeContext,Ct=Be(s.nextSibling),ne=e,pt=!0,Ea=null,Ue=!1,t!==null&&Jd(e,t),e=Ii(e,n),e.flags|=4096;return e}return t=ca(t.child,{mode:n.mode,children:n.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Pi(t,e){var a=e.ref;if(a===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(A(284));(t===null||t.ref!==a)&&(e.flags|=4194816)}}function Oc(t,e,a,n,l){return on(e),a=zo(t,e,a,n,void 0,l),n=_o(),t!==null&&!Zt?(Co(t,e,l),ma(t,e,l)):(pt&&n&&So(e),e.flags|=1,ee(t,e,a,l),e.child)}function tf(t,e,a,n,l,i){return on(e),e.updateQueue=null,a=ih(e,n,a,l),lh(t),n=_o(),t!==null&&!Zt?(Co(t,e,i),ma(t,e,i)):(pt&&n&&So(e),e.flags|=1,ee(t,e,a,i),e.child)}function ef(t,e,a,n,l){if(on(e),e.stateNode===null){var i=Hn,s=a.contextType;typeof s=="object"&&s!==null&&(i=le(s)),i=new a(n,i),e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=_c,e.stateNode=i,i._reactInternals=e,i=e.stateNode,i.props=n,i.state=e.memoizedState,i.refs={},jo(e),s=a.contextType,i.context=typeof s=="object"&&s!==null?le(s):Hn,i.state=e.memoizedState,s=a.getDerivedStateFromProps,typeof s=="function"&&(kr(e,a,s,n),i.state=e.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(s=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),s!==i.state&&_c.enqueueReplaceState(i,i.state,null),Rl(e,n,i,l),Ul(),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308),n=!0}else if(t===null){i=e.stateNode;var r=e.memoizedProps,c=dn(a,r);i.props=c;var u=i.context,m=a.contextType;s=Hn,typeof m=="object"&&m!==null&&(s=le(m));var g=a.getDerivedStateFromProps;m=typeof g=="function"||typeof i.getSnapshotBeforeUpdate=="function",r=e.pendingProps!==r,m||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(r||u!==s)&&Ku(e,i,n,s),wa=!1;var f=e.memoizedState;i.state=f,Rl(e,n,i,l),Ul(),u=e.memoizedState,r||f!==u||wa?(typeof g=="function"&&(kr(e,a,g,n),u=e.memoizedState),(c=wa||Fu(e,a,c,n,f,u,s))?(m||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),i.props=n,i.state=u,i.context=s,n=c):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{i=e.stateNode,Tc(t,e),s=e.memoizedProps,m=dn(a,s),i.props=m,g=e.pendingProps,f=i.context,u=a.contextType,c=Hn,typeof u=="object"&&u!==null&&(c=le(u)),r=a.getDerivedStateFromProps,(u=typeof r=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==g||f!==c)&&Ku(e,i,n,c),wa=!1,f=e.memoizedState,i.state=f,Rl(e,n,i,l),Ul();var d=e.memoizedState;s!==g||f!==d||wa||t!==null&&t.dependencies!==null&&fs(t.dependencies)?(typeof r=="function"&&(kr(e,a,r,n),d=e.memoizedState),(m=wa||Fu(e,a,m,n,f,d,c)||t!==null&&t.dependencies!==null&&fs(t.dependencies))?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,d,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,d,c)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=d),i.props=n,i.state=d,i.context=c,n=m):(typeof i.componentDidUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return i=n,Pi(t,e),n=(e.flags&128)!==0,i||n?(i=e.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:i.render(),e.flags|=1,t!==null&&n?(e.child=un(e,t.child,null,l),e.child=un(e,null,a,l)):ee(t,e,a,l),e.memoizedState=i.state,t=e.child):t=ma(t,e,l),t}function af(t,e,a,n){return cn(),e.flags|=256,ee(t,e,a,n),e.child}var Ar={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zr(t){return{baseLanes:t,cachePool:Pd()}}function _r(t,e,a){return t=t!==null?t.childLanes&~a:0,e&&(t|=we),t}function Xh(t,e,a){var n=e.pendingProps,l=!1,i=(e.flags&128)!==0,s;if((s=i)||(s=t!==null&&t.memoizedState===null?!1:(qt.current&2)!==0),s&&(l=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,t===null){if(pt){if(l?Ma(e):Na(),(t=Ct)?(t=Dm(t,Ue),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Ya!==null?{id:Xe,overflow:Le}:null,retryLane:536870912,hydrationErrors:null},a=Fd(t),a.return=e,e.child=a,ne=e,Ct=null)):t=null,t===null)throw Xa(e);return Zc(t)?e.lanes=32:e.lanes=536870912,null}var r=n.children;return n=n.fallback,l?(Na(),l=e.mode,r=ys({mode:"hidden",children:r},l),n=nn(n,l,a,null),r.return=e,n.return=e,r.sibling=n,e.child=r,n=e.child,n.memoizedState=zr(a),n.childLanes=_r(t,s,a),e.memoizedState=Ar,kl(null,n)):(Ma(e),Ec(e,r))}var c=t.memoizedState;if(c!==null&&(r=c.dehydrated,r!==null)){if(i)e.flags&256?(Ma(e),e.flags&=-257,e=Cr(t,e,a)):e.memoizedState!==null?(Na(),e.child=t.child,e.flags|=128,e=null):(Na(),r=n.fallback,l=e.mode,n=ys({mode:"visible",children:n.children},l),r=nn(r,l,a,null),r.flags|=2,n.return=e,r.return=e,n.sibling=r,e.child=n,un(e,t.child,null,a),n=e.child,n.memoizedState=zr(a),n.childLanes=_r(t,s,a),e.memoizedState=Ar,e=kl(null,n));else if(Ma(e),Zc(r)){if(s=r.nextSibling&&r.nextSibling.dataset,s)var u=s.dgst;s=u,n=Error(A(419)),n.stack="",n.digest=s,Il({value:n,source:null,stack:null}),e=Cr(t,e,a)}else if(Zt||ol(t,e,a,!1),s=(a&t.childLanes)!==0,Zt||s){if(s=At,s!==null&&(n=vd(s,a),n!==0&&n!==c.retryLane))throw c.retryLane=n,bn(t,n),me(s,t,n),Vo;Qc(r)||ws(),e=Cr(t,e,a)}else Qc(r)?(e.flags|=192,e.child=t.child,e=null):(t=c.treeContext,Ct=Be(r.nextSibling),ne=e,pt=!0,Ea=null,Ue=!1,t!==null&&Jd(e,t),e=Ec(e,n.children),e.flags|=4096);return e}return l?(Na(),r=n.fallback,l=e.mode,c=t.child,u=c.sibling,n=ca(c,{mode:"hidden",children:n.children}),n.subtreeFlags=c.subtreeFlags&65011712,u!==null?r=ca(u,r):(r=nn(r,l,a,null),r.flags|=2),r.return=e,n.return=e,n.sibling=r,e.child=n,kl(null,n),n=e.child,r=t.child.memoizedState,r===null?r=zr(a):(l=r.cachePool,l!==null?(c=Qt._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=Pd(),r={baseLanes:r.baseLanes|a,cachePool:l}),n.memoizedState=r,n.childLanes=_r(t,s,a),e.memoizedState=Ar,kl(t.child,n)):(Ma(e),a=t.child,t=a.sibling,a=ca(a,{mode:"visible",children:n.children}),a.return=e,a.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=a,e.memoizedState=null,a)}function Ec(t,e){return e=ys({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function ys(t,e){return t=Se(22,t,null,e),t.lanes=0,t}function Cr(t,e,a){return un(e,t.child,null,a),t=Ec(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function nf(t,e,a){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),xc(t.return,e,a)}function Or(t,e,a,n,l,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:l,treeForkCount:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=a,s.tailMode=l,s.treeForkCount=i)}function Lh(t,e,a){var n=e.pendingProps,l=n.revealOrder,i=n.tail;n=n.children;var s=qt.current,r=(s&2)!==0;if(r?(s=s&1|2,e.flags|=128):s&=1,zt(qt,s),ee(t,e,n,a),n=pt?Jl:0,!r&&t!==null&&t.flags&128)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&nf(t,a,e);else if(t.tag===19)nf(t,a,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(l){case"forwards":for(a=e.child,l=null;a!==null;)t=a.alternate,t!==null&&ms(t)===null&&(l=a),a=a.sibling;a=l,a===null?(l=e.child,e.child=null):(l=a.sibling,a.sibling=null),Or(e,!1,l,a,i,n);break;case"backwards":case"unstable_legacy-backwards":for(a=null,l=e.child,e.child=null;l!==null;){if(t=l.alternate,t!==null&&ms(t)===null){e.child=l;break}t=l.sibling,l.sibling=a,a=l,l=t}Or(e,!0,a,null,i,n);break;case"together":Or(e,!1,null,null,void 0,n);break;default:e.memoizedState=null}return e.child}function ma(t,e,a){if(t!==null&&(e.dependencies=t.dependencies),Qa|=e.lanes,!(a&e.childLanes))if(t!==null){if(ol(t,e,a,!1),(a&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(A(153));if(e.child!==null){for(t=e.child,a=ca(t,t.pendingProps),e.child=a,a.return=e;t.sibling!==null;)t=t.sibling,a=a.sibling=ca(t,t.pendingProps),a.return=e;a.sibling=null}return e.child}function Yo(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&fs(t)))}function pp(t,e,a){switch(e.tag){case 3:ls(e,e.stateNode.containerInfo),Ta(e,Qt,t.memoizedState.cache),cn();break;case 27:case 5:rc(e);break;case 4:ls(e,e.stateNode.containerInfo);break;case 10:Ta(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,jc(e),null;break;case 13:var n=e.memoizedState;if(n!==null)return n.dehydrated!==null?(Ma(e),e.flags|=128,null):a&e.child.childLanes?Xh(t,e,a):(Ma(e),t=ma(t,e,a),t!==null?t.sibling:null);Ma(e);break;case 19:var l=(t.flags&128)!==0;if(n=(a&e.childLanes)!==0,n||(ol(t,e,a,!1),n=(a&e.childLanes)!==0),l){if(n)return Lh(t,e,a);e.flags|=128}if(l=e.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),zt(qt,qt.current),n)break;return null;case 22:return e.lanes=0,Yh(t,e,a,e.pendingProps);case 24:Ta(e,Qt,t.memoizedState.cache)}return ma(t,e,a)}function Qh(t,e,a){if(t!==null)if(t.memoizedProps!==e.pendingProps)Zt=!0;else{if(!Yo(t,a)&&!(e.flags&128))return Zt=!1,pp(t,e,a);Zt=!!(t.flags&131072)}else Zt=!1,pt&&e.flags&1048576&&Kd(e,Jl,e.index);switch(e.lanes=0,e.tag){case 16:t:{var n=e.pendingProps;if(t=$a(e.elementType),e.type=t,typeof t=="function")xo(t)?(n=dn(t,n),e.tag=1,e=ef(null,e,t,n,a)):(e.tag=0,e=Oc(null,e,t,n,a));else{if(t!=null){var l=t.$$typeof;if(l===io){e.tag=11,e=Iu(null,e,t,n,a);break t}else if(l===so){e.tag=14,e=Pu(null,e,t,n,a);break t}}throw e=ic(t)||t,Error(A(306,e,""))}}return e;case 0:return Oc(t,e,e.type,e.pendingProps,a);case 1:return n=e.type,l=dn(n,e.pendingProps),ef(t,e,n,l,a);case 3:t:{if(ls(e,e.stateNode.containerInfo),t===null)throw Error(A(387));n=e.pendingProps;var i=e.memoizedState;l=i.element,Tc(t,e),Rl(e,n,null,a);var s=e.memoizedState;if(n=s.cache,Ta(e,Qt,n),n!==i.cache&&Sc(e,[Qt],a,!0),Ul(),n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){e=af(t,e,n,a);break t}else if(n!==l){l=De(Error(A(424)),e),Il(l),e=af(t,e,n,a);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ct=Be(t.firstChild),ne=e,pt=!0,Ea=null,Ue=!0,a=th(e,null,n,a),e.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(cn(),n===l){e=ma(t,e,a);break t}ee(t,e,n,a)}e=e.child}return e;case 26:return Pi(t,e),t===null?(a=Mf(e.type,null,e.pendingProps,null))?e.memoizedState=a:pt||(a=e.type,t=e.pendingProps,n=js(Oa.current).createElement(a),n[ae]=e,n[ge]=t,ie(n,a,t),Wt(n),e.stateNode=n):e.memoizedState=Mf(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return rc(e),t===null&&pt&&(n=e.stateNode=Um(e.type,e.pendingProps,Oa.current),ne=e,Ue=!0,l=Ct,Fa(e.type)?(Fc=l,Ct=Be(n.firstChild)):Ct=l),ee(t,e,e.pendingProps.children,a),Pi(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&pt&&((l=n=Ct)&&(n=Zp(n,e.type,e.pendingProps,Ue),n!==null?(e.stateNode=n,ne=e,Ct=Be(n.firstChild),Ue=!1,l=!0):l=!1),l||Xa(e)),rc(e),l=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,n=i.children,Xc(l,i)?n=null:s!==null&&Xc(l,s)&&(e.flags|=32),e.memoizedState!==null&&(l=zo(t,e,rp,null,null,a),ai._currentValue=l),Pi(t,e),ee(t,e,n,a),e.child;case 6:return t===null&&pt&&((t=a=Ct)&&(a=Fp(a,e.pendingProps,Ue),a!==null?(e.stateNode=a,ne=e,Ct=null,t=!0):t=!1),t||Xa(e)),null;case 13:return Xh(t,e,a);case 4:return ls(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=un(e,null,n,a):ee(t,e,n,a),e.child;case 11:return Iu(t,e,e.type,e.pendingProps,a);case 7:return ee(t,e,e.pendingProps,a),e.child;case 8:return ee(t,e,e.pendingProps.children,a),e.child;case 12:return ee(t,e,e.pendingProps.children,a),e.child;case 10:return n=e.pendingProps,Ta(e,e.type,n.value),ee(t,e,n.children,a),e.child;case 9:return l=e.type._context,n=e.pendingProps.children,on(e),l=le(l),n=n(l),e.flags|=1,ee(t,e,n,a),e.child;case 14:return Pu(t,e,e.type,e.pendingProps,a);case 15:return Vh(t,e,e.type,e.pendingProps,a);case 19:return Lh(t,e,a);case 31:return gp(t,e,a);case 22:return Yh(t,e,a,e.pendingProps);case 24:return on(e),n=le(Qt),t===null?(l=Mo(),l===null&&(l=At,i=To(),l.pooledCache=i,i.refCount++,i!==null&&(l.pooledCacheLanes|=a),l=i),e.memoizedState={parent:n,cache:l},jo(e),Ta(e,Qt,l)):(t.lanes&a&&(Tc(t,e),Rl(e,null,null,a),Ul()),l=t.memoizedState,i=e.memoizedState,l.parent!==n?(l={parent:n,cache:n},e.memoizedState=l,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=l),Ta(e,Qt,n)):(n=i.cache,Ta(e,Qt,n),n!==l.cache&&Sc(e,[Qt],a,!0))),ee(t,e,e.pendingProps.children,a),e.child;case 29:throw e.pendingProps}throw Error(A(156,e.tag))}function We(t){t.flags|=4}function Er(t,e,a,n,l){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(l&335544128)===l)if(t.stateNode.complete)t.flags|=8192;else if(gm())t.flags|=8192;else throw sn=ds,No}else t.flags&=-16777217}function lf(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!Hm(e))if(gm())t.flags|=8192;else throw sn=ds,No}function _i(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?pd():536870912,t.lanes|=e,el|=e)}function xl(t,e){if(!pt)switch(t.tailMode){case"hidden":e=t.tail;for(var a=null;e!==null;)e.alternate!==null&&(a=e),e=e.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function _t(t){var e=t.alternate!==null&&t.alternate.child===t.child,a=0,n=0;if(e)for(var l=t.child;l!==null;)a|=l.lanes|l.childLanes,n|=l.subtreeFlags&65011712,n|=l.flags&65011712,l.return=t,l=l.sibling;else for(l=t.child;l!==null;)a|=l.lanes|l.childLanes,n|=l.subtreeFlags,n|=l.flags,l.return=t,l=l.sibling;return t.subtreeFlags|=n,t.childLanes=a,e}function bp(t,e,a){var n=e.pendingProps;switch(wo(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(e),null;case 1:return _t(e),null;case 3:return a=e.stateNode,n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),oa(Qt),Jn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(xn(e)?We(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Mr())),_t(e),null;case 26:var l=e.type,i=e.memoizedState;return t===null?(We(e),i!==null?(_t(e),lf(e,i)):(_t(e),Er(e,l,null,n,a))):i?i!==t.memoizedState?(We(e),_t(e),lf(e,i)):(_t(e),e.flags&=-16777217):(t=t.memoizedProps,t!==n&&We(e),_t(e),Er(e,l,t,n,a)),null;case 27:if(is(e),a=Oa.current,l=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==n&&We(e);else{if(!n){if(e.stateNode===null)throw Error(A(166));return _t(e),null}t=Ze.current,xn(e)?Eu(e):(t=Um(l,n,a),e.stateNode=t,We(e))}return _t(e),null;case 5:if(is(e),l=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==n&&We(e);else{if(!n){if(e.stateNode===null)throw Error(A(166));return _t(e),null}if(i=Ze.current,xn(e))Eu(e);else{var s=js(Oa.current);switch(i){case 1:i=s.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=s.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=s.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=s.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=s.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof n.is=="string"?s.createElement("select",{is:n.is}):s.createElement("select"),n.multiple?i.multiple=!0:n.size&&(i.size=n.size);break;default:i=typeof n.is=="string"?s.createElement(l,{is:n.is}):s.createElement(l)}}i[ae]=e,i[ge]=n;t:for(s=e.child;s!==null;){if(s.tag===5||s.tag===6)i.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break t;for(;s.sibling===null;){if(s.return===null||s.return===e)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}e.stateNode=i;t:switch(ie(i,l,n),l){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&We(e)}}return _t(e),Er(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,a),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==n&&We(e);else{if(typeof n!="string"&&e.stateNode===null)throw Error(A(166));if(t=Oa.current,xn(e)){if(t=e.stateNode,a=e.memoizedProps,n=null,l=ne,l!==null)switch(l.tag){case 27:case 5:n=l.memoizedProps}t[ae]=e,t=!!(t.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||Cm(t.nodeValue,a)),t||Xa(e,!0)}else t=js(t).createTextNode(n),t[ae]=e,e.stateNode=t}return _t(e),null;case 31:if(a=e.memoizedState,t===null||t.memoizedState!==null){if(n=xn(e),a!==null){if(t===null){if(!n)throw Error(A(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(A(557));t[ae]=e}else cn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_t(e),t=!1}else a=Mr(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return e.flags&256?(xe(e),e):(xe(e),null);if(e.flags&128)throw Error(A(558))}return _t(e),null;case 13:if(n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(l=xn(e),n!==null&&n.dehydrated!==null){if(t===null){if(!l)throw Error(A(318));if(l=e.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(A(317));l[ae]=e}else cn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_t(e),l=!1}else l=Mr(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=l),l=!0;if(!l)return e.flags&256?(xe(e),e):(xe(e),null)}return xe(e),e.flags&128?(e.lanes=a,e):(a=n!==null,t=t!==null&&t.memoizedState!==null,a&&(n=e.child,l=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(l=n.alternate.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==l&&(n.flags|=2048)),a!==t&&a&&(e.child.flags|=8192),_i(e,e.updateQueue),_t(e),null);case 4:return Jn(),t===null&&Jo(e.stateNode.containerInfo),_t(e),null;case 10:return oa(e.type),_t(e),null;case 19:if($t(qt),n=e.memoizedState,n===null)return _t(e),null;if(l=(e.flags&128)!==0,i=n.rendering,i===null)if(l)xl(n,!1);else{if(Gt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=ms(t),i!==null){for(e.flags|=128,xl(n,!1),t=i.updateQueue,e.updateQueue=t,_i(e,t),e.subtreeFlags=0,t=a,a=e.child;a!==null;)Zd(a,t),a=a.sibling;return zt(qt,qt.current&1|2),pt&&na(e,n.treeForkCount),e.child}t=t.sibling}n.tail!==null&&Te()>xs&&(e.flags|=128,l=!0,xl(n,!1),e.lanes=4194304)}else{if(!l)if(t=ms(i),t!==null){if(e.flags|=128,l=!0,t=t.updateQueue,e.updateQueue=t,_i(e,t),xl(n,!0),n.tail===null&&n.tailMode==="hidden"&&!i.alternate&&!pt)return _t(e),null}else 2*Te()-n.renderingStartTime>xs&&a!==536870912&&(e.flags|=128,l=!0,xl(n,!1),e.lanes=4194304);n.isBackwards?(i.sibling=e.child,e.child=i):(t=n.last,t!==null?t.sibling=i:e.child=i,n.last=i)}return n.tail!==null?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.renderingStartTime=Te(),t.sibling=null,a=qt.current,zt(qt,l?a&1|2:a&1),pt&&na(e,n.treeForkCount),t):(_t(e),null);case 22:case 23:return xe(e),ko(),n=e.memoizedState!==null,t!==null?t.memoizedState!==null!==n&&(e.flags|=8192):n&&(e.flags|=8192),n?a&536870912&&!(e.flags&128)&&(_t(e),e.subtreeFlags&6&&(e.flags|=8192)):_t(e),a=e.updateQueue,a!==null&&_i(e,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),n=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),n!==a&&(e.flags|=2048),t!==null&&$t(ln),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),e.memoizedState.cache!==a&&(e.flags|=2048),oa(Qt),_t(e),null;case 25:return null;case 30:return null}throw Error(A(156,e.tag))}function yp(t,e){switch(wo(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return oa(Qt),Jn(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return is(e),null;case 31:if(e.memoizedState!==null){if(xe(e),e.alternate===null)throw Error(A(340));cn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(xe(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(A(340));cn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $t(qt),null;case 4:return Jn(),null;case 10:return oa(e.type),null;case 22:case 23:return xe(e),ko(),t!==null&&$t(ln),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return oa(Qt),null;case 25:return null;default:return null}}function Zh(t,e){switch(wo(e),e.tag){case 3:oa(Qt),Jn();break;case 26:case 27:case 5:is(e);break;case 4:Jn();break;case 31:e.memoizedState!==null&&xe(e);break;case 13:xe(e);break;case 19:$t(qt);break;case 10:oa(e.type);break;case 22:case 23:xe(e),ko(),t!==null&&$t(ln);break;case 24:oa(Qt)}}function mi(t,e){try{var a=e.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var l=n.next;a=l;do{if((a.tag&t)===t){n=void 0;var i=a.create,s=a.inst;n=i(),s.destroy=n}a=a.next}while(a!==l)}}catch(r){Nt(e,e.return,r)}}function La(t,e,a){try{var n=e.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var i=l.next;n=i;do{if((n.tag&t)===t){var s=n.inst,r=s.destroy;if(r!==void 0){s.destroy=void 0,l=e;var c=a,u=r;try{u()}catch(m){Nt(l,c,m)}}}n=n.next}while(n!==i)}}catch(m){Nt(e,e.return,m)}}function Fh(t){var e=t.updateQueue;if(e!==null){var a=t.stateNode;try{ah(e,a)}catch(n){Nt(t,t.return,n)}}}function Kh(t,e,a){a.props=dn(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(n){Nt(t,e,n)}}function Hl(t,e){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var n=t.stateNode;break;case 30:n=t.stateNode;break;default:n=t.stateNode}typeof a=="function"?t.refCleanup=a(n):a.current=n}}catch(l){Nt(t,e,l)}}function Qe(t,e){var a=t.ref,n=t.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(l){Nt(t,e,l)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(l){Nt(t,e,l)}else a.current=null}function Jh(t){var e=t.type,a=t.memoizedProps,n=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break t;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(l){Nt(t,t.return,l)}}function Dr(t,e,a){try{var n=t.stateNode;qp(n,t.type,a,e),n[ge]=e}catch(l){Nt(t,t.return,l)}}function Ih(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Fa(t.type)||t.tag===4}function Ur(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Ih(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Fa(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Dc(t,e,a){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,e):(e=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,e.appendChild(t),a=a._reactRootContainer,a!=null||e.onclick!==null||(e.onclick=sa));else if(n!==4&&(n===27&&Fa(t.type)&&(a=t.stateNode,e=null),t=t.child,t!==null))for(Dc(t,e,a),t=t.sibling;t!==null;)Dc(t,e,a),t=t.sibling}function vs(t,e,a){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?a.insertBefore(t,e):a.appendChild(t);else if(n!==4&&(n===27&&Fa(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(vs(t,e,a),t=t.sibling;t!==null;)vs(t,e,a),t=t.sibling}function Ph(t){var e=t.stateNode,a=t.memoizedProps;try{for(var n=t.type,l=e.attributes;l.length;)e.removeAttributeNode(l[0]);ie(e,n,a),e[ae]=t,e[ge]=a}catch(i){Nt(t,t.return,i)}}var la=!1,Lt=!1,Rr=!1,sf=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function vp(t,e){if(t=t.containerInfo,Vc=_s,t=Hd(t),bo(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var l=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{a.nodeType,i.nodeType}catch{a=null;break t}var s=0,r=-1,c=-1,u=0,m=0,g=t,f=null;e:for(;;){for(var d;g!==a||l!==0&&g.nodeType!==3||(r=s+l),g!==i||n!==0&&g.nodeType!==3||(c=s+n),g.nodeType===3&&(s+=g.nodeValue.length),(d=g.firstChild)!==null;)f=g,g=d;for(;;){if(g===t)break e;if(f===a&&++u===l&&(r=s),f===i&&++m===n&&(c=s),(d=g.nextSibling)!==null)break;g=f,f=g.parentNode}g=d}a=r===-1||c===-1?null:{start:r,end:c}}else a=null}a=a||{start:0,end:0}}else a=null;for(Yc={focusedElem:t,selectionRange:a},_s=!1,Pt=e;Pt!==null;)if(e=Pt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Pt=t;else for(;Pt!==null;){switch(e=Pt,i=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)l=t[a],l.ref.impl=l.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&i!==null){t=void 0,a=e,l=i.memoizedProps,i=i.memoizedState,n=a.stateNode;try{var v=dn(a.type,l);t=n.getSnapshotBeforeUpdate(v,i),n.__reactInternalSnapshotBeforeUpdate=t}catch(y){Nt(a,a.return,y)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,a=t.nodeType,a===9)Lc(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Lc(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(A(163))}if(t=e.sibling,t!==null){t.return=e.return,Pt=t;break}Pt=e.return}}function Wh(t,e,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:ta(t,a),n&4&&mi(5,a);break;case 1:if(ta(t,a),n&4)if(t=a.stateNode,e===null)try{t.componentDidMount()}catch(s){Nt(a,a.return,s)}else{var l=dn(a.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(l,e,t.__reactInternalSnapshotBeforeUpdate)}catch(s){Nt(a,a.return,s)}}n&64&&Fh(a),n&512&&Hl(a,a.return);break;case 3:if(ta(t,a),n&64&&(t=a.updateQueue,t!==null)){if(e=null,a.child!==null)switch(a.child.tag){case 27:case 5:e=a.child.stateNode;break;case 1:e=a.child.stateNode}try{ah(t,e)}catch(s){Nt(a,a.return,s)}}break;case 27:e===null&&n&4&&Ph(a);case 26:case 5:ta(t,a),e===null&&n&4&&Jh(a),n&512&&Hl(a,a.return);break;case 12:ta(t,a);break;case 31:ta(t,a),n&4&&em(t,a);break;case 13:ta(t,a),n&4&&am(t,a),n&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Ap.bind(null,a),Kp(t,a))));break;case 22:if(n=a.memoizedState!==null||la,!n){e=e!==null&&e.memoizedState!==null||Lt,l=la;var i=Lt;la=n,(Lt=e)&&!i?aa(t,a,(a.subtreeFlags&8772)!==0):ta(t,a),la=l,Lt=i}break;case 30:break;default:ta(t,a)}}function $h(t){var e=t.alternate;e!==null&&(t.alternate=null,$h(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&uo(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Dt=null,de=!1;function $e(t,e,a){for(a=a.child;a!==null;)tm(t,e,a),a=a.sibling}function tm(t,e,a){if(Me&&typeof Me.onCommitFiberUnmount=="function")try{Me.onCommitFiberUnmount(ri,a)}catch{}switch(a.tag){case 26:Lt||Qe(a,e),$e(t,e,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Lt||Qe(a,e);var n=Dt,l=de;Fa(a.type)&&(Dt=a.stateNode,de=!1),$e(t,e,a),Yl(a.stateNode),Dt=n,de=l;break;case 5:Lt||Qe(a,e);case 6:if(n=Dt,l=de,Dt=null,$e(t,e,a),Dt=n,de=l,Dt!==null)if(de)try{(Dt.nodeType===9?Dt.body:Dt.nodeName==="HTML"?Dt.ownerDocument.body:Dt).removeChild(a.stateNode)}catch(i){Nt(a,e,i)}else try{Dt.removeChild(a.stateNode)}catch(i){Nt(a,e,i)}break;case 18:Dt!==null&&(de?(t=Dt,vf(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),il(t)):vf(Dt,a.stateNode));break;case 4:n=Dt,l=de,Dt=a.stateNode.containerInfo,de=!0,$e(t,e,a),Dt=n,de=l;break;case 0:case 11:case 14:case 15:La(2,a,e),Lt||La(4,a,e),$e(t,e,a);break;case 1:Lt||(Qe(a,e),n=a.stateNode,typeof n.componentWillUnmount=="function"&&Kh(a,e,n)),$e(t,e,a);break;case 21:$e(t,e,a);break;case 22:Lt=(n=Lt)||a.memoizedState!==null,$e(t,e,a),Lt=n;break;default:$e(t,e,a)}}function em(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{il(t)}catch(a){Nt(e,e.return,a)}}}function am(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{il(t)}catch(a){Nt(e,e.return,a)}}function xp(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new sf),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new sf),e;default:throw Error(A(435,t.tag))}}function Ci(t,e){var a=xp(t);e.forEach(function(n){if(!a.has(n)){a.add(n);var l=zp.bind(null,t,n);n.then(l,l)}})}function ue(t,e){var a=e.deletions;if(a!==null)for(var n=0;n<a.length;n++){var l=a[n],i=t,s=e,r=s;t:for(;r!==null;){switch(r.tag){case 27:if(Fa(r.type)){Dt=r.stateNode,de=!1;break t}break;case 5:Dt=r.stateNode,de=!1;break t;case 3:case 4:Dt=r.stateNode.containerInfo,de=!0;break t}r=r.return}if(Dt===null)throw Error(A(160));tm(i,s,l),Dt=null,de=!1,i=l.alternate,i!==null&&(i.return=null),l.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)nm(e,t),e=e.sibling}var Ve=null;function nm(t,e){var a=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ue(e,t),fe(t),n&4&&(La(3,t,t.return),mi(3,t),La(5,t,t.return));break;case 1:ue(e,t),fe(t),n&512&&(Lt||a===null||Qe(a,a.return)),n&64&&la&&(t=t.updateQueue,t!==null&&(n=t.callbacks,n!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var l=Ve;if(ue(e,t),fe(t),n&512&&(Lt||a===null||Qe(a,a.return)),n&4){var i=a!==null?a.memoizedState:null;if(n=t.memoizedState,a===null)if(n===null)if(t.stateNode===null){t:{n=t.type,a=t.memoizedProps,l=l.ownerDocument||l;e:switch(n){case"title":i=l.getElementsByTagName("title")[0],(!i||i[ui]||i[ae]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=l.createElement(n),l.head.insertBefore(i,l.querySelector("head > title"))),ie(i,n,a),i[ae]=t,Wt(i),n=i;break t;case"link":var s=jf("link","href",l).get(n+(a.href||""));if(s){for(var r=0;r<s.length;r++)if(i=s[r],i.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&i.getAttribute("rel")===(a.rel==null?null:a.rel)&&i.getAttribute("title")===(a.title==null?null:a.title)&&i.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){s.splice(r,1);break e}}i=l.createElement(n),ie(i,n,a),l.head.appendChild(i);break;case"meta":if(s=jf("meta","content",l).get(n+(a.content||""))){for(r=0;r<s.length;r++)if(i=s[r],i.getAttribute("content")===(a.content==null?null:""+a.content)&&i.getAttribute("name")===(a.name==null?null:a.name)&&i.getAttribute("property")===(a.property==null?null:a.property)&&i.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&i.getAttribute("charset")===(a.charSet==null?null:a.charSet)){s.splice(r,1);break e}}i=l.createElement(n),ie(i,n,a),l.head.appendChild(i);break;default:throw Error(A(468,n))}i[ae]=t,Wt(i),n=i}t.stateNode=n}else kf(l,t.type,t.stateNode);else t.stateNode=Nf(l,n,t.memoizedProps);else i!==n?(i===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):i.count--,n===null?kf(l,t.type,t.stateNode):Nf(l,n,t.memoizedProps)):n===null&&t.stateNode!==null&&Dr(t,t.memoizedProps,a.memoizedProps)}break;case 27:ue(e,t),fe(t),n&512&&(Lt||a===null||Qe(a,a.return)),a!==null&&n&4&&Dr(t,t.memoizedProps,a.memoizedProps);break;case 5:if(ue(e,t),fe(t),n&512&&(Lt||a===null||Qe(a,a.return)),t.flags&32){l=t.stateNode;try{Pn(l,"")}catch(v){Nt(t,t.return,v)}}n&4&&t.stateNode!=null&&(l=t.memoizedProps,Dr(t,l,a!==null?a.memoizedProps:l)),n&1024&&(Rr=!0);break;case 6:if(ue(e,t),fe(t),n&4){if(t.stateNode===null)throw Error(A(162));n=t.memoizedProps,a=t.stateNode;try{a.nodeValue=n}catch(v){Nt(t,t.return,v)}}break;case 3:if(ts=null,l=Ve,Ve=ks(e.containerInfo),ue(e,t),Ve=l,fe(t),n&4&&a!==null&&a.memoizedState.isDehydrated)try{il(e.containerInfo)}catch(v){Nt(t,t.return,v)}Rr&&(Rr=!1,lm(t));break;case 4:n=Ve,Ve=ks(t.stateNode.containerInfo),ue(e,t),fe(t),Ve=n;break;case 12:ue(e,t),fe(t);break;case 31:ue(e,t),fe(t),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,Ci(t,n)));break;case 13:ue(e,t),fe(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ps=Te()),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,Ci(t,n)));break;case 22:l=t.memoizedState!==null;var c=a!==null&&a.memoizedState!==null,u=la,m=Lt;if(la=u||l,Lt=m||c,ue(e,t),Lt=m,la=u,fe(t),n&8192)t:for(e=t.stateNode,e._visibility=l?e._visibility&-2:e._visibility|1,l&&(a===null||c||la||Lt||tn(t)),a=null,e=t;;){if(e.tag===5||e.tag===26){if(a===null){c=a=e;try{if(i=c.stateNode,l)s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{r=c.stateNode;var g=c.memoizedProps.style,f=g!=null&&g.hasOwnProperty("display")?g.display:null;r.style.display=f==null||typeof f=="boolean"?"":(""+f).trim()}}catch(v){Nt(c,c.return,v)}}}else if(e.tag===6){if(a===null){c=e;try{c.stateNode.nodeValue=l?"":c.memoizedProps}catch(v){Nt(c,c.return,v)}}}else if(e.tag===18){if(a===null){c=e;try{var d=c.stateNode;l?xf(d,!0):xf(c.stateNode,!1)}catch(v){Nt(c,c.return,v)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;a===e&&(a=null),e=e.return}a===e&&(a=null),e.sibling.return=e.return,e=e.sibling}n&4&&(n=t.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,Ci(t,a))));break;case 19:ue(e,t),fe(t),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,Ci(t,n)));break;case 30:break;case 21:break;default:ue(e,t),fe(t)}}function fe(t){var e=t.flags;if(e&2){try{for(var a,n=t.return;n!==null;){if(Ih(n)){a=n;break}n=n.return}if(a==null)throw Error(A(160));switch(a.tag){case 27:var l=a.stateNode,i=Ur(t);vs(t,i,l);break;case 5:var s=a.stateNode;a.flags&32&&(Pn(s,""),a.flags&=-33);var r=Ur(t);vs(t,r,s);break;case 3:case 4:var c=a.stateNode.containerInfo,u=Ur(t);Dc(t,u,c);break;default:throw Error(A(161))}}catch(m){Nt(t,t.return,m)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function lm(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;lm(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function ta(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Wh(t,e.alternate,e),e=e.sibling}function tn(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:La(4,e,e.return),tn(e);break;case 1:Qe(e,e.return);var a=e.stateNode;typeof a.componentWillUnmount=="function"&&Kh(e,e.return,a),tn(e);break;case 27:Yl(e.stateNode);case 26:case 5:Qe(e,e.return),tn(e);break;case 22:e.memoizedState===null&&tn(e);break;case 30:tn(e);break;default:tn(e)}t=t.sibling}}function aa(t,e,a){for(a=a&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var n=e.alternate,l=t,i=e,s=i.flags;switch(i.tag){case 0:case 11:case 15:aa(l,i,a),mi(4,i);break;case 1:if(aa(l,i,a),n=i,l=n.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(u){Nt(n,n.return,u)}if(n=i,l=n.updateQueue,l!==null){var r=n.stateNode;try{var c=l.shared.hiddenCallbacks;if(c!==null)for(l.shared.hiddenCallbacks=null,l=0;l<c.length;l++)eh(c[l],r)}catch(u){Nt(n,n.return,u)}}a&&s&64&&Fh(i),Hl(i,i.return);break;case 27:Ph(i);case 26:case 5:aa(l,i,a),a&&n===null&&s&4&&Jh(i),Hl(i,i.return);break;case 12:aa(l,i,a);break;case 31:aa(l,i,a),a&&s&4&&em(l,i);break;case 13:aa(l,i,a),a&&s&4&&am(l,i);break;case 22:i.memoizedState===null&&aa(l,i,a),Hl(i,i.return);break;case 30:break;default:aa(l,i,a)}e=e.sibling}}function Xo(t,e){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&di(a))}function Lo(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&di(t))}function qe(t,e,a,n){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)im(t,e,a,n),e=e.sibling}function im(t,e,a,n){var l=e.flags;switch(e.tag){case 0:case 11:case 15:qe(t,e,a,n),l&2048&&mi(9,e);break;case 1:qe(t,e,a,n);break;case 3:qe(t,e,a,n),l&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&di(t)));break;case 12:if(l&2048){qe(t,e,a,n),t=e.stateNode;try{var i=e.memoizedProps,s=i.id,r=i.onPostCommit;typeof r=="function"&&r(s,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(c){Nt(e,e.return,c)}}else qe(t,e,a,n);break;case 31:qe(t,e,a,n);break;case 13:qe(t,e,a,n);break;case 23:break;case 22:i=e.stateNode,s=e.alternate,e.memoizedState!==null?i._visibility&2?qe(t,e,a,n):Gl(t,e):i._visibility&2?qe(t,e,a,n):(i._visibility|=2,jn(t,e,a,n,(e.subtreeFlags&10256)!==0||!1)),l&2048&&Xo(s,e);break;case 24:qe(t,e,a,n),l&2048&&Lo(e.alternate,e);break;default:qe(t,e,a,n)}}function jn(t,e,a,n,l){for(l=l&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var i=t,s=e,r=a,c=n,u=s.flags;switch(s.tag){case 0:case 11:case 15:jn(i,s,r,c,l),mi(8,s);break;case 23:break;case 22:var m=s.stateNode;s.memoizedState!==null?m._visibility&2?jn(i,s,r,c,l):Gl(i,s):(m._visibility|=2,jn(i,s,r,c,l)),l&&u&2048&&Xo(s.alternate,s);break;case 24:jn(i,s,r,c,l),l&&u&2048&&Lo(s.alternate,s);break;default:jn(i,s,r,c,l)}e=e.sibling}}function Gl(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var a=t,n=e,l=n.flags;switch(n.tag){case 22:Gl(a,n),l&2048&&Xo(n.alternate,n);break;case 24:Gl(a,n),l&2048&&Lo(n.alternate,n);break;default:Gl(a,n)}e=e.sibling}}var Al=8192;function Sn(t,e,a){if(t.subtreeFlags&Al)for(t=t.child;t!==null;)sm(t,e,a),t=t.sibling}function sm(t,e,a){switch(t.tag){case 26:Sn(t,e,a),t.flags&Al&&t.memoizedState!==null&&sb(a,Ve,t.memoizedState,t.memoizedProps);break;case 5:Sn(t,e,a);break;case 3:case 4:var n=Ve;Ve=ks(t.stateNode.containerInfo),Sn(t,e,a),Ve=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Al,Al=16777216,Sn(t,e,a),Al=n):Sn(t,e,a));break;default:Sn(t,e,a)}}function rm(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Sl(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var a=0;a<e.length;a++){var n=e[a];Pt=n,om(n,t)}rm(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)cm(t),t=t.sibling}function cm(t){switch(t.tag){case 0:case 11:case 15:Sl(t),t.flags&2048&&La(9,t,t.return);break;case 3:Sl(t);break;case 12:Sl(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Wi(t)):Sl(t);break;default:Sl(t)}}function Wi(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var a=0;a<e.length;a++){var n=e[a];Pt=n,om(n,t)}rm(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:La(8,e,e.return),Wi(e);break;case 22:a=e.stateNode,a._visibility&2&&(a._visibility&=-3,Wi(e));break;default:Wi(e)}t=t.sibling}}function om(t,e){for(;Pt!==null;){var a=Pt;switch(a.tag){case 0:case 11:case 15:La(8,a,e);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:di(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,Pt=n;else t:for(a=t;Pt!==null;){n=Pt;var l=n.sibling,i=n.return;if($h(n),n===a){Pt=null;break t}if(l!==null){l.return=i,Pt=l;break t}Pt=i}}}var Sp={getCacheForType:function(t){var e=le(Qt),a=e.data.get(t);return a===void 0&&(a=t(),e.data.set(t,a)),a},cacheSignal:function(){return le(Qt).controller.signal}},wp=typeof WeakMap=="function"?WeakMap:Map,xt=0,At=null,dt=null,ht=0,Mt=0,ve=null,za=!1,fl=!1,Qo=!1,ga=0,Gt=0,Qa=0,rn=0,Zo=0,we=0,el=0,ql=null,he=null,Uc=!1,Ps=0,um=0,xs=1/0,Ss=null,Ra=null,Kt=0,Ba=null,al=null,ua=0,Rc=0,Bc=null,fm=null,Vl=0,Hc=null;function je(){return xt&2&&ht!==0?ht&-ht:tt.T!==null?Ko():xd()}function dm(){if(we===0)if(!(ht&536870912)||pt){var t=Ti;Ti<<=1,!(Ti&3932160)&&(Ti=262144),we=t}else we=536870912;return t=Ae.current,t!==null&&(t.flags|=32),we}function me(t,e,a){(t===At&&(Mt===2||Mt===9)||t.cancelPendingCommit!==null)&&(nl(t,0),_a(t,ht,we,!1)),oi(t,a),(!(xt&2)||t!==At)&&(t===At&&(!(xt&2)&&(rn|=a),Gt===4&&_a(t,ht,we,!1)),Ke(t))}function hm(t,e,a){if(xt&6)throw Error(A(327));var n=!a&&(e&127)===0&&(e&t.expiredLanes)===0||ci(t,e),l=n?Np(t,e):Br(t,e,!0),i=n;do{if(l===0){fl&&!n&&_a(t,e,0,!1);break}else{if(a=t.current.alternate,i&&!Tp(a)){l=Br(t,e,!1),i=!1;continue}if(l===2){if(i=e,t.errorRecoveryDisabledLanes&i)var s=0;else s=t.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){e=s;t:{var r=t;l=ql;var c=r.current.memoizedState.isDehydrated;if(c&&(nl(r,s).flags|=256),s=Br(r,s,!1),s!==2){if(Qo&&!c){r.errorRecoveryDisabledLanes|=i,rn|=i,l=4;break t}i=he,he=l,i!==null&&(he===null?he=i:he.push.apply(he,i))}l=s}if(i=!1,l!==2)continue}}if(l===1){nl(t,0),_a(t,e,0,!0);break}t:{switch(n=t,i=l,i){case 0:case 1:throw Error(A(345));case 4:if((e&4194048)!==e)break;case 6:_a(n,e,we,!za);break t;case 2:he=null;break;case 3:case 5:break;default:throw Error(A(329))}if((e&62914560)===e&&(l=Ps+300-Te(),10<l)){if(_a(n,e,we,!za),qs(n,0,!0)!==0)break t;ua=e,n.timeoutHandle=Em(rf.bind(null,n,a,he,Ss,Uc,e,we,rn,el,za,i,"Throttled",-0,0),l);break t}rf(n,a,he,Ss,Uc,e,we,rn,el,za,i,null,-0,0)}}break}while(!0);Ke(t)}function rf(t,e,a,n,l,i,s,r,c,u,m,g,f,d){if(t.timeoutHandle=-1,g=e.subtreeFlags,g&8192||(g&16785408)===16785408){g={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:sa},sm(e,i,g);var v=(i&62914560)===i?Ps-Te():(i&4194048)===i?um-Te():0;if(v=rb(g,v),v!==null){ua=i,t.cancelPendingCommit=v(of.bind(null,t,e,i,a,n,l,s,r,c,m,g,null,f,d)),_a(t,i,s,!u);return}}of(t,e,i,a,n,l,s,r,c)}function Tp(t){for(var e=t;;){var a=e.tag;if((a===0||a===11||a===15)&&e.flags&16384&&(a=e.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var l=a[n],i=l.getSnapshot;l=l.value;try{if(!ke(i(),l))return!1}catch{return!1}}if(a=e.child,e.subtreeFlags&16384&&a!==null)a.return=e,e=a;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _a(t,e,a,n){e&=~Zo,e&=~rn,t.suspendedLanes|=e,t.pingedLanes&=~e,n&&(t.warmLanes|=e),n=t.expirationTimes;for(var l=e;0<l;){var i=31-Ne(l),s=1<<i;n[i]=-1,l&=~s}a!==0&&bd(t,a,e)}function Ws(){return xt&6?!0:(gi(0),!1)}function Fo(){if(dt!==null){if(Mt===0)var t=dt.return;else t=dt,ra=yn=null,Oo(t),Zn=null,Pl=0,t=dt;for(;t!==null;)Zh(t.alternate,t),t=t.return;dt=null}}function nl(t,e){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Xp(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ua=0,Fo(),At=t,dt=a=ca(t.current,null),ht=e,Mt=0,ve=null,za=!1,fl=ci(t,e),Qo=!1,el=we=Zo=rn=Qa=Gt=0,he=ql=null,Uc=!1,e&8&&(e|=e&32);var n=t.entangledLanes;if(n!==0)for(t=t.entanglements,n&=e;0<n;){var l=31-Ne(n),i=1<<l;e|=t[l],n&=~i}return ga=e,Ls(),a}function mm(t,e){lt=null,tt.H=$l,e===ul||e===Zs?(e=Hu(),Mt=3):e===No?(e=Hu(),Mt=4):Mt=e===Vo?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,ve=e,dt===null&&(Gt=1,bs(t,De(e,t.current)))}function gm(){var t=Ae.current;return t===null?!0:(ht&4194048)===ht?Re===null:(ht&62914560)===ht||ht&536870912?t===Re:!1}function pm(){var t=tt.H;return tt.H=$l,t===null?$l:t}function bm(){var t=tt.A;return tt.A=Sp,t}function ws(){Gt=4,za||(ht&4194048)!==ht&&Ae.current!==null||(fl=!0),!(Qa&134217727)&&!(rn&134217727)||At===null||_a(At,ht,we,!1)}function Br(t,e,a){var n=xt;xt|=2;var l=pm(),i=bm();(At!==t||ht!==e)&&(Ss=null,nl(t,e)),e=!1;var s=Gt;t:do try{if(Mt!==0&&dt!==null){var r=dt,c=ve;switch(Mt){case 8:Fo(),s=6;break t;case 3:case 2:case 9:case 6:Ae.current===null&&(e=!0);var u=Mt;if(Mt=0,ve=null,Vn(t,r,c,u),a&&fl){s=0;break t}break;default:u=Mt,Mt=0,ve=null,Vn(t,r,c,u)}}Mp(),s=Gt;break}catch(m){mm(t,m)}while(!0);return e&&t.shellSuspendCounter++,ra=yn=null,xt=n,tt.H=l,tt.A=i,dt===null&&(At=null,ht=0,Ls()),s}function Mp(){for(;dt!==null;)ym(dt)}function Np(t,e){var a=xt;xt|=2;var n=pm(),l=bm();At!==t||ht!==e?(Ss=null,xs=Te()+500,nl(t,e)):fl=ci(t,e);t:do try{if(Mt!==0&&dt!==null){e=dt;var i=ve;e:switch(Mt){case 1:Mt=0,ve=null,Vn(t,e,i,1);break;case 2:case 9:if(Bu(i)){Mt=0,ve=null,cf(e);break}e=function(){Mt!==2&&Mt!==9||At!==t||(Mt=7),Ke(t)},i.then(e,e);break t;case 3:Mt=7;break t;case 4:Mt=5;break t;case 7:Bu(i)?(Mt=0,ve=null,cf(e)):(Mt=0,ve=null,Vn(t,e,i,7));break;case 5:var s=null;switch(dt.tag){case 26:s=dt.memoizedState;case 5:case 27:var r=dt;if(s?Hm(s):r.stateNode.complete){Mt=0,ve=null;var c=r.sibling;if(c!==null)dt=c;else{var u=r.return;u!==null?(dt=u,$s(u)):dt=null}break e}}Mt=0,ve=null,Vn(t,e,i,5);break;case 6:Mt=0,ve=null,Vn(t,e,i,6);break;case 8:Fo(),Gt=6;break t;default:throw Error(A(462))}}jp();break}catch(m){mm(t,m)}while(!0);return ra=yn=null,tt.H=n,tt.A=l,xt=a,dt!==null?0:(At=null,ht=0,Ls(),Gt)}function jp(){for(;dt!==null&&!J0();)ym(dt)}function ym(t){var e=Qh(t.alternate,t,ga);t.memoizedProps=t.pendingProps,e===null?$s(t):dt=e}function cf(t){var e=t,a=e.alternate;switch(e.tag){case 15:case 0:e=tf(a,e,e.pendingProps,e.type,void 0,ht);break;case 11:e=tf(a,e,e.pendingProps,e.type.render,e.ref,ht);break;case 5:Oo(e);default:Zh(a,e),e=dt=Zd(e,ga),e=Qh(a,e,ga)}t.memoizedProps=t.pendingProps,e===null?$s(t):dt=e}function Vn(t,e,a,n){ra=yn=null,Oo(e),Zn=null,Pl=0;var l=e.return;try{if(mp(t,l,e,a,ht)){Gt=1,bs(t,De(a,t.current)),dt=null;return}}catch(i){if(l!==null)throw dt=l,i;Gt=1,bs(t,De(a,t.current)),dt=null;return}e.flags&32768?(pt||n===1?t=!0:fl||ht&536870912?t=!1:(za=t=!0,(n===2||n===9||n===3||n===6)&&(n=Ae.current,n!==null&&n.tag===13&&(n.flags|=16384))),vm(e,t)):$s(e)}function $s(t){var e=t;do{if(e.flags&32768){vm(e,za);return}t=e.return;var a=bp(e.alternate,e,ga);if(a!==null){dt=a;return}if(e=e.sibling,e!==null){dt=e;return}dt=e=t}while(e!==null);Gt===0&&(Gt=5)}function vm(t,e){do{var a=yp(t.alternate,t);if(a!==null){a.flags&=32767,dt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!e&&(t=t.sibling,t!==null)){dt=t;return}dt=t=a}while(t!==null);Gt=6,dt=null}function of(t,e,a,n,l,i,s,r,c){t.cancelPendingCommit=null;do tr();while(Kt!==0);if(xt&6)throw Error(A(327));if(e!==null){if(e===t.current)throw Error(A(177));if(i=e.lanes|e.childLanes,i|=yo,ig(t,a,i,s,r,c),t===At&&(dt=At=null,ht=0),al=e,Ba=t,ua=a,Rc=i,Bc=l,fm=n,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,_p(ss,function(){return Mm(),null})):(t.callbackNode=null,t.callbackPriority=0),n=(e.flags&13878)!==0,e.subtreeFlags&13878||n){n=tt.T,tt.T=null,l=St.p,St.p=2,s=xt,xt|=4;try{vp(t,e,a)}finally{xt=s,St.p=l,tt.T=n}}Kt=1,xm(),Sm(),wm()}}function xm(){if(Kt===1){Kt=0;var t=Ba,e=al,a=(e.flags&13878)!==0;if(e.subtreeFlags&13878||a){a=tt.T,tt.T=null;var n=St.p;St.p=2;var l=xt;xt|=4;try{nm(e,t);var i=Yc,s=Hd(t.containerInfo),r=i.focusedElem,c=i.selectionRange;if(s!==r&&r&&r.ownerDocument&&Bd(r.ownerDocument.documentElement,r)){if(c!==null&&bo(r)){var u=c.start,m=c.end;if(m===void 0&&(m=u),"selectionStart"in r)r.selectionStart=u,r.selectionEnd=Math.min(m,r.value.length);else{var g=r.ownerDocument||document,f=g&&g.defaultView||window;if(f.getSelection){var d=f.getSelection(),v=r.textContent.length,y=Math.min(c.start,v),w=c.end===void 0?y:Math.min(c.end,v);!d.extend&&y>w&&(s=w,w=y,y=s);var p=_u(r,y),h=_u(r,w);if(p&&h&&(d.rangeCount!==1||d.anchorNode!==p.node||d.anchorOffset!==p.offset||d.focusNode!==h.node||d.focusOffset!==h.offset)){var b=g.createRange();b.setStart(p.node,p.offset),d.removeAllRanges(),y>w?(d.addRange(b),d.extend(h.node,h.offset)):(b.setEnd(h.node,h.offset),d.addRange(b))}}}}for(g=[],d=r;d=d.parentNode;)d.nodeType===1&&g.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<g.length;r++){var x=g[r];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}_s=!!Vc,Yc=Vc=null}finally{xt=l,St.p=n,tt.T=a}}t.current=e,Kt=2}}function Sm(){if(Kt===2){Kt=0;var t=Ba,e=al,a=(e.flags&8772)!==0;if(e.subtreeFlags&8772||a){a=tt.T,tt.T=null;var n=St.p;St.p=2;var l=xt;xt|=4;try{Wh(t,e.alternate,e)}finally{xt=l,St.p=n,tt.T=a}}Kt=3}}function wm(){if(Kt===4||Kt===3){Kt=0,I0();var t=Ba,e=al,a=ua,n=fm;e.subtreeFlags&10256||e.flags&10256?Kt=5:(Kt=0,al=Ba=null,Tm(t,t.pendingLanes));var l=t.pendingLanes;if(l===0&&(Ra=null),oo(a),e=e.stateNode,Me&&typeof Me.onCommitFiberRoot=="function")try{Me.onCommitFiberRoot(ri,e,void 0,(e.current.flags&128)===128)}catch{}if(n!==null){e=tt.T,l=St.p,St.p=2,tt.T=null;try{for(var i=t.onRecoverableError,s=0;s<n.length;s++){var r=n[s];i(r.value,{componentStack:r.stack})}}finally{tt.T=e,St.p=l}}ua&3&&tr(),Ke(t),l=t.pendingLanes,a&261930&&l&42?t===Hc?Vl++:(Vl=0,Hc=t):Vl=0,gi(0)}}function Tm(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,di(e)))}function tr(){return xm(),Sm(),wm(),Mm()}function Mm(){if(Kt!==5)return!1;var t=Ba,e=Rc;Rc=0;var a=oo(ua),n=tt.T,l=St.p;try{St.p=32>a?32:a,tt.T=null,a=Bc,Bc=null;var i=Ba,s=ua;if(Kt=0,al=Ba=null,ua=0,xt&6)throw Error(A(331));var r=xt;if(xt|=4,cm(i.current),im(i,i.current,s,a),xt=r,gi(0,!1),Me&&typeof Me.onPostCommitFiberRoot=="function")try{Me.onPostCommitFiberRoot(ri,i)}catch{}return!0}finally{St.p=l,tt.T=n,Tm(t,e)}}function uf(t,e,a){e=De(a,e),e=Cc(t.stateNode,e,2),t=Ua(t,e,2),t!==null&&(oi(t,2),Ke(t))}function Nt(t,e,a){if(t.tag===3)uf(t,t,a);else for(;e!==null;){if(e.tag===3){uf(e,t,a);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ra===null||!Ra.has(n))){t=De(a,t),a=Gh(2),n=Ua(e,a,2),n!==null&&(qh(a,n,e,t),oi(n,2),Ke(n));break}}e=e.return}}function Hr(t,e,a){var n=t.pingCache;if(n===null){n=t.pingCache=new wp;var l=new Set;n.set(e,l)}else l=n.get(e),l===void 0&&(l=new Set,n.set(e,l));l.has(a)||(Qo=!0,l.add(a),t=kp.bind(null,t,e,a),e.then(t,t))}function kp(t,e,a){var n=t.pingCache;n!==null&&n.delete(e),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,At===t&&(ht&a)===a&&(Gt===4||Gt===3&&(ht&62914560)===ht&&300>Te()-Ps?!(xt&2)&&nl(t,0):Zo|=a,el===ht&&(el=0)),Ke(t)}function Nm(t,e){e===0&&(e=pd()),t=bn(t,e),t!==null&&(oi(t,e),Ke(t))}function Ap(t){var e=t.memoizedState,a=0;e!==null&&(a=e.retryLane),Nm(t,a)}function zp(t,e){var a=0;switch(t.tag){case 31:case 13:var n=t.stateNode,l=t.memoizedState;l!==null&&(a=l.retryLane);break;case 19:n=t.stateNode;break;case 22:n=t.stateNode._retryCache;break;default:throw Error(A(314))}n!==null&&n.delete(e),Nm(t,a)}function _p(t,e){return ro(t,e)}var Ts=null,kn=null,Gc=!1,Ms=!1,Gr=!1,Ca=0;function Ke(t){t!==kn&&t.next===null&&(kn===null?Ts=kn=t:kn=kn.next=t),Ms=!0,Gc||(Gc=!0,Op())}function gi(t,e){if(!Gr&&Ms){Gr=!0;do for(var a=!1,n=Ts;n!==null;){if(t!==0){var l=n.pendingLanes;if(l===0)var i=0;else{var s=n.suspendedLanes,r=n.pingedLanes;i=(1<<31-Ne(42|t)+1)-1,i&=l&~(s&~r),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(a=!0,ff(n,i))}else i=ht,i=qs(n,n===At?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),!(i&3)||ci(n,i)||(a=!0,ff(n,i));n=n.next}while(a);Gr=!1}}function Cp(){jm()}function jm(){Ms=Gc=!1;var t=0;Ca!==0&&Yp()&&(t=Ca);for(var e=Te(),a=null,n=Ts;n!==null;){var l=n.next,i=km(n,e);i===0?(n.next=null,a===null?Ts=l:a.next=l,l===null&&(kn=a)):(a=n,(t!==0||i&3)&&(Ms=!0)),n=l}Kt!==0&&Kt!==5||gi(t),Ca!==0&&(Ca=0)}function km(t,e){for(var a=t.suspendedLanes,n=t.pingedLanes,l=t.expirationTimes,i=t.pendingLanes&-62914561;0<i;){var s=31-Ne(i),r=1<<s,c=l[s];c===-1?(!(r&a)||r&n)&&(l[s]=lg(r,e)):c<=e&&(t.expiredLanes|=r),i&=~r}if(e=At,a=ht,a=qs(t,t===e?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),n=t.callbackNode,a===0||t===e&&(Mt===2||Mt===9)||t.cancelPendingCommit!==null)return n!==null&&n!==null&&hr(n),t.callbackNode=null,t.callbackPriority=0;if(!(a&3)||ci(t,a)){if(e=a&-a,e===t.callbackPriority)return e;switch(n!==null&&hr(n),oo(a)){case 2:case 8:a=md;break;case 32:a=ss;break;case 268435456:a=gd;break;default:a=ss}return n=Am.bind(null,t),a=ro(a,n),t.callbackPriority=e,t.callbackNode=a,e}return n!==null&&n!==null&&hr(n),t.callbackPriority=2,t.callbackNode=null,2}function Am(t,e){if(Kt!==0&&Kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(tr()&&t.callbackNode!==a)return null;var n=ht;return n=qs(t,t===At?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),n===0?null:(hm(t,n,e),km(t,Te()),t.callbackNode!=null&&t.callbackNode===a?Am.bind(null,t):null)}function ff(t,e){if(tr())return null;hm(t,e,!0)}function Op(){Lp(function(){xt&6?ro(hd,Cp):jm()})}function Ko(){if(Ca===0){var t=Wn;t===0&&(t=wi,wi<<=1,!(wi&261888)&&(wi=256)),Ca=t}return Ca}function df(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Xi(""+t)}function hf(t,e){var a=e.ownerDocument.createElement("input");return a.name=e.name,a.value=e.value,t.id&&a.setAttribute("form",t.id),e.parentNode.insertBefore(a,e),t=new FormData(t),a.parentNode.removeChild(a),t}function Ep(t,e,a,n,l){if(e==="submit"&&a&&a.stateNode===l){var i=df((l[ge]||null).action),s=n.submitter;s&&(e=(e=s[ge]||null)?df(e.formAction):s.getAttribute("formAction"),e!==null&&(i=e,s=null));var r=new Vs("action","action",null,n,l);t.push({event:r,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Ca!==0){var c=s?hf(l,s):new FormData(l);zc(a,{pending:!0,data:c,method:l.method,action:i},null,c)}}else typeof i=="function"&&(r.preventDefault(),c=s?hf(l,s):new FormData(l),zc(a,{pending:!0,data:c,method:l.method,action:i},i,c))},currentTarget:l}]})}}for(var qr=0;qr<bc.length;qr++){var Vr=bc[qr],Dp=Vr.toLowerCase(),Up=Vr[0].toUpperCase()+Vr.slice(1);Ye(Dp,"on"+Up)}Ye(qd,"onAnimationEnd");Ye(Vd,"onAnimationIteration");Ye(Yd,"onAnimationStart");Ye("dblclick","onDoubleClick");Ye("focusin","onFocus");Ye("focusout","onBlur");Ye(Pg,"onTransitionRun");Ye(Wg,"onTransitionStart");Ye($g,"onTransitionCancel");Ye(Xd,"onTransitionEnd");In("onMouseEnter",["mouseout","mouseover"]);In("onMouseLeave",["mouseout","mouseover"]);In("onPointerEnter",["pointerout","pointerover"]);In("onPointerLeave",["pointerout","pointerover"]);mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mn("onBeforeInput",["compositionend","keypress","textInput","paste"]);mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ti="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ti));function zm(t,e){e=(e&4)!==0;for(var a=0;a<t.length;a++){var n=t[a],l=n.event;n=n.listeners;t:{var i=void 0;if(e)for(var s=n.length-1;0<=s;s--){var r=n[s],c=r.instance,u=r.currentTarget;if(r=r.listener,c!==i&&l.isPropagationStopped())break t;i=r,l.currentTarget=u;try{i(l)}catch(m){cs(m)}l.currentTarget=null,i=c}else for(s=0;s<n.length;s++){if(r=n[s],c=r.instance,u=r.currentTarget,r=r.listener,c!==i&&l.isPropagationStopped())break t;i=r,l.currentTarget=u;try{i(l)}catch(m){cs(m)}l.currentTarget=null,i=c}}}}function ft(t,e){var a=e[oc];a===void 0&&(a=e[oc]=new Set);var n=t+"__bubble";a.has(n)||(_m(e,t,2,!1),a.add(n))}function Yr(t,e,a){var n=0;e&&(n|=4),_m(a,t,n,e)}var Oi="_reactListening"+Math.random().toString(36).slice(2);function Jo(t){if(!t[Oi]){t[Oi]=!0,Sd.forEach(function(a){a!=="selectionchange"&&(Rp.has(a)||Yr(a,!1,t),Yr(a,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Oi]||(e[Oi]=!0,Yr("selectionchange",!1,e))}}function _m(t,e,a,n){switch(Xm(e)){case 2:var l=ub;break;case 8:l=fb;break;default:l=$o}a=l.bind(null,e,a,t),l=void 0,!mc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(l=!0),n?l!==void 0?t.addEventListener(e,a,{capture:!0,passive:l}):t.addEventListener(e,a,!0):l!==void 0?t.addEventListener(e,a,{passive:l}):t.addEventListener(e,a,!1)}function Xr(t,e,a,n,l){var i=n;if(!(e&1)&&!(e&2)&&n!==null)t:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var r=n.stateNode.containerInfo;if(r===l)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&s.stateNode.containerInfo===l)return;s=s.return}for(;r!==null;){if(s=On(r),s===null)return;if(c=s.tag,c===5||c===6||c===26||c===27){n=i=s;continue t}r=r.parentNode}}n=n.return}zd(function(){var u=i,m=ho(a),g=[];t:{var f=Ld.get(t);if(f!==void 0){var d=Vs,v=t;switch(t){case"keypress":if(Qi(a)===0)break t;case"keydown":case"keyup":d=zg;break;case"focusin":v="focus",d=yr;break;case"focusout":v="blur",d=yr;break;case"beforeblur":case"afterblur":d=yr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=xu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=bg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=Og;break;case qd:case Vd:case Yd:d=xg;break;case Xd:d=Dg;break;case"scroll":case"scrollend":d=gg;break;case"wheel":d=Rg;break;case"copy":case"cut":case"paste":d=wg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=wu;break;case"toggle":case"beforetoggle":d=Hg}var y=(e&4)!==0,w=!y&&(t==="scroll"||t==="scrollend"),p=y?f!==null?f+"Capture":null:f;y=[];for(var h=u,b;h!==null;){var x=h;if(b=x.stateNode,x=x.tag,x!==5&&x!==26&&x!==27||b===null||p===null||(x=Zl(h,p),x!=null&&y.push(ei(h,x,b))),w)break;h=h.return}0<y.length&&(f=new d(f,v,null,a,m),g.push({event:f,listeners:y}))}}if(!(e&7)){t:{if(f=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",f&&a!==hc&&(v=a.relatedTarget||a.fromElement)&&(On(v)||v[rl]))break t;if((d||f)&&(f=m.window===m?m:(f=m.ownerDocument)?f.defaultView||f.parentWindow:window,d?(v=a.relatedTarget||a.toElement,d=u,v=v?On(v):null,v!==null&&(w=si(v),y=v.tag,v!==w||y!==5&&y!==27&&y!==6)&&(v=null)):(d=null,v=u),d!==v)){if(y=xu,x="onMouseLeave",p="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(y=wu,x="onPointerLeave",p="onPointerEnter",h="pointer"),w=d==null?f:jl(d),b=v==null?f:jl(v),f=new y(x,h+"leave",d,a,m),f.target=w,f.relatedTarget=b,x=null,On(m)===u&&(y=new y(p,h+"enter",v,a,m),y.target=b,y.relatedTarget=w,x=y),w=x,d&&v)e:{for(y=Bp,p=d,h=v,b=0,x=p;x;x=y(x))b++;x=0;for(var T=h;T;T=y(T))x++;for(;0<b-x;)p=y(p),b--;for(;0<x-b;)h=y(h),x--;for(;b--;){if(p===h||h!==null&&p===h.alternate){y=p;break e}p=y(p),h=y(h)}y=null}else y=null;d!==null&&mf(g,f,d,y,!1),v!==null&&w!==null&&mf(g,w,v,y,!0)}}t:{if(f=u?jl(u):window,d=f.nodeName&&f.nodeName.toLowerCase(),d==="select"||d==="input"&&f.type==="file")var M=ju;else if(Nu(f))if(Ud)M=Kg;else{M=Zg;var z=Qg}else d=f.nodeName,!d||d.toLowerCase()!=="input"||f.type!=="checkbox"&&f.type!=="radio"?u&&fo(u.elementType)&&(M=ju):M=Fg;if(M&&(M=M(t,u))){Dd(g,M,a,m);break t}z&&z(t,f,u),t==="focusout"&&u&&f.type==="number"&&u.memoizedProps.value!=null&&dc(f,"number",f.value)}switch(z=u?jl(u):window,t){case"focusin":(Nu(z)||z.contentEditable==="true")&&(Un=z,gc=u,Ol=null);break;case"focusout":Ol=gc=Un=null;break;case"mousedown":pc=!0;break;case"contextmenu":case"mouseup":case"dragend":pc=!1,Cu(g,a,m);break;case"selectionchange":if(Ig)break;case"keydown":case"keyup":Cu(g,a,m)}var S;if(po)t:{switch(t){case"compositionstart":var N="onCompositionStart";break t;case"compositionend":N="onCompositionEnd";break t;case"compositionupdate":N="onCompositionUpdate";break t}N=void 0}else Dn?Od(t,a)&&(N="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(N="onCompositionStart");N&&(Cd&&a.locale!=="ko"&&(Dn||N!=="onCompositionStart"?N==="onCompositionEnd"&&Dn&&(S=_d()):(Aa=m,mo="value"in Aa?Aa.value:Aa.textContent,Dn=!0)),z=Ns(u,N),0<z.length&&(N=new Su(N,t,null,a,m),g.push({event:N,listeners:z}),S?N.data=S:(S=Ed(a),S!==null&&(N.data=S)))),(S=qg?Vg(t,a):Yg(t,a))&&(N=Ns(u,"onBeforeInput"),0<N.length&&(z=new Su("onBeforeInput","beforeinput",null,a,m),g.push({event:z,listeners:N}),z.data=S)),Ep(g,t,u,a,m)}zm(g,e)})}function ei(t,e,a){return{instance:t,listener:e,currentTarget:a}}function Ns(t,e){for(var a=e+"Capture",n=[];t!==null;){var l=t,i=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||i===null||(l=Zl(t,a),l!=null&&n.unshift(ei(t,l,i)),l=Zl(t,e),l!=null&&n.push(ei(t,l,i))),t.tag===3)return n;t=t.return}return[]}function Bp(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function mf(t,e,a,n,l){for(var i=e._reactName,s=[];a!==null&&a!==n;){var r=a,c=r.alternate,u=r.stateNode;if(r=r.tag,c!==null&&c===n)break;r!==5&&r!==26&&r!==27||u===null||(c=u,l?(u=Zl(a,i),u!=null&&s.unshift(ei(a,u,c))):l||(u=Zl(a,i),u!=null&&s.push(ei(a,u,c)))),a=a.return}s.length!==0&&t.push({event:e,listeners:s})}var Hp=/\r\n?/g,Gp=/\u0000|\uFFFD/g;function gf(t){return(typeof t=="string"?t:""+t).replace(Hp,`
`).replace(Gp,"")}function Cm(t,e){return e=gf(e),gf(t)===e}function jt(t,e,a,n,l,i){switch(a){case"children":typeof n=="string"?e==="body"||e==="textarea"&&n===""||Pn(t,n):(typeof n=="number"||typeof n=="bigint")&&e!=="body"&&Pn(t,""+n);break;case"className":Ni(t,"class",n);break;case"tabIndex":Ni(t,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Ni(t,a,n);break;case"style":Ad(t,n,i);break;case"data":if(e!=="object"){Ni(t,"data",n);break}case"src":case"href":if(n===""&&(e!=="a"||a!=="href")){t.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(a);break}n=Xi(""+n),t.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(a==="formAction"?(e!=="input"&&jt(t,e,"name",l.name,l,null),jt(t,e,"formEncType",l.formEncType,l,null),jt(t,e,"formMethod",l.formMethod,l,null),jt(t,e,"formTarget",l.formTarget,l,null)):(jt(t,e,"encType",l.encType,l,null),jt(t,e,"method",l.method,l,null),jt(t,e,"target",l.target,l,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(a);break}n=Xi(""+n),t.setAttribute(a,n);break;case"onClick":n!=null&&(t.onclick=sa);break;case"onScroll":n!=null&&ft("scroll",t);break;case"onScrollEnd":n!=null&&ft("scrollend",t);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(A(61));if(a=n.__html,a!=null){if(l.children!=null)throw Error(A(60));t.innerHTML=a}}break;case"multiple":t.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":t.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){t.removeAttribute("xlink:href");break}a=Xi(""+n),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(a,""+n):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":n===!0?t.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(a,n):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?t.setAttribute(a,n):t.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?t.removeAttribute(a):t.setAttribute(a,n);break;case"popover":ft("beforetoggle",t),ft("toggle",t),Yi(t,"popover",n);break;case"xlinkActuate":Pe(t,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":Pe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":Pe(t,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":Pe(t,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":Pe(t,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":Pe(t,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":Pe(t,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":Pe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":Pe(t,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Yi(t,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=hg.get(a)||a,Yi(t,a,n))}}function qc(t,e,a,n,l,i){switch(a){case"style":Ad(t,n,i);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(A(61));if(a=n.__html,a!=null){if(l.children!=null)throw Error(A(60));t.innerHTML=a}}break;case"children":typeof n=="string"?Pn(t,n):(typeof n=="number"||typeof n=="bigint")&&Pn(t,""+n);break;case"onScroll":n!=null&&ft("scroll",t);break;case"onScrollEnd":n!=null&&ft("scrollend",t);break;case"onClick":n!=null&&(t.onclick=sa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wd.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(l=a.endsWith("Capture"),e=a.slice(2,l?a.length-7:void 0),i=t[ge]||null,i=i!=null?i[a]:null,typeof i=="function"&&t.removeEventListener(e,i,l),typeof n=="function")){typeof i!="function"&&i!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(e,n,l);break t}a in t?t[a]=n:n===!0?t.setAttribute(a,""):Yi(t,a,n)}}}function ie(t,e,a){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ft("error",t),ft("load",t);var n=!1,l=!1,i;for(i in a)if(a.hasOwnProperty(i)){var s=a[i];if(s!=null)switch(i){case"src":n=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(A(137,e));default:jt(t,e,i,s,a,null)}}l&&jt(t,e,"srcSet",a.srcSet,a,null),n&&jt(t,e,"src",a.src,a,null);return;case"input":ft("invalid",t);var r=i=s=l=null,c=null,u=null;for(n in a)if(a.hasOwnProperty(n)){var m=a[n];if(m!=null)switch(n){case"name":l=m;break;case"type":s=m;break;case"checked":c=m;break;case"defaultChecked":u=m;break;case"value":i=m;break;case"defaultValue":r=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(A(137,e));break;default:jt(t,e,n,m,a,null)}}Nd(t,i,r,c,u,s,l,!1);return;case"select":ft("invalid",t),n=s=i=null;for(l in a)if(a.hasOwnProperty(l)&&(r=a[l],r!=null))switch(l){case"value":i=r;break;case"defaultValue":s=r;break;case"multiple":n=r;default:jt(t,e,l,r,a,null)}e=i,a=s,t.multiple=!!n,e!=null?Xn(t,!!n,e,!1):a!=null&&Xn(t,!!n,a,!0);return;case"textarea":ft("invalid",t),i=l=n=null;for(s in a)if(a.hasOwnProperty(s)&&(r=a[s],r!=null))switch(s){case"value":n=r;break;case"defaultValue":l=r;break;case"children":i=r;break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(A(91));break;default:jt(t,e,s,r,a,null)}kd(t,n,l,i);return;case"option":for(c in a)if(a.hasOwnProperty(c)&&(n=a[c],n!=null))switch(c){case"selected":t.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:jt(t,e,c,n,a,null)}return;case"dialog":ft("beforetoggle",t),ft("toggle",t),ft("cancel",t),ft("close",t);break;case"iframe":case"object":ft("load",t);break;case"video":case"audio":for(n=0;n<ti.length;n++)ft(ti[n],t);break;case"image":ft("error",t),ft("load",t);break;case"details":ft("toggle",t);break;case"embed":case"source":case"link":ft("error",t),ft("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in a)if(a.hasOwnProperty(u)&&(n=a[u],n!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(A(137,e));default:jt(t,e,u,n,a,null)}return;default:if(fo(e)){for(m in a)a.hasOwnProperty(m)&&(n=a[m],n!==void 0&&qc(t,e,m,n,a,void 0));return}}for(r in a)a.hasOwnProperty(r)&&(n=a[r],n!=null&&jt(t,e,r,n,a,null))}function qp(t,e,a,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,i=null,s=null,r=null,c=null,u=null,m=null;for(d in a){var g=a[d];if(a.hasOwnProperty(d)&&g!=null)switch(d){case"checked":break;case"value":break;case"defaultValue":c=g;default:n.hasOwnProperty(d)||jt(t,e,d,null,n,g)}}for(var f in n){var d=n[f];if(g=a[f],n.hasOwnProperty(f)&&(d!=null||g!=null))switch(f){case"type":i=d;break;case"name":l=d;break;case"checked":u=d;break;case"defaultChecked":m=d;break;case"value":s=d;break;case"defaultValue":r=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(A(137,e));break;default:d!==g&&jt(t,e,f,d,n,g)}}fc(t,s,r,c,u,m,i,l);return;case"select":d=s=r=f=null;for(i in a)if(c=a[i],a.hasOwnProperty(i)&&c!=null)switch(i){case"value":break;case"multiple":d=c;default:n.hasOwnProperty(i)||jt(t,e,i,null,n,c)}for(l in n)if(i=n[l],c=a[l],n.hasOwnProperty(l)&&(i!=null||c!=null))switch(l){case"value":f=i;break;case"defaultValue":r=i;break;case"multiple":s=i;default:i!==c&&jt(t,e,l,i,n,c)}e=r,a=s,n=d,f!=null?Xn(t,!!a,f,!1):!!n!=!!a&&(e!=null?Xn(t,!!a,e,!0):Xn(t,!!a,a?[]:"",!1));return;case"textarea":d=f=null;for(r in a)if(l=a[r],a.hasOwnProperty(r)&&l!=null&&!n.hasOwnProperty(r))switch(r){case"value":break;case"children":break;default:jt(t,e,r,null,n,l)}for(s in n)if(l=n[s],i=a[s],n.hasOwnProperty(s)&&(l!=null||i!=null))switch(s){case"value":f=l;break;case"defaultValue":d=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(A(91));break;default:l!==i&&jt(t,e,s,l,n,i)}jd(t,f,d);return;case"option":for(var v in a)if(f=a[v],a.hasOwnProperty(v)&&f!=null&&!n.hasOwnProperty(v))switch(v){case"selected":t.selected=!1;break;default:jt(t,e,v,null,n,f)}for(c in n)if(f=n[c],d=a[c],n.hasOwnProperty(c)&&f!==d&&(f!=null||d!=null))switch(c){case"selected":t.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:jt(t,e,c,f,n,d)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var y in a)f=a[y],a.hasOwnProperty(y)&&f!=null&&!n.hasOwnProperty(y)&&jt(t,e,y,null,n,f);for(u in n)if(f=n[u],d=a[u],n.hasOwnProperty(u)&&f!==d&&(f!=null||d!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(A(137,e));break;default:jt(t,e,u,f,n,d)}return;default:if(fo(e)){for(var w in a)f=a[w],a.hasOwnProperty(w)&&f!==void 0&&!n.hasOwnProperty(w)&&qc(t,e,w,void 0,n,f);for(m in n)f=n[m],d=a[m],!n.hasOwnProperty(m)||f===d||f===void 0&&d===void 0||qc(t,e,m,f,n,d);return}}for(var p in a)f=a[p],a.hasOwnProperty(p)&&f!=null&&!n.hasOwnProperty(p)&&jt(t,e,p,null,n,f);for(g in n)f=n[g],d=a[g],!n.hasOwnProperty(g)||f===d||f==null&&d==null||jt(t,e,g,f,n,d)}function pf(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Vp(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,a=performance.getEntriesByType("resource"),n=0;n<a.length;n++){var l=a[n],i=l.transferSize,s=l.initiatorType,r=l.duration;if(i&&r&&pf(s)){for(s=0,r=l.responseEnd,n+=1;n<a.length;n++){var c=a[n],u=c.startTime;if(u>r)break;var m=c.transferSize,g=c.initiatorType;m&&pf(g)&&(c=c.responseEnd,s+=m*(c<r?1:(r-u)/(c-u)))}if(--n,e+=8*(i+s)/(l.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Vc=null,Yc=null;function js(t){return t.nodeType===9?t:t.ownerDocument}function bf(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Om(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Xc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Lr=null;function Yp(){var t=window.event;return t&&t.type==="popstate"?t===Lr?!1:(Lr=t,!0):(Lr=null,!1)}var Em=typeof setTimeout=="function"?setTimeout:void 0,Xp=typeof clearTimeout=="function"?clearTimeout:void 0,yf=typeof Promise=="function"?Promise:void 0,Lp=typeof queueMicrotask=="function"?queueMicrotask:typeof yf<"u"?function(t){return yf.resolve(null).then(t).catch(Qp)}:Em;function Qp(t){setTimeout(function(){throw t})}function Fa(t){return t==="head"}function vf(t,e){var a=e,n=0;do{var l=a.nextSibling;if(t.removeChild(a),l&&l.nodeType===8)if(a=l.data,a==="/$"||a==="/&"){if(n===0){t.removeChild(l),il(e);return}n--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")n++;else if(a==="html")Yl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Yl(a);for(var i=a.firstChild;i;){var s=i.nextSibling,r=i.nodeName;i[ui]||r==="SCRIPT"||r==="STYLE"||r==="LINK"&&i.rel.toLowerCase()==="stylesheet"||a.removeChild(i),i=s}}else a==="body"&&Yl(t.ownerDocument.body);a=l}while(a);il(e)}function xf(t,e){var a=t;t=0;do{var n=a.nextSibling;if(a.nodeType===1?e?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(e?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=n}while(a)}function Lc(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var a=e;switch(e=e.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Lc(a),uo(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Zp(t,e,a,n){for(;t.nodeType===1;){var l=a;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!n&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(n){if(!t[ui])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(i=t.getAttribute("rel"),i==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(i!==l.rel||t.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||t.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||t.getAttribute("title")!==(l.title==null?null:l.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(i=t.getAttribute("src"),(i!==(l.src==null?null:l.src)||t.getAttribute("type")!==(l.type==null?null:l.type)||t.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&i&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var i=l.name==null?null:""+l.name;if(l.type==="hidden"&&t.getAttribute("name")===i)return t}else return t;if(t=Be(t.nextSibling),t===null)break}return null}function Fp(t,e,a){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Be(t.nextSibling),t===null))return null;return t}function Dm(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Be(t.nextSibling),t===null))return null;return t}function Qc(t){return t.data==="$?"||t.data==="$~"}function Zc(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Kp(t,e){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||a.readyState!=="loading")e();else{var n=function(){e(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),t._reactRetry=n}}function Be(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Fc=null;function Sf(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(e===0)return Be(t.nextSibling);e--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||e++}t=t.nextSibling}return null}function wf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(e===0)return t;e--}else a!=="/$"&&a!=="/&"||e++}t=t.previousSibling}return null}function Um(t,e,a){switch(e=js(a),t){case"html":if(t=e.documentElement,!t)throw Error(A(452));return t;case"head":if(t=e.head,!t)throw Error(A(453));return t;case"body":if(t=e.body,!t)throw Error(A(454));return t;default:throw Error(A(451))}}function Yl(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);uo(t)}var He=new Map,Tf=new Set;function ks(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ba=St.d;St.d={f:Jp,r:Ip,D:Pp,C:Wp,L:$p,m:tb,X:ab,S:eb,M:nb};function Jp(){var t=ba.f(),e=Ws();return t||e}function Ip(t){var e=cl(t);e!==null&&e.tag===5&&e.type==="form"?Ah(e):ba.r(t)}var dl=typeof document>"u"?null:document;function Rm(t,e,a){var n=dl;if(n&&typeof e=="string"&&e){var l=Ee(e);l='link[rel="'+t+'"][href="'+l+'"]',typeof a=="string"&&(l+='[crossorigin="'+a+'"]'),Tf.has(l)||(Tf.add(l),t={rel:t,crossOrigin:a,href:e},n.querySelector(l)===null&&(e=n.createElement("link"),ie(e,"link",t),Wt(e),n.head.appendChild(e)))}}function Pp(t){ba.D(t),Rm("dns-prefetch",t,null)}function Wp(t,e){ba.C(t,e),Rm("preconnect",t,e)}function $p(t,e,a){ba.L(t,e,a);var n=dl;if(n&&t&&e){var l='link[rel="preload"][as="'+Ee(e)+'"]';e==="image"&&a&&a.imageSrcSet?(l+='[imagesrcset="'+Ee(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(l+='[imagesizes="'+Ee(a.imageSizes)+'"]')):l+='[href="'+Ee(t)+'"]';var i=l;switch(e){case"style":i=ll(t);break;case"script":i=hl(t)}He.has(i)||(t=Et({rel:"preload",href:e==="image"&&a&&a.imageSrcSet?void 0:t,as:e},a),He.set(i,t),n.querySelector(l)!==null||e==="style"&&n.querySelector(pi(i))||e==="script"&&n.querySelector(bi(i))||(e=n.createElement("link"),ie(e,"link",t),Wt(e),n.head.appendChild(e)))}}function tb(t,e){ba.m(t,e);var a=dl;if(a&&t){var n=e&&typeof e.as=="string"?e.as:"script",l='link[rel="modulepreload"][as="'+Ee(n)+'"][href="'+Ee(t)+'"]',i=l;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=hl(t)}if(!He.has(i)&&(t=Et({rel:"modulepreload",href:t},e),He.set(i,t),a.querySelector(l)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(bi(i)))return}n=a.createElement("link"),ie(n,"link",t),Wt(n),a.head.appendChild(n)}}}function eb(t,e,a){ba.S(t,e,a);var n=dl;if(n&&t){var l=Yn(n).hoistableStyles,i=ll(t);e=e||"default";var s=l.get(i);if(!s){var r={loading:0,preload:null};if(s=n.querySelector(pi(i)))r.loading=5;else{t=Et({rel:"stylesheet",href:t,"data-precedence":e},a),(a=He.get(i))&&Io(t,a);var c=s=n.createElement("link");Wt(c),ie(c,"link",t),c._p=new Promise(function(u,m){c.onload=u,c.onerror=m}),c.addEventListener("load",function(){r.loading|=1}),c.addEventListener("error",function(){r.loading|=2}),r.loading|=4,$i(s,e,n)}s={type:"stylesheet",instance:s,count:1,state:r},l.set(i,s)}}}function ab(t,e){ba.X(t,e);var a=dl;if(a&&t){var n=Yn(a).hoistableScripts,l=hl(t),i=n.get(l);i||(i=a.querySelector(bi(l)),i||(t=Et({src:t,async:!0},e),(e=He.get(l))&&Po(t,e),i=a.createElement("script"),Wt(i),ie(i,"link",t),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(l,i))}}function nb(t,e){ba.M(t,e);var a=dl;if(a&&t){var n=Yn(a).hoistableScripts,l=hl(t),i=n.get(l);i||(i=a.querySelector(bi(l)),i||(t=Et({src:t,async:!0,type:"module"},e),(e=He.get(l))&&Po(t,e),i=a.createElement("script"),Wt(i),ie(i,"link",t),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(l,i))}}function Mf(t,e,a,n){var l=(l=Oa.current)?ks(l):null;if(!l)throw Error(A(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(e=ll(a.href),a=Yn(l).hoistableStyles,n=a.get(e),n||(n={type:"style",instance:null,count:0,state:null},a.set(e,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ll(a.href);var i=Yn(l).hoistableStyles,s=i.get(t);if(s||(l=l.ownerDocument||l,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(t,s),(i=l.querySelector(pi(t)))&&!i._p&&(s.instance=i,s.state.loading=5),He.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},He.set(t,a),i||lb(l,t,a,s.state))),e&&n===null)throw Error(A(528,""));return s}if(e&&n!==null)throw Error(A(529,""));return null;case"script":return e=a.async,a=a.src,typeof a=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=hl(a),a=Yn(l).hoistableScripts,n=a.get(e),n||(n={type:"script",instance:null,count:0,state:null},a.set(e,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(A(444,t))}}function ll(t){return'href="'+Ee(t)+'"'}function pi(t){return'link[rel="stylesheet"]['+t+"]"}function Bm(t){return Et({},t,{"data-precedence":t.precedence,precedence:null})}function lb(t,e,a,n){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?n.loading=1:(e=t.createElement("link"),n.preload=e,e.addEventListener("load",function(){return n.loading|=1}),e.addEventListener("error",function(){return n.loading|=2}),ie(e,"link",a),Wt(e),t.head.appendChild(e))}function hl(t){return'[src="'+Ee(t)+'"]'}function bi(t){return"script[async]"+t}function Nf(t,e,a){if(e.count++,e.instance===null)switch(e.type){case"style":var n=t.querySelector('style[data-href~="'+Ee(a.href)+'"]');if(n)return e.instance=n,Wt(n),n;var l=Et({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(t.ownerDocument||t).createElement("style"),Wt(n),ie(n,"style",l),$i(n,a.precedence,t),e.instance=n;case"stylesheet":l=ll(a.href);var i=t.querySelector(pi(l));if(i)return e.state.loading|=4,e.instance=i,Wt(i),i;n=Bm(a),(l=He.get(l))&&Io(n,l),i=(t.ownerDocument||t).createElement("link"),Wt(i);var s=i;return s._p=new Promise(function(r,c){s.onload=r,s.onerror=c}),ie(i,"link",n),e.state.loading|=4,$i(i,a.precedence,t),e.instance=i;case"script":return i=hl(a.src),(l=t.querySelector(bi(i)))?(e.instance=l,Wt(l),l):(n=a,(l=He.get(i))&&(n=Et({},a),Po(n,l)),t=t.ownerDocument||t,l=t.createElement("script"),Wt(l),ie(l,"link",n),t.head.appendChild(l),e.instance=l);case"void":return null;default:throw Error(A(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(n=e.instance,e.state.loading|=4,$i(n,a.precedence,t));return e.instance}function $i(t,e,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=n.length?n[n.length-1]:null,i=l,s=0;s<n.length;s++){var r=n[s];if(r.dataset.precedence===e)i=r;else if(i!==l)break}i?i.parentNode.insertBefore(t,i.nextSibling):(e=a.nodeType===9?a.head:a,e.insertBefore(t,e.firstChild))}function Io(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Po(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var ts=null;function jf(t,e,a){if(ts===null){var n=new Map,l=ts=new Map;l.set(a,n)}else l=ts,n=l.get(a),n||(n=new Map,l.set(a,n));if(n.has(t))return n;for(n.set(t,null),a=a.getElementsByTagName(t),l=0;l<a.length;l++){var i=a[l];if(!(i[ui]||i[ae]||t==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var s=i.getAttribute(e)||"";s=t+s;var r=n.get(s);r?r.push(i):n.set(s,[i])}}return n}function kf(t,e,a){t=t.ownerDocument||t,t.head.insertBefore(a,e==="title"?t.querySelector("head > title"):null)}function ib(t,e,a){if(a===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Hm(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function sb(t,e,a,n){if(a.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(a.state.loading&4)){if(a.instance===null){var l=ll(n.href),i=e.querySelector(pi(l));if(i){e=i._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=As.bind(t),e.then(t,t)),a.state.loading|=4,a.instance=i,Wt(i);return}i=e.ownerDocument||e,n=Bm(n),(l=He.get(l))&&Io(n,l),i=i.createElement("link"),Wt(i);var s=i;s._p=new Promise(function(r,c){s.onload=r,s.onerror=c}),ie(i,"link",n),a.instance=i}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,e),(e=a.state.preload)&&!(a.state.loading&3)&&(t.count++,a=As.bind(t),e.addEventListener("load",a),e.addEventListener("error",a))}}var Qr=0;function rb(t,e){return t.stylesheets&&t.count===0&&es(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var n=setTimeout(function(){if(t.stylesheets&&es(t,t.stylesheets),t.unsuspend){var i=t.unsuspend;t.unsuspend=null,i()}},6e4+e);0<t.imgBytes&&Qr===0&&(Qr=62500*Vp());var l=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&es(t,t.stylesheets),t.unsuspend)){var i=t.unsuspend;t.unsuspend=null,i()}},(t.imgBytes>Qr?50:800)+e);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(n),clearTimeout(l)}}:null}function As(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)es(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var zs=null;function es(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,zs=new Map,e.forEach(cb,t),zs=null,As.call(t))}function cb(t,e){if(!(e.state.loading&4)){var a=zs.get(t);if(a)var n=a.get(null);else{a=new Map,zs.set(t,a);for(var l=t.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<l.length;i++){var s=l[i];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(a.set(s.dataset.precedence,s),n=s)}n&&a.set(null,n)}l=e.instance,s=l.getAttribute("data-precedence"),i=a.get(s)||n,i===n&&a.set(null,l),a.set(s,l),this.count++,n=As.bind(this),l.addEventListener("load",n),l.addEventListener("error",n),i?i.parentNode.insertBefore(l,i.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(l,t.firstChild)),e.state.loading|=4}}var ai={$$typeof:ia,Provider:null,Consumer:null,_currentValue:an,_currentValue2:an,_threadCount:0};function ob(t,e,a,n,l,i,s,r,c){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mr(0),this.hiddenUpdates=mr(null),this.identifierPrefix=n,this.onUncaughtError=l,this.onCaughtError=i,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function Gm(t,e,a,n,l,i,s,r,c,u,m,g){return t=new ob(t,e,a,s,c,u,m,g,r),e=1,i===!0&&(e|=24),i=Se(3,null,null,e),t.current=i,i.stateNode=t,e=To(),e.refCount++,t.pooledCache=e,e.refCount++,i.memoizedState={element:n,isDehydrated:a,cache:e},jo(i),t}function qm(t){return t?(t=Hn,t):Hn}function Vm(t,e,a,n,l,i){l=qm(l),n.context===null?n.context=l:n.pendingContext=l,n=Da(e),n.payload={element:a},i=i===void 0?null:i,i!==null&&(n.callback=i),a=Ua(t,n,e),a!==null&&(me(a,t,e),Dl(a,t,e))}function Af(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<e?a:e}}function Wo(t,e){Af(t,e),(t=t.alternate)&&Af(t,e)}function Ym(t){if(t.tag===13||t.tag===31){var e=bn(t,67108864);e!==null&&me(e,t,67108864),Wo(t,67108864)}}function zf(t){if(t.tag===13||t.tag===31){var e=je();e=co(e);var a=bn(t,e);a!==null&&me(a,t,e),Wo(t,e)}}var _s=!0;function ub(t,e,a,n){var l=tt.T;tt.T=null;var i=St.p;try{St.p=2,$o(t,e,a,n)}finally{St.p=i,tt.T=l}}function fb(t,e,a,n){var l=tt.T;tt.T=null;var i=St.p;try{St.p=8,$o(t,e,a,n)}finally{St.p=i,tt.T=l}}function $o(t,e,a,n){if(_s){var l=Kc(n);if(l===null)Xr(t,e,n,Cs,a),_f(t,n);else if(hb(l,t,e,a,n))n.stopPropagation();else if(_f(t,n),e&4&&-1<db.indexOf(t)){for(;l!==null;){var i=cl(l);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var s=Wa(i.pendingLanes);if(s!==0){var r=i;for(r.pendingLanes|=2,r.entangledLanes|=2;s;){var c=1<<31-Ne(s);r.entanglements[1]|=c,s&=~c}Ke(i),!(xt&6)&&(xs=Te()+500,gi(0))}}break;case 31:case 13:r=bn(i,2),r!==null&&me(r,i,2),Ws(),Wo(i,2)}if(i=Kc(n),i===null&&Xr(t,e,n,Cs,a),i===l)break;l=i}l!==null&&n.stopPropagation()}else Xr(t,e,n,null,a)}}function Kc(t){return t=ho(t),tu(t)}var Cs=null;function tu(t){if(Cs=null,t=On(t),t!==null){var e=si(t);if(e===null)t=null;else{var a=e.tag;if(a===13){if(t=cd(e),t!==null)return t;t=null}else if(a===31){if(t=od(e),t!==null)return t;t=null}else if(a===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Cs=t,null}function Xm(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(P0()){case hd:return 2;case md:return 8;case ss:case W0:return 32;case gd:return 268435456;default:return 32}default:return 32}}var Jc=!1,Ha=null,Ga=null,qa=null,ni=new Map,li=new Map,ja=[],db="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _f(t,e){switch(t){case"focusin":case"focusout":Ha=null;break;case"dragenter":case"dragleave":Ga=null;break;case"mouseover":case"mouseout":qa=null;break;case"pointerover":case"pointerout":ni.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":li.delete(e.pointerId)}}function wl(t,e,a,n,l,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:a,eventSystemFlags:n,nativeEvent:i,targetContainers:[l]},e!==null&&(e=cl(e),e!==null&&Ym(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,l!==null&&e.indexOf(l)===-1&&e.push(l),t)}function hb(t,e,a,n,l){switch(e){case"focusin":return Ha=wl(Ha,t,e,a,n,l),!0;case"dragenter":return Ga=wl(Ga,t,e,a,n,l),!0;case"mouseover":return qa=wl(qa,t,e,a,n,l),!0;case"pointerover":var i=l.pointerId;return ni.set(i,wl(ni.get(i)||null,t,e,a,n,l)),!0;case"gotpointercapture":return i=l.pointerId,li.set(i,wl(li.get(i)||null,t,e,a,n,l)),!0}return!1}function Lm(t){var e=On(t.target);if(e!==null){var a=si(e);if(a!==null){if(e=a.tag,e===13){if(e=cd(a),e!==null){t.blockedOn=e,hu(t.priority,function(){zf(a)});return}}else if(e===31){if(e=od(a),e!==null){t.blockedOn=e,hu(t.priority,function(){zf(a)});return}}else if(e===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function as(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var a=Kc(t.nativeEvent);if(a===null){a=t.nativeEvent;var n=new a.constructor(a.type,a);hc=n,a.target.dispatchEvent(n),hc=null}else return e=cl(a),e!==null&&Ym(e),t.blockedOn=a,!1;e.shift()}return!0}function Cf(t,e,a){as(t)&&a.delete(e)}function mb(){Jc=!1,Ha!==null&&as(Ha)&&(Ha=null),Ga!==null&&as(Ga)&&(Ga=null),qa!==null&&as(qa)&&(qa=null),ni.forEach(Cf),li.forEach(Cf)}function Ei(t,e){t.blockedOn===e&&(t.blockedOn=null,Jc||(Jc=!0,Jt.unstable_scheduleCallback(Jt.unstable_NormalPriority,mb)))}var Di=null;function Of(t){Di!==t&&(Di=t,Jt.unstable_scheduleCallback(Jt.unstable_NormalPriority,function(){Di===t&&(Di=null);for(var e=0;e<t.length;e+=3){var a=t[e],n=t[e+1],l=t[e+2];if(typeof n!="function"){if(tu(n||a)===null)continue;break}var i=cl(a);i!==null&&(t.splice(e,3),e-=3,zc(i,{pending:!0,data:l,method:a.method,action:n},n,l))}}))}function il(t){function e(c){return Ei(c,t)}Ha!==null&&Ei(Ha,t),Ga!==null&&Ei(Ga,t),qa!==null&&Ei(qa,t),ni.forEach(e),li.forEach(e);for(var a=0;a<ja.length;a++){var n=ja[a];n.blockedOn===t&&(n.blockedOn=null)}for(;0<ja.length&&(a=ja[0],a.blockedOn===null);)Lm(a),a.blockedOn===null&&ja.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var l=a[n],i=a[n+1],s=l[ge]||null;if(typeof i=="function")s||Of(a);else if(s){var r=null;if(i&&i.hasAttribute("formAction")){if(l=i,s=i[ge]||null)r=s.formAction;else if(tu(l)!==null)continue}else r=s.action;typeof r=="function"?a[n+1]=r:(a.splice(n,3),n-=3),Of(a)}}}function Qm(){function t(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(s){return l=s})},focusReset:"manual",scroll:"manual"})}function e(){l!==null&&(l(),l=null),n||setTimeout(a,20)}function a(){if(!n&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,l=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(a,100),function(){n=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),l!==null&&(l(),l=null)}}}function eu(t){this._internalRoot=t}er.prototype.render=eu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(A(409));var a=e.current,n=je();Vm(a,n,t,e,null,null)};er.prototype.unmount=eu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Vm(t.current,2,null,t,null,null),Ws(),e[rl]=null}};function er(t){this._internalRoot=t}er.prototype.unstable_scheduleHydration=function(t){if(t){var e=xd();t={blockedOn:null,target:t,priority:e};for(var a=0;a<ja.length&&e!==0&&e<ja[a].priority;a++);ja.splice(a,0,t),a===0&&Lm(t)}};var Ef=sd.version;if(Ef!=="19.2.4")throw Error(A(527,Ef,"19.2.4"));St.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(A(188)):(t=Object.keys(t).join(","),Error(A(268,t)));return t=L0(e),t=t!==null?ud(t):null,t=t===null?null:t.stateNode,t};var gb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:tt,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ui=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ui.isDisabled&&Ui.supportsFiber)try{ri=Ui.inject(gb),Me=Ui}catch{}}Hs.createRoot=function(t,e){if(!rd(t))throw Error(A(299));var a=!1,n="",l=Rh,i=Bh,s=Hh;return e!=null&&(e.unstable_strictMode===!0&&(a=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onUncaughtError!==void 0&&(l=e.onUncaughtError),e.onCaughtError!==void 0&&(i=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Gm(t,1,!1,null,null,a,n,null,l,i,s,Qm),t[rl]=e.current,Jo(t),new eu(e)};Hs.hydrateRoot=function(t,e,a){if(!rd(t))throw Error(A(299));var n=!1,l="",i=Rh,s=Bh,r=Hh,c=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onUncaughtError!==void 0&&(i=a.onUncaughtError),a.onCaughtError!==void 0&&(s=a.onCaughtError),a.onRecoverableError!==void 0&&(r=a.onRecoverableError),a.formState!==void 0&&(c=a.formState)),e=Gm(t,1,!0,e,a??null,n,l,c,i,s,r,Qm),e.context=qm(null),a=e.current,n=je(),n=co(n),l=Da(n),l.callback=null,Ua(a,l,n),a=n,e.current.lanes=a,oi(e,a),Ke(e),t[rl]=e.current,Jo(t),new er(e)};Hs.version="19.2.4";function Zm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Zm)}catch(t){console.error(t)}}Zm(),td.exports=Hs;var pb=td.exports;class bb{analyze(e,a){const n=[];if(e.length===0)return n;const l=e.reduce((m,g)=>m+g.diffCents,0)/e.length;Math.abs(l)>15&&n.push({category:"pitch",level:"warning",message:`${l>0?"":""}${l>0?"":""}`});const i=e.map(m=>m.guidePitch).sort((m,g)=>m-g),s=i[Math.floor(i.length*.8)],r=e.filter(m=>m.guidePitch>=s);r.length>5&&r.reduce((g,f)=>g+f.diffCents,0)/r.length<-20&&n.push({category:"pitch",level:"info",message:""});let c=0,u=0;for(let m=5;m<e.length;m++){const g=e[m-5],f=e[m],d=1200*Math.log2(f.guidePitch/g.guidePitch);Math.abs(d)>500&&(u++,Math.abs(f.diffCents)>50&&c++)}return u>0&&c/u>.4&&n.push({category:"pitch",level:"warning",message:""}),a>5&&n.push({category:"expression",level:"positive",message:""}),n}}class yb{constructor(){q(this,"frames",[]);q(this,"vibratoBuffer",[]);q(this,"lastVibratoTime",0);q(this,"vibratoState",!1);q(this,"vibratoCount",0);q(this,"advisor",new bb);q(this,"VIBRATO_WINDOW",.5);q(this,"VIBRATO_DEPTH_MIN",10);q(this,"phraseScores",[])}reset(){this.frames=[],this.vibratoBuffer=[],this.vibratoState=!1,this.vibratoCount=0}feed(e,a,n){if(a<=0)return this.vibratoBuffer=[],this.vibratoState=!1,{isVibrato:!1};let l=0;n>0&&(l=1200*Math.log2(a/n)),this.vibratoBuffer.push({t:e,p:a});const i=e;this.vibratoBuffer=this.vibratoBuffer.filter(r=>i-r.t<=this.VIBRATO_WINDOW);let s=!1;if(this.vibratoBuffer.length>5){const r=this.vibratoBuffer[0],c=this.vibratoBuffer.map(f=>1200*Math.log2(f.p/r.p)),u=Math.min(...c),g=Math.max(...c)-u;if(g>this.VIBRATO_DEPTH_MIN&&g<200){const f=c.reduce((v,y)=>v+y,0)/c.length;let d=0;for(let v=1;v<c.length;v++)(c[v]-f)*(c[v-1]-f)<0&&d++;d>=3&&d<=12&&(s=!0)}}return s?(this.vibratoState||this.vibratoCount++,this.vibratoState=!0,this.lastVibratoTime=i):i-this.lastVibratoTime>.2&&(this.vibratoState=!1),n>0&&this.frames.push({time:e,userPitch:a,guidePitch:n,diffCents:l,hasVibrato:this.vibratoState,isStable:Math.abs(l)<40}),{isVibrato:this.vibratoState}}summarize(e=[]){if(this.calculatePhraseScores(e),this.frames.length===0)return{totalScore:0,radar:{pitch:0,stability:0,expressiveness:0,rhythm:0,technique:0},tendency:0,vibratoCount:0,vibratoSec:0,notesHit:0,notesTotal:0,comment:"",advice:[],phraseScores:[],weakNotes:[]};const n=this.frames.filter(d=>d.userPitch>0&&d.guidePitch>0),l=this.frames.filter(d=>d.guidePitch>0).length,i=this.calculatePitchScore(n),s=this.calculateStabilityScore(n),r=Math.min(100,this.vibratoCount*10),c=l>0?n.length/l*100:0,u=n.reduce((d,v)=>d+v.diffCents,0)/(n.length||1),m=Math.round(i*.4+s*.2+c*.2+r*.2),g=this.advisor.analyze(this.frames,this.vibratoCount),f=this.analyzeWeakNotes(n);return{totalScore:Math.min(100,Math.max(0,m)),radar:{pitch:Math.round(i),stability:Math.round(s),expressiveness:Math.round(r),rhythm:Math.round(c),technique:Math.round(r)},tendency:u,vibratoCount:this.vibratoCount,vibratoSec:0,notesHit:0,notesTotal:0,comment:this.getComment(m),advice:g,phraseScores:this.phraseScores,weakNotes:f}}analyzeWeakNotes(e){const a={};return e.forEach(n=>{if(n.guidePitch<=0)return;const i=(Math.round(69+12*Math.log2(n.guidePitch/440))%12+12)%12;a[i]||(a[i]={sum:0,count:0}),a[i].sum+=n.diffCents,a[i].count++}),Object.entries(a).map(([n,l])=>({noteIndex:parseInt(n),diff:l.sum/l.count,count:l.count})).filter(n=>Math.abs(n.diff)>15).sort((n,l)=>Math.abs(l.diff)-Math.abs(n.diff)).slice(0,3)}calculatePhraseScores(e){this.phraseScores=[],!(!e||e.length===0)&&e.forEach(a=>{const n=this.frames.filter(r=>r.time>=a.startTime&&r.time<=a.endTime),l=n.filter(r=>r.userPitch>0&&r.guidePitch>0);if(n.length===0)return;let i=0;l.length>0&&(i=this.calculatePitchScore(l));let s="Bad";i>=90?s="Perfect":i>=70&&(s="Good"),this.phraseScores.push({phraseId:a.id,startTime:a.startTime,score:Math.round(i),evaluation:s})})}calculatePitchScore(e){if(e.length===0)return 0;const a=e.length;return e.filter(l=>Math.abs(l.diffCents)<50).length/a*100}calculateStabilityScore(e){if(e.length===0)return 0;const a=e.filter(l=>l.isStable&&!l.hasVibrato).length,n=e.filter(l=>!l.hasVibrato).length;return n>0?a/n*100:100}getComment(e){return e>=90?"":e>=80?"":e>=70?"":""}}var Fm={},ar={};function vb(t){var e=new oe(t),a=e.readChunk();if(a.id!="MThd")throw"Bad MIDI file.  Expected 'MHdr', got: '"+a.id+"'";for(var n=xb(a.data),l=[],i=0;!e.eof()&&i<n.numTracks;i++){var s=e.readChunk();if(s.id!="MTrk")throw"Bad MIDI file.  Expected 'MTrk', got: '"+s.id+"'";var r=Sb(s.data);l.push(r)}return{header:n,tracks:l}}function xb(t){var e=new oe(t),a=e.readUInt16(),n=e.readUInt16(),l={format:a,numTracks:n},i=e.readUInt16();return i&32768?(l.framesPerSecond=256-(i>>8),l.ticksPerFrame=i&255):l.ticksPerBeat=i,l}function Sb(t){for(var e=new oe(t),a=[];!e.eof();){var n=i();a.push(n)}return a;var l;function i(){var s={};s.deltaTime=e.readVarInt();var r=e.readUInt8();if((r&240)===240)if(r===255){s.meta=!0;var c=e.readUInt8(),u=e.readVarInt();switch(c){case 0:if(s.type="sequenceNumber",u!==2)throw"Expected length for sequenceNumber event is 2, got "+u;return s.number=e.readUInt16(),s;case 1:return s.type="text",s.text=e.readString(u),s;case 2:return s.type="copyrightNotice",s.text=e.readString(u),s;case 3:return s.type="trackName",s.text=e.readString(u),s;case 4:return s.type="instrumentName",s.text=e.readString(u),s;case 5:return s.type="lyrics",s.text=e.readString(u),s;case 6:return s.type="marker",s.text=e.readString(u),s;case 7:return s.type="cuePoint",s.text=e.readString(u),s;case 32:if(s.type="channelPrefix",u!=1)throw"Expected length for channelPrefix event is 1, got "+u;return s.channel=e.readUInt8(),s;case 33:if(s.type="portPrefix",u!=1)throw"Expected length for portPrefix event is 1, got "+u;return s.port=e.readUInt8(),s;case 47:if(s.type="endOfTrack",u!=0)throw"Expected length for endOfTrack event is 0, got "+u;return s;case 81:if(s.type="setTempo",u!=3)throw"Expected length for setTempo event is 3, got "+u;return s.microsecondsPerBeat=e.readUInt24(),s;case 84:if(s.type="smpteOffset",u!=5)throw"Expected length for smpteOffset event is 5, got "+u;var m=e.readUInt8(),g={0:24,32:25,64:29,96:30};return s.frameRate=g[m&96],s.hour=m&31,s.min=e.readUInt8(),s.sec=e.readUInt8(),s.frame=e.readUInt8(),s.subFrame=e.readUInt8(),s;case 88:if(s.type="timeSignature",u!=2&&u!=4)throw"Expected length for timeSignature event is 4 or 2, got "+u;return s.numerator=e.readUInt8(),s.denominator=1<<e.readUInt8(),u===4?(s.metronome=e.readUInt8(),s.thirtyseconds=e.readUInt8()):(s.metronome=36,s.thirtyseconds=8),s;case 89:if(s.type="keySignature",u!=2)throw"Expected length for keySignature event is 2, got "+u;return s.key=e.readInt8(),s.scale=e.readUInt8(),s;case 127:return s.type="sequencerSpecific",s.data=e.readBytes(u),s;default:return s.type="unknownMeta",s.data=e.readBytes(u),s.metatypeByte=c,s}}else if(r==240){s.type="sysEx";var u=e.readVarInt();return s.data=e.readBytes(u),s}else if(r==247){s.type="endSysEx";var u=e.readVarInt();return s.data=e.readBytes(u),s}else throw"Unrecognised MIDI event type byte: "+r;else{var f;if(r&128)f=e.readUInt8(),l=r;else{if(l===null)throw"Running status byte encountered before status byte";f=r,r=l,s.running=!0}var d=r>>4;switch(s.channel=r&15,d){case 8:return s.type="noteOff",s.noteNumber=f,s.velocity=e.readUInt8(),s;case 9:var v=e.readUInt8();return s.type=v===0?"noteOff":"noteOn",s.noteNumber=f,s.velocity=v,v===0&&(s.byte9=!0),s;case 10:return s.type="noteAftertouch",s.noteNumber=f,s.amount=e.readUInt8(),s;case 11:return s.type="controller",s.controllerType=f,s.value=e.readUInt8(),s;case 12:return s.type="programChange",s.programNumber=f,s;case 13:return s.type="channelAftertouch",s.amount=f,s;case 14:return s.type="pitchBend",s.value=f+(e.readUInt8()<<7)-8192,s;default:throw"Unrecognised MIDI event type: "+d}}}}function oe(t){this.buffer=t,this.bufferLen=this.buffer.length,this.pos=0}oe.prototype.eof=function(){return this.pos>=this.bufferLen};oe.prototype.readUInt8=function(){var t=this.buffer[this.pos];return this.pos+=1,t};oe.prototype.readInt8=function(){var t=this.readUInt8();return t&128?t-256:t};oe.prototype.readUInt16=function(){var t=this.readUInt8(),e=this.readUInt8();return(t<<8)+e};oe.prototype.readInt16=function(){var t=this.readUInt16();return t&32768?t-65536:t};oe.prototype.readUInt24=function(){var t=this.readUInt8(),e=this.readUInt8(),a=this.readUInt8();return(t<<16)+(e<<8)+a};oe.prototype.readInt24=function(){var t=this.readUInt24();return t&8388608?t-16777216:t};oe.prototype.readUInt32=function(){var t=this.readUInt8(),e=this.readUInt8(),a=this.readUInt8(),n=this.readUInt8();return(t<<24)+(e<<16)+(a<<8)+n};oe.prototype.readBytes=function(t){var e=this.buffer.slice(this.pos,this.pos+t);return this.pos+=t,e};oe.prototype.readString=function(t){var e=this.readBytes(t);return String.fromCharCode.apply(null,e)};oe.prototype.readVarInt=function(){for(var t=0;!this.eof();){var e=this.readUInt8();if(e&128)t+=e&127,t<<=7;else return t+e}return t};oe.prototype.readChunk=function(){var t=this.readString(4),e=this.readUInt32(),a=this.readBytes(e);return{id:t,length:e,data:a}};var wb=vb;function Tb(t,e){if(typeof t!="object")throw"Invalid MIDI data";e=e||{};var a=t.header||{},n=t.tracks||[],l,i=n.length,s=new It;for(Mb(s,a,i),l=0;l<i;l++)Nb(s,n[l],e);return s.buffer}function Mb(t,e,a){var n=e.format==null?1:e.format,l=128;e.timeDivision?l=e.timeDivision:e.ticksPerFrame&&e.framesPerSecond?l=-(e.framesPerSecond&255)<<8|e.ticksPerFrame&255:e.ticksPerBeat&&(l=e.ticksPerBeat&32767);var i=new It;i.writeUInt16(n),i.writeUInt16(a),i.writeUInt16(l),t.writeChunk("MThd",i.buffer)}function Nb(t,e,a){var n=new It,l,i=e.length,s=null;for(l=0;l<i;l++)(a.running===!1||!a.running&&!e[l].running)&&(s=null),s=jb(n,e[l],s,a.useByte9ForNoteOff);t.writeChunk("MTrk",n.buffer)}function jb(t,e,a,n){var l=e.type,i=e.deltaTime,s=e.text||"",r=e.data||[],c=null;switch(t.writeVarInt(i),l){case"sequenceNumber":t.writeUInt8(255),t.writeUInt8(0),t.writeVarInt(2),t.writeUInt16(e.number);break;case"text":t.writeUInt8(255),t.writeUInt8(1),t.writeVarInt(s.length),t.writeString(s);break;case"copyrightNotice":t.writeUInt8(255),t.writeUInt8(2),t.writeVarInt(s.length),t.writeString(s);break;case"trackName":t.writeUInt8(255),t.writeUInt8(3),t.writeVarInt(s.length),t.writeString(s);break;case"instrumentName":t.writeUInt8(255),t.writeUInt8(4),t.writeVarInt(s.length),t.writeString(s);break;case"lyrics":t.writeUInt8(255),t.writeUInt8(5),t.writeVarInt(s.length),t.writeString(s);break;case"marker":t.writeUInt8(255),t.writeUInt8(6),t.writeVarInt(s.length),t.writeString(s);break;case"cuePoint":t.writeUInt8(255),t.writeUInt8(7),t.writeVarInt(s.length),t.writeString(s);break;case"channelPrefix":t.writeUInt8(255),t.writeUInt8(32),t.writeVarInt(1),t.writeUInt8(e.channel);break;case"portPrefix":t.writeUInt8(255),t.writeUInt8(33),t.writeVarInt(1),t.writeUInt8(e.port);break;case"endOfTrack":t.writeUInt8(255),t.writeUInt8(47),t.writeVarInt(0);break;case"setTempo":t.writeUInt8(255),t.writeUInt8(81),t.writeVarInt(3),t.writeUInt24(e.microsecondsPerBeat);break;case"smpteOffset":t.writeUInt8(255),t.writeUInt8(84),t.writeVarInt(5);var u={24:0,25:32,29:64,30:96},m=e.hour&31|u[e.frameRate];t.writeUInt8(m),t.writeUInt8(e.min),t.writeUInt8(e.sec),t.writeUInt8(e.frame),t.writeUInt8(e.subFrame);break;case"timeSignature":t.writeUInt8(255),t.writeUInt8(88),t.writeVarInt(4),t.writeUInt8(e.numerator);var g=Math.floor(Math.log(e.denominator)/Math.LN2)&255;t.writeUInt8(g),t.writeUInt8(e.metronome),t.writeUInt8(e.thirtyseconds||8);break;case"keySignature":t.writeUInt8(255),t.writeUInt8(89),t.writeVarInt(2),t.writeInt8(e.key),t.writeUInt8(e.scale);break;case"sequencerSpecific":t.writeUInt8(255),t.writeUInt8(127),t.writeVarInt(r.length),t.writeBytes(r);break;case"unknownMeta":e.metatypeByte!=null&&(t.writeUInt8(255),t.writeUInt8(e.metatypeByte),t.writeVarInt(r.length),t.writeBytes(r));break;case"sysEx":t.writeUInt8(240),t.writeVarInt(r.length),t.writeBytes(r);break;case"endSysEx":t.writeUInt8(247),t.writeVarInt(r.length),t.writeBytes(r);break;case"noteOff":var f=n!==!1&&e.byte9||n&&e.velocity==0?144:128;c=f|e.channel,c!==a&&t.writeUInt8(c),t.writeUInt8(e.noteNumber),t.writeUInt8(e.velocity);break;case"noteOn":c=144|e.channel,c!==a&&t.writeUInt8(c),t.writeUInt8(e.noteNumber),t.writeUInt8(e.velocity);break;case"noteAftertouch":c=160|e.channel,c!==a&&t.writeUInt8(c),t.writeUInt8(e.noteNumber),t.writeUInt8(e.amount);break;case"controller":c=176|e.channel,c!==a&&t.writeUInt8(c),t.writeUInt8(e.controllerType),t.writeUInt8(e.value);break;case"programChange":c=192|e.channel,c!==a&&t.writeUInt8(c),t.writeUInt8(e.programNumber);break;case"channelAftertouch":c=208|e.channel,c!==a&&t.writeUInt8(c),t.writeUInt8(e.amount);break;case"pitchBend":c=224|e.channel,c!==a&&t.writeUInt8(c);var d=8192+e.value,v=d&127,y=d>>7&127;t.writeUInt8(v),t.writeUInt8(y);break;default:throw"Unrecognized event type: "+l}return c}function It(){this.buffer=[]}It.prototype.writeUInt8=function(t){this.buffer.push(t&255)};It.prototype.writeInt8=It.prototype.writeUInt8;It.prototype.writeUInt16=function(t){var e=t>>8&255,a=t&255;this.writeUInt8(e),this.writeUInt8(a)};It.prototype.writeInt16=It.prototype.writeUInt16;It.prototype.writeUInt24=function(t){var e=t>>16&255,a=t>>8&255,n=t&255;this.writeUInt8(e),this.writeUInt8(a),this.writeUInt8(n)};It.prototype.writeInt24=It.prototype.writeUInt24;It.prototype.writeUInt32=function(t){var e=t>>24&255,a=t>>16&255,n=t>>8&255,l=t&255;this.writeUInt8(e),this.writeUInt8(a),this.writeUInt8(n),this.writeUInt8(l)};It.prototype.writeInt32=It.prototype.writeUInt32;It.prototype.writeBytes=function(t){this.buffer=this.buffer.concat(Array.prototype.slice.call(t,0))};It.prototype.writeString=function(t){var e,a=t.length,n=[];for(e=0;e<a;e++)n.push(t.codePointAt(e));this.writeBytes(n)};It.prototype.writeVarInt=function(t){if(t<0)throw"Cannot write negative variable-length integer";if(t<=127)this.writeUInt8(t);else{var e=t,a=[];for(a.push(e&127),e>>=7;e;){var n=e&127|128;a.push(n),e>>=7}this.writeBytes(a.reverse())}};It.prototype.writeChunk=function(t,e){this.writeString(t),this.writeUInt32(e.length),this.writeBytes(e)};var kb=Tb;ar.parseMidi=wb;ar.writeMidi=kb;var Os={},hn={};Object.defineProperty(hn,"__esModule",{value:!0});hn.insert=hn.search=void 0;function Km(t,e,a){a===void 0&&(a="ticks");var n=0,l=t.length,i=l;if(l>0&&t[l-1][a]<=e)return l-1;for(;n<i;){var s=Math.floor(n+(i-n)/2),r=t[s],c=t[s+1];if(r[a]===e){for(var u=s;u<t.length;u++){var m=t[u];m[a]===e&&(s=u)}return s}else{if(r[a]<e&&c[a]>e)return s;r[a]>e?i=s:r[a]<e&&(n=s+1)}}return-1}hn.search=Km;function Ab(t,e,a){if(a===void 0&&(a="ticks"),t.length){var n=Km(t,e[a],a);t.splice(n+1,0,e)}else t.push(e)}hn.insert=Ab;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Header=t.keySignatureKeys=void 0;var e=hn,a=new WeakMap;t.keySignatureKeys=["Cb","Gb","Db","Ab","Eb","Bb","F","C","G","D","A","E","B","F#","C#"];var n=function(){function l(i){var s=this;if(this.tempos=[],this.timeSignatures=[],this.keySignatures=[],this.meta=[],this.name="",a.set(this,480),i){a.set(this,i.header.ticksPerBeat),i.tracks.forEach(function(c){c.forEach(function(u){u.meta&&(u.type==="timeSignature"?s.timeSignatures.push({ticks:u.absoluteTime,timeSignature:[u.numerator,u.denominator]}):u.type==="setTempo"?s.tempos.push({bpm:6e7/u.microsecondsPerBeat,ticks:u.absoluteTime}):u.type==="keySignature"&&s.keySignatures.push({key:t.keySignatureKeys[u.key+7],scale:u.scale===0?"major":"minor",ticks:u.absoluteTime}))})});var r=0;i.tracks[0].forEach(function(c){r+=c.deltaTime,c.meta&&(c.type==="trackName"?s.name=c.text:(c.type==="text"||c.type==="cuePoint"||c.type==="marker"||c.type==="lyrics")&&s.meta.push({text:c.text,ticks:r,type:c.type}))}),this.update()}}return l.prototype.update=function(){var i=this,s=0,r=0;this.tempos.sort(function(c,u){return c.ticks-u.ticks}),this.tempos.forEach(function(c,u){var m=u>0?i.tempos[u-1].bpm:i.tempos[0].bpm,g=c.ticks/i.ppq-r,f=60/m*g;c.time=f+s,s=c.time,r+=g}),this.timeSignatures.sort(function(c,u){return c.ticks-u.ticks}),this.timeSignatures.forEach(function(c,u){var m=u>0?i.timeSignatures[u-1]:i.timeSignatures[0],g=(c.ticks-m.ticks)/i.ppq,f=g/m.timeSignature[0]/(m.timeSignature[1]/4);m.measures=m.measures||0,c.measures=f+m.measures})},l.prototype.ticksToSeconds=function(i){var s=(0,e.search)(this.tempos,i);if(s!==-1){var r=this.tempos[s],c=r.time,u=(i-r.ticks)/this.ppq;return c+60/r.bpm*u}else{var m=i/this.ppq;return 60/120*m}},l.prototype.ticksToMeasures=function(i){var s=(0,e.search)(this.timeSignatures,i);if(s!==-1){var r=this.timeSignatures[s],c=(i-r.ticks)/this.ppq;return r.measures+c/(r.timeSignature[0]/r.timeSignature[1])/4}else return i/this.ppq/4},Object.defineProperty(l.prototype,"ppq",{get:function(){return a.get(this)},enumerable:!1,configurable:!0}),l.prototype.secondsToTicks=function(i){var s=(0,e.search)(this.tempos,i,"time");if(s!==-1){var r=this.tempos[s],c=r.time,u=i-c,m=u/(60/r.bpm);return Math.round(r.ticks+m*this.ppq)}else{var g=i/.5;return Math.round(g*this.ppq)}},l.prototype.toJSON=function(){return{keySignatures:this.keySignatures,meta:this.meta,name:this.name,ppq:this.ppq,tempos:this.tempos.map(function(i){return{bpm:i.bpm,ticks:i.ticks}}),timeSignatures:this.timeSignatures}},l.prototype.fromJSON=function(i){this.name=i.name,this.tempos=i.tempos.map(function(s){return Object.assign({},s)}),this.timeSignatures=i.timeSignatures.map(function(s){return Object.assign({},s)}),this.keySignatures=i.keySignatures.map(function(s){return Object.assign({},s)}),this.meta=i.meta.map(function(s){return Object.assign({},s)}),a.set(this,i.ppq),this.update()},l.prototype.setTempo=function(i){this.tempos=[{bpm:i,ticks:0}],this.update()},l}();t.Header=n})(Os);var ii={},au={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ControlChange=t.controlChangeIds=t.controlChangeNames=void 0,t.controlChangeNames={1:"modulationWheel",2:"breath",4:"footController",5:"portamentoTime",7:"volume",8:"balance",10:"pan",64:"sustain",65:"portamentoTime",66:"sostenuto",67:"softPedal",68:"legatoFootswitch",84:"portamentoControl"},t.controlChangeIds=Object.keys(t.controlChangeNames).reduce(function(l,i){return l[t.controlChangeNames[i]]=i,l},{});var e=new WeakMap,a=new WeakMap,n=function(){function l(i,s){e.set(this,s),a.set(this,i.controllerType),this.ticks=i.absoluteTime,this.value=i.value}return Object.defineProperty(l.prototype,"number",{get:function(){return a.get(this)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"name",{get:function(){return t.controlChangeNames[this.number]?t.controlChangeNames[this.number]:null},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"time",{get:function(){var i=e.get(this);return i.ticksToSeconds(this.ticks)},set:function(i){var s=e.get(this);this.ticks=s.secondsToTicks(i)},enumerable:!1,configurable:!0}),l.prototype.toJSON=function(){return{number:this.number,ticks:this.ticks,time:this.time,value:this.value}},l}();t.ControlChange=n})(au);var nr={};Object.defineProperty(nr,"__esModule",{value:!0});nr.createControlChanges=void 0;var Ri=au;function zb(){return new Proxy({},{get:function(t,e){if(t[e])return t[e];if(Ri.controlChangeIds.hasOwnProperty(e))return t[Ri.controlChangeIds[e]]},set:function(t,e,a){return Ri.controlChangeIds.hasOwnProperty(e)?t[Ri.controlChangeIds[e]]=a:t[e]=a,!0}})}nr.createControlChanges=zb;var lr={};Object.defineProperty(lr,"__esModule",{value:!0});lr.PitchBend=void 0;var Zr=new WeakMap,_b=function(){function t(e,a){Zr.set(this,a),this.ticks=e.absoluteTime,this.value=e.value}return Object.defineProperty(t.prototype,"time",{get:function(){var e=Zr.get(this);return e.ticksToSeconds(this.ticks)},set:function(e){var a=Zr.get(this);this.ticks=a.secondsToTicks(e)},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return{ticks:this.ticks,time:this.time,value:this.value}},t}();lr.PitchBend=_b;var ir={},Va={};Object.defineProperty(Va,"__esModule",{value:!0});Va.DrumKitByPatchID=Va.InstrumentFamilyByID=Va.instrumentByPatchID=void 0;Va.instrumentByPatchID=["acoustic grand piano","bright acoustic piano","electric grand piano","honky-tonk piano","electric piano 1","electric piano 2","harpsichord","clavi","celesta","glockenspiel","music box","vibraphone","marimba","xylophone","tubular bells","dulcimer","drawbar organ","percussive organ","rock organ","church organ","reed organ","accordion","harmonica","tango accordion","acoustic guitar (nylon)","acoustic guitar (steel)","electric guitar (jazz)","electric guitar (clean)","electric guitar (muted)","overdriven guitar","distortion guitar","guitar harmonics","acoustic bass","electric bass (finger)","electric bass (pick)","fretless bass","slap bass 1","slap bass 2","synth bass 1","synth bass 2","violin","viola","cello","contrabass","tremolo strings","pizzicato strings","orchestral harp","timpani","string ensemble 1","string ensemble 2","synthstrings 1","synthstrings 2","choir aahs","voice oohs","synth voice","orchestra hit","trumpet","trombone","tuba","muted trumpet","french horn","brass section","synthbrass 1","synthbrass 2","soprano sax","alto sax","tenor sax","baritone sax","oboe","english horn","bassoon","clarinet","piccolo","flute","recorder","pan flute","blown bottle","shakuhachi","whistle","ocarina","lead 1 (square)","lead 2 (sawtooth)","lead 3 (calliope)","lead 4 (chiff)","lead 5 (charang)","lead 6 (voice)","lead 7 (fifths)","lead 8 (bass + lead)","pad 1 (new age)","pad 2 (warm)","pad 3 (polysynth)","pad 4 (choir)","pad 5 (bowed)","pad 6 (metallic)","pad 7 (halo)","pad 8 (sweep)","fx 1 (rain)","fx 2 (soundtrack)","fx 3 (crystal)","fx 4 (atmosphere)","fx 5 (brightness)","fx 6 (goblins)","fx 7 (echoes)","fx 8 (sci-fi)","sitar","banjo","shamisen","koto","kalimba","bag pipe","fiddle","shanai","tinkle bell","agogo","steel drums","woodblock","taiko drum","melodic tom","synth drum","reverse cymbal","guitar fret noise","breath noise","seashore","bird tweet","telephone ring","helicopter","applause","gunshot"];Va.InstrumentFamilyByID=["piano","chromatic percussion","organ","guitar","bass","strings","ensemble","brass","reed","pipe","synth lead","synth pad","synth effects","world","percussive","sound effects"];Va.DrumKitByPatchID={0:"standard kit",8:"room kit",16:"power kit",24:"electronic kit",25:"tr-808 kit",32:"jazz kit",40:"brush kit",48:"orchestra kit",56:"sound fx kit"};Object.defineProperty(ir,"__esModule",{value:!0});ir.Instrument=void 0;var Bi=Va,Df=new WeakMap,Cb=function(){function t(e,a){if(this.number=0,Df.set(this,a),this.number=0,e){var n=e.find(function(l){return l.type==="programChange"});n&&(this.number=n.programNumber)}}return Object.defineProperty(t.prototype,"name",{get:function(){return this.percussion?Bi.DrumKitByPatchID[this.number]:Bi.instrumentByPatchID[this.number]},set:function(e){var a=Bi.instrumentByPatchID.indexOf(e);a!==-1&&(this.number=a)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"family",{get:function(){return this.percussion?"drums":Bi.InstrumentFamilyByID[Math.floor(this.number/8)]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"percussion",{get:function(){var e=Df.get(this);return e.channel===9},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return{family:this.family,number:this.number,name:this.name}},t.prototype.fromJSON=function(e){this.number=e.number},t}();ir.Instrument=Cb;var sr={};Object.defineProperty(sr,"__esModule",{value:!0});sr.Note=void 0;function Ob(t){var e=Math.floor(t/12)-1;return Jm(t)+e.toString()}function Jm(t){var e=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],a=t%12;return e[a]}function Eb(t){var e=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];return e.indexOf(t)}var Db=function(){var t=/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,e={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13};return function(a){var n=t.exec(a),l=n[1],i=n[2],s=e[l.toLowerCase()];return s+(parseInt(i,10)+1)*12}}(),wn=new WeakMap,Ub=function(){function t(e,a,n){wn.set(this,n),this.midi=e.midi,this.velocity=e.velocity,this.noteOffVelocity=a.velocity,this.ticks=e.ticks,this.durationTicks=a.ticks-e.ticks}return Object.defineProperty(t.prototype,"name",{get:function(){return Ob(this.midi)},set:function(e){this.midi=Db(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"octave",{get:function(){return Math.floor(this.midi/12)-1},set:function(e){var a=e-this.octave;this.midi+=a*12},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pitch",{get:function(){return Jm(this.midi)},set:function(e){this.midi=12*(this.octave+1)+Eb(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){var e=wn.get(this);return e.ticksToSeconds(this.ticks+this.durationTicks)-e.ticksToSeconds(this.ticks)},set:function(e){var a=wn.get(this),n=a.secondsToTicks(this.time+e);this.durationTicks=n-this.ticks},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"time",{get:function(){var e=wn.get(this);return e.ticksToSeconds(this.ticks)},set:function(e){var a=wn.get(this);this.ticks=a.secondsToTicks(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bars",{get:function(){var e=wn.get(this);return e.ticksToMeasures(this.ticks)},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return{duration:this.duration,durationTicks:this.durationTicks,midi:this.midi,name:this.name,ticks:this.ticks,time:this.time,velocity:this.velocity}},t}();sr.Note=Ub;Object.defineProperty(ii,"__esModule",{value:!0});ii.Track=void 0;var Fr=hn,Rb=au,Bb=nr,Hb=lr,Uf=ir,Gb=sr,Hi=new WeakMap,qb=function(){function t(e,a){var n=this;if(this.name="",this.notes=[],this.controlChanges=(0,Bb.createControlChanges)(),this.pitchBends=[],Hi.set(this,a),e){var l=e.find(function(f){return f.type==="trackName"});this.name=l?l.text:""}if(this.instrument=new Uf.Instrument(e,this),this.channel=0,e){for(var i=e.filter(function(f){return f.type==="noteOn"}),s=e.filter(function(f){return f.type==="noteOff"}),r=function(){var f=i.shift();c.channel=f.channel;var d=s.findIndex(function(y){return y.noteNumber===f.noteNumber&&y.absoluteTime>=f.absoluteTime});if(d!==-1){var v=s.splice(d,1)[0];c.addNote({durationTicks:v.absoluteTime-f.absoluteTime,midi:f.noteNumber,noteOffVelocity:v.velocity/127,ticks:f.absoluteTime,velocity:f.velocity/127})}},c=this;i.length;)r();var u=e.filter(function(f){return f.type==="controller"});u.forEach(function(f){n.addCC({number:f.controllerType,ticks:f.absoluteTime,value:f.value/127})});var m=e.filter(function(f){return f.type==="pitchBend"});m.forEach(function(f){n.addPitchBend({ticks:f.absoluteTime,value:f.value/Math.pow(2,13)})});var g=e.find(function(f){return f.type==="endOfTrack"});this.endOfTrackTicks=g!==void 0?g.absoluteTime:void 0}}return t.prototype.addNote=function(e){var a=Hi.get(this),n=new Gb.Note({midi:0,ticks:0,velocity:1},{ticks:0,velocity:0},a);return Object.assign(n,e),(0,Fr.insert)(this.notes,n,"ticks"),this},t.prototype.addCC=function(e){var a=Hi.get(this),n=new Rb.ControlChange({controllerType:e.number},a);return delete e.number,Object.assign(n,e),Array.isArray(this.controlChanges[n.number])||(this.controlChanges[n.number]=[]),(0,Fr.insert)(this.controlChanges[n.number],n,"ticks"),this},t.prototype.addPitchBend=function(e){var a=Hi.get(this),n=new Hb.PitchBend({},a);return Object.assign(n,e),(0,Fr.insert)(this.pitchBends,n,"ticks"),this},Object.defineProperty(t.prototype,"duration",{get:function(){if(!this.notes.length)return 0;for(var e=this.notes[this.notes.length-1].time+this.notes[this.notes.length-1].duration,a=0;a<this.notes.length-1;a++){var n=this.notes[a].time+this.notes[a].duration;e<n&&(e=n)}return e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"durationTicks",{get:function(){if(!this.notes.length)return 0;for(var e=this.notes[this.notes.length-1].ticks+this.notes[this.notes.length-1].durationTicks,a=0;a<this.notes.length-1;a++){var n=this.notes[a].ticks+this.notes[a].durationTicks;e<n&&(e=n)}return e},enumerable:!1,configurable:!0}),t.prototype.fromJSON=function(e){var a=this;this.name=e.name,this.channel=e.channel,this.instrument=new Uf.Instrument(void 0,this),this.instrument.fromJSON(e.instrument),e.endOfTrackTicks!==void 0&&(this.endOfTrackTicks=e.endOfTrackTicks);for(var n in e.controlChanges)e.controlChanges[n]&&e.controlChanges[n].forEach(function(l){a.addCC({number:l.number,ticks:l.ticks,value:l.value})});e.notes.forEach(function(l){a.addNote({durationTicks:l.durationTicks,midi:l.midi,ticks:l.ticks,velocity:l.velocity})})},t.prototype.toJSON=function(){for(var e={},a=0;a<127;a++)this.controlChanges.hasOwnProperty(a)&&(e[a]=this.controlChanges[a].map(function(l){return l.toJSON()}));var n={channel:this.channel,controlChanges:e,pitchBends:this.pitchBends.map(function(l){return l.toJSON()}),instrument:this.instrument.toJSON(),name:this.name,notes:this.notes.map(function(l){return l.toJSON()})};return this.endOfTrackTicks!==void 0&&(n.endOfTrackTicks=this.endOfTrackTicks),n},t}();ii.Track=qb;var rr={};function Vb(t){var e=[];return Im(t,e),e}function Im(t,e){for(var a=0;a<t.length;a++){var n=t[a];Array.isArray(n)?Im(n,e):e.push(n)}}const Yb=Object.freeze(Object.defineProperty({__proto__:null,flatten:Vb},Symbol.toStringTag,{value:"Module"})),Xb=v0(Yb);var va=zn&&zn.__spreadArray||function(t,e,a){if(a||arguments.length===2)for(var n=0,l=e.length,i;n<l;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))};Object.defineProperty(rr,"__esModule",{value:!0});rr.encode=void 0;var Lb=ar,Qb=Os,Zb=Xb;function Fb(t,e){return[{absoluteTime:t.ticks,channel:e,deltaTime:0,noteNumber:t.midi,type:"noteOn",velocity:Math.floor(t.velocity*127)},{absoluteTime:t.ticks+t.durationTicks,channel:e,deltaTime:0,noteNumber:t.midi,type:"noteOff",velocity:Math.floor(t.noteOffVelocity*127)}]}function Kb(t){return(0,Zb.flatten)(t.notes.map(function(e){return Fb(e,t.channel)}))}function Jb(t,e){return{absoluteTime:t.ticks,channel:e,controllerType:t.number,deltaTime:0,type:"controller",value:Math.floor(t.value*127)}}function Ib(t){for(var e=[],a=0;a<127;a++)t.controlChanges.hasOwnProperty(a)&&t.controlChanges[a].forEach(function(n){e.push(Jb(n,t.channel))});return e}function Pb(t,e){return{absoluteTime:t.ticks,channel:e,deltaTime:0,type:"pitchBend",value:t.value}}function Wb(t){var e=[];return t.pitchBends.forEach(function(a){e.push(Pb(a,t.channel))}),e}function $b(t){return{absoluteTime:0,channel:t.channel,deltaTime:0,programNumber:t.instrument.number,type:"programChange"}}function ty(t){return{absoluteTime:0,deltaTime:0,meta:!0,text:t,type:"trackName"}}function ey(t){return{absoluteTime:t.ticks,deltaTime:0,meta:!0,microsecondsPerBeat:Math.floor(6e7/t.bpm),type:"setTempo"}}function ay(t){return{absoluteTime:t.ticks,deltaTime:0,denominator:t.timeSignature[1],meta:!0,metronome:24,numerator:t.timeSignature[0],thirtyseconds:8,type:"timeSignature"}}function ny(t){var e=Qb.keySignatureKeys.indexOf(t.key);return{absoluteTime:t.ticks,deltaTime:0,key:e+7,meta:!0,scale:t.scale==="major"?0:1,type:"keySignature"}}function ly(t){return{absoluteTime:t.ticks,deltaTime:0,meta:!0,text:t.text,type:t.type}}function iy(t){var e={header:{format:1,numTracks:t.tracks.length+1,ticksPerBeat:t.header.ppq},tracks:va([va(va(va(va([{absoluteTime:0,deltaTime:0,meta:!0,text:t.header.name,type:"trackName"}],t.header.keySignatures.map(function(a){return ny(a)}),!0),t.header.meta.map(function(a){return ly(a)}),!0),t.header.tempos.map(function(a){return ey(a)}),!0),t.header.timeSignatures.map(function(a){return ay(a)}),!0)],t.tracks.map(function(a){return va(va(va([ty(a.name),$b(a)],Kb(a),!0),Ib(a),!0),Wb(a),!0)}),!0)};return e.tracks=e.tracks.map(function(a){a=a.sort(function(l,i){return l.absoluteTime-i.absoluteTime});var n=0;return a.forEach(function(l){l.deltaTime=l.absoluteTime-n,n=l.absoluteTime,delete l.absoluteTime}),a.push({deltaTime:0,meta:!0,type:"endOfTrack"}),a}),new Uint8Array((0,Lb.writeMidi)(e))}rr.encode=iy;(function(t){var e=zn&&zn.__awaiter||function(g,f,d,v){function y(w){return w instanceof d?w:new d(function(p){p(w)})}return new(d||(d=Promise))(function(w,p){function h(T){try{x(v.next(T))}catch(M){p(M)}}function b(T){try{x(v.throw(T))}catch(M){p(M)}}function x(T){T.done?w(T.value):y(T.value).then(h,b)}x((v=v.apply(g,f||[])).next())})},a=zn&&zn.__generator||function(g,f){var d={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},v,y,w,p;return p={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function h(x){return function(T){return b([x,T])}}function b(x){if(v)throw new TypeError("Generator is already executing.");for(;d;)try{if(v=1,y&&(w=x[0]&2?y.return:x[0]?y.throw||((w=y.return)&&w.call(y),0):y.next)&&!(w=w.call(y,x[1])).done)return w;switch(y=0,w&&(x=[x[0]&2,w.value]),x[0]){case 0:case 1:w=x;break;case 4:return d.label++,{value:x[1],done:!1};case 5:d.label++,y=x[1],x=[0];continue;case 7:x=d.ops.pop(),d.trys.pop();continue;default:if(w=d.trys,!(w=w.length>0&&w[w.length-1])&&(x[0]===6||x[0]===2)){d=0;continue}if(x[0]===3&&(!w||x[1]>w[0]&&x[1]<w[3])){d.label=x[1];break}if(x[0]===6&&d.label<w[1]){d.label=w[1],w=x;break}if(w&&d.label<w[2]){d.label=w[2],d.ops.push(x);break}w[2]&&d.ops.pop(),d.trys.pop();continue}x=f.call(g,d)}catch(T){x=[6,T],y=0}finally{v=w=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Header=t.Track=t.Midi=void 0;var n=ar,l=Os,i=ii,s=rr,r=function(){function g(f){var d=this,v=null;if(f){var y=f instanceof ArrayBuffer?new Uint8Array(f):f;v=(0,n.parseMidi)(y),v.tracks.forEach(function(w){var p=0;w.forEach(function(h){p+=h.deltaTime,h.absoluteTime=p})}),v.tracks=m(v.tracks)}this.header=new l.Header(v),this.tracks=[],f&&(this.tracks=v.tracks.map(function(w){return new i.Track(w,d.header)}),v.header.format===1&&this.tracks[0].duration===0&&this.tracks.shift())}return g.fromUrl=function(f){return e(this,void 0,void 0,function(){var d,v;return a(this,function(y){switch(y.label){case 0:return[4,fetch(f)];case 1:return d=y.sent(),d.ok?[4,d.arrayBuffer()]:[3,3];case 2:return v=y.sent(),[2,new g(v)];case 3:throw new Error("Could not load '".concat(f,"'"))}})})},Object.defineProperty(g.prototype,"name",{get:function(){return this.header.name},set:function(f){this.header.name=f},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"duration",{get:function(){var f=this.tracks.map(function(d){return d.duration});return Math.max.apply(Math,f)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"durationTicks",{get:function(){var f=this.tracks.map(function(d){return d.durationTicks});return Math.max.apply(Math,f)},enumerable:!1,configurable:!0}),g.prototype.addTrack=function(){var f=new i.Track(void 0,this.header);return this.tracks.push(f),f},g.prototype.toArray=function(){return(0,s.encode)(this)},g.prototype.toJSON=function(){return{header:this.header.toJSON(),tracks:this.tracks.map(function(f){return f.toJSON()})}},g.prototype.fromJSON=function(f){var d=this;this.header=new l.Header,this.header.fromJSON(f.header),this.tracks=f.tracks.map(function(v){var y=new i.Track(void 0,d.header);return y.fromJSON(v),y})},g.prototype.clone=function(){var f=new g;return f.fromJSON(this.toJSON()),f},g}();t.Midi=r;var c=ii;Object.defineProperty(t,"Track",{enumerable:!0,get:function(){return c.Track}});var u=Os;Object.defineProperty(t,"Header",{enumerable:!0,get:function(){return u.Header}});function m(g){for(var f=[],d=0;d<g.length;d++)for(var v=f.length,y=new Map,w=Array(16).fill(0),p=0,h=g[d];p<h.length;p++){var b=h[p],x=v,T=b.channel;if(T!==void 0){b.type==="programChange"&&(w[T]=b.programNumber);var M=w[T],z="".concat(M," ").concat(T);y.has(z)?x=y.get(z):(x=v+y.size,y.set(z,x))}f[x]||f.push([]),f[x].push(b)}return f}})(Fm);const Kr="ontei_db",Jr=1,Tn="files",Gi={async init(){return new Promise((t,e)=>{const a=indexedDB.open(Kr,Jr);a.onupgradeneeded=n=>{const l=n.target.result;l.objectStoreNames.contains(Tn)||l.createObjectStore(Tn)},a.onsuccess=()=>t(),a.onerror=()=>e(a.error)})},async saveMidi(t){return this._put("lastMidi",t)},async loadMidi(){return await this._get("lastMidi")??null},async _put(t,e){return new Promise((a,n)=>{const l=indexedDB.open(Kr,Jr);l.onsuccess=()=>{const s=l.result.transaction(Tn,"readwrite");s.objectStore(Tn).put(e,t),s.oncomplete=()=>a(),s.onerror=()=>n(s.error)},l.onerror=()=>n(l.error)})},async _get(t){return new Promise((e,a)=>{const n=indexedDB.open(Kr,Jr);n.onsuccess=()=>{const r=n.result.transaction(Tn,"readonly").objectStore(Tn).get(t);r.onsuccess=()=>e(r.result),r.onerror=()=>a(r.error)},n.onerror=()=>a(n.error)})}};function be(t){if(this.size=t|0,this.size<=1||this.size&this.size-1)throw new Error("FFT size must be a power of two and bigger than 1");this._csize=t<<1;for(var e=new Array(this.size*2),a=0;a<e.length;a+=2){const c=Math.PI*a/this.size;e[a]=Math.cos(c),e[a+1]=-Math.sin(c)}this.table=e;for(var n=0,l=1;this.size>l;l<<=1)n++;this._width=n%2===0?n-1:n,this._bitrev=new Array(1<<this._width);for(var i=0;i<this._bitrev.length;i++){this._bitrev[i]=0;for(var s=0;s<this._width;s+=2){var r=this._width-s-2;this._bitrev[i]|=(i>>>s&3)<<r}}this._out=null,this._data=null,this._inv=0}var sy=be;be.prototype.fromComplexArray=function(e,a){for(var n=a||new Array(e.length>>>1),l=0;l<e.length;l+=2)n[l>>>1]=e[l];return n};be.prototype.createComplexArray=function(){const e=new Array(this._csize);for(var a=0;a<e.length;a++)e[a]=0;return e};be.prototype.toComplexArray=function(e,a){for(var n=a||this.createComplexArray(),l=0;l<n.length;l+=2)n[l]=e[l>>>1],n[l+1]=0;return n};be.prototype.completeSpectrum=function(e){for(var a=this._csize,n=a>>>1,l=2;l<n;l+=2)e[a-l]=e[l],e[a-l+1]=-e[l+1]};be.prototype.transform=function(e,a){if(e===a)throw new Error("Input and output buffers must be different");this._out=e,this._data=a,this._inv=0,this._transform4(),this._out=null,this._data=null};be.prototype.realTransform=function(e,a){if(e===a)throw new Error("Input and output buffers must be different");this._out=e,this._data=a,this._inv=0,this._realTransform4(),this._out=null,this._data=null};be.prototype.inverseTransform=function(e,a){if(e===a)throw new Error("Input and output buffers must be different");this._out=e,this._data=a,this._inv=1,this._transform4();for(var n=0;n<e.length;n++)e[n]/=this.size;this._out=null,this._data=null};be.prototype._transform4=function(){var e=this._out,a=this._csize,n=this._width,l=1<<n,i=a/l<<1,s,r,c=this._bitrev;if(i===4)for(s=0,r=0;s<a;s+=i,r++){const y=c[r];this._singleTransform2(s,y,l)}else for(s=0,r=0;s<a;s+=i,r++){const y=c[r];this._singleTransform4(s,y,l)}var u=this._inv?-1:1,m=this.table;for(l>>=2;l>=2;l>>=2){i=a/l<<1;var g=i>>>2;for(s=0;s<a;s+=i)for(var f=s+g,d=s,v=0;d<f;d+=2,v+=l){const y=d,w=y+g,p=w+g,h=p+g,b=e[y],x=e[y+1],T=e[w],M=e[w+1],z=e[p],S=e[p+1],N=e[h],O=e[h+1],E=b,P=x,ut=m[v],yt=u*m[v+1],st=T*ut-M*yt,_=T*yt+M*ut,D=m[2*v],j=u*m[2*v+1],F=z*D-S*j,at=z*j+S*D,vt=m[3*v],K=u*m[3*v+1],R=N*vt-O*K,V=N*K+O*vt,W=E+F,ot=P+at,et=E-F,it=P-at,mt=st+R,J=_+V,bt=u*(st-R),wt=u*(_-V),k=W+mt,U=ot+J,Q=W-mt,G=ot-J,$=et+wt,I=it-bt,gt=et-wt,B=it+bt;e[y]=k,e[y+1]=U,e[w]=$,e[w+1]=I,e[p]=Q,e[p+1]=G,e[h]=gt,e[h+1]=B}}};be.prototype._singleTransform2=function(e,a,n){const l=this._out,i=this._data,s=i[a],r=i[a+1],c=i[a+n],u=i[a+n+1],m=s+c,g=r+u,f=s-c,d=r-u;l[e]=m,l[e+1]=g,l[e+2]=f,l[e+3]=d};be.prototype._singleTransform4=function(e,a,n){const l=this._out,i=this._data,s=this._inv?-1:1,r=n*2,c=n*3,u=i[a],m=i[a+1],g=i[a+n],f=i[a+n+1],d=i[a+r],v=i[a+r+1],y=i[a+c],w=i[a+c+1],p=u+d,h=m+v,b=u-d,x=m-v,T=g+y,M=f+w,z=s*(g-y),S=s*(f-w),N=p+T,O=h+M,E=b+S,P=x-z,ut=p-T,yt=h-M,st=b-S,_=x+z;l[e]=N,l[e+1]=O,l[e+2]=E,l[e+3]=P,l[e+4]=ut,l[e+5]=yt,l[e+6]=st,l[e+7]=_};be.prototype._realTransform4=function(){var e=this._out,a=this._csize,n=this._width,l=1<<n,i=a/l<<1,s,r,c=this._bitrev;if(i===4)for(s=0,r=0;s<a;s+=i,r++){const vi=c[r];this._singleRealTransform2(s,vi>>>1,l>>>1)}else for(s=0,r=0;s<a;s+=i,r++){const vi=c[r];this._singleRealTransform4(s,vi>>>1,l>>>1)}var u=this._inv?-1:1,m=this.table;for(l>>=2;l>=2;l>>=2){i=a/l<<1;var g=i>>>1,f=g>>>1,d=f>>>1;for(s=0;s<a;s+=i)for(var v=0,y=0;v<=d;v+=2,y+=l){var w=s+v,p=w+f,h=p+f,b=h+f,x=e[w],T=e[w+1],M=e[p],z=e[p+1],S=e[h],N=e[h+1],O=e[b],E=e[b+1],P=x,ut=T,yt=m[y],st=u*m[y+1],_=M*yt-z*st,D=M*st+z*yt,j=m[2*y],F=u*m[2*y+1],at=S*j-N*F,vt=S*F+N*j,K=m[3*y],R=u*m[3*y+1],V=O*K-E*R,W=O*R+E*K,ot=P+at,et=ut+vt,it=P-at,mt=ut-vt,J=_+V,bt=D+W,wt=u*(_-V),k=u*(D-W),U=ot+J,Q=et+bt,G=it+k,$=mt-wt;if(e[w]=U,e[w+1]=Q,e[p]=G,e[p+1]=$,v===0){var I=ot-J,gt=et-bt;e[h]=I,e[h+1]=gt;continue}if(v!==d){var B=it,Z=-mt,rt=ot,H=-et,Tt=-u*k,te=-u*wt,Bt=-u*bt,Ge=-u*J,Yt=B+Tt,Je=Z+te,ye=rt+Ge,Ie=H-Bt,yi=s+f-v,vn=s+g-v;e[yi]=Yt,e[yi+1]=Je,e[vn]=ye,e[vn+1]=Ie}}}};be.prototype._singleRealTransform2=function(e,a,n){const l=this._out,i=this._data,s=i[a],r=i[a+n],c=s+r,u=s-r;l[e]=c,l[e+1]=0,l[e+2]=u,l[e+3]=0};be.prototype._singleRealTransform4=function(e,a,n){const l=this._out,i=this._data,s=this._inv?-1:1,r=n*2,c=n*3,u=i[a],m=i[a+n],g=i[a+r],f=i[a+c],d=u+g,v=u-g,y=m+f,w=s*(m-f),p=d+y,h=v,b=-w,x=d-y,T=v,M=w;l[e]=p,l[e+1]=0,l[e+2]=h,l[e+3]=b,l[e+4]=x,l[e+5]=0,l[e+6]=T,l[e+7]=M};const ry=y0(sy);class Xl{constructor(e,a){q(this,"_inputLength");q(this,"_fft");q(this,"_bufferSupplier");q(this,"_paddedInputBuffer");q(this,"_transformBuffer");q(this,"_inverseBuffer");if(e<1)throw new Error("Input length must be at least one");this._inputLength=e,this._fft=new ry(uy(2*e)),this._bufferSupplier=a,this._paddedInputBuffer=this._bufferSupplier(this._fft.size),this._transformBuffer=this._bufferSupplier(2*this._fft.size),this._inverseBuffer=this._bufferSupplier(2*this._fft.size)}static forFloat32Array(e){return new Xl(e,a=>new Float32Array(a))}static forFloat64Array(e){return new Xl(e,a=>new Float64Array(a))}static forNumberArray(e){return new Xl(e,a=>Array(a))}get inputLength(){return this._inputLength}autocorrelate(e,a=this._bufferSupplier(e.length)){if(e.length!==this._inputLength)throw new Error(`Input must have length ${this._inputLength} but had length ${e.length}`);for(let l=0;l<e.length;l++)this._paddedInputBuffer[l]=e[l];for(let l=e.length;l<this._paddedInputBuffer.length;l++)this._paddedInputBuffer[l]=0;this._fft.realTransform(this._transformBuffer,this._paddedInputBuffer),this._fft.completeSpectrum(this._transformBuffer);const n=this._transformBuffer;for(let l=0;l<n.length;l+=2)n[l]=n[l]*n[l]+n[l+1]*n[l+1],n[l+1]=0;this._fft.inverseTransform(this._inverseBuffer,this._transformBuffer);for(let l=0;l<e.length;l++)a[l]=this._inverseBuffer[2*l];return a}}function cy(t){const e=[];let a=!1,n=-1/0,l=-1;for(let i=1;i<t.length-1;i++)t[i-1]<=0&&t[i]>0?(a=!0,l=i,n=t[i]):t[i-1]>0&&t[i]<=0?(a=!1,l!==-1&&e.push(l)):a&&t[i]>n&&(n=t[i],l=i);return e}function oy(t,e){const[a,n,l]=[t-1,t,t+1],[i,s,r]=[e[a],e[n],e[l]],c=i/2-s+r/2,u=-(i/2)*(n+l)+s*(a+l)-r/2*(a+n),m=i*n*l/2-s*a*l+r*a*n/2,g=-u/(2*c),f=c*g*g+u*g+m;return[g,f]}class Ll{constructor(e,a){q(this,"_autocorrelator");q(this,"_nsdfBuffer");q(this,"_clarityThreshold",.9);q(this,"_minVolumeAbsolute",0);q(this,"_maxInputAmplitude",1);this._autocorrelator=new Xl(e,a),this._nsdfBuffer=a(e)}static forFloat32Array(e){return new Ll(e,a=>new Float32Array(a))}static forFloat64Array(e){return new Ll(e,a=>new Float64Array(a))}static forNumberArray(e){return new Ll(e,a=>Array(a))}get inputLength(){return this._autocorrelator.inputLength}set clarityThreshold(e){if(!Number.isFinite(e)||e<=0||e>1)throw new Error("clarityThreshold must be a number in the range (0, 1]");this._clarityThreshold=e}set minVolumeAbsolute(e){if(!Number.isFinite(e)||e<0||e>this._maxInputAmplitude)throw new Error(`minVolumeAbsolute must be a number in the range [0, ${this._maxInputAmplitude}]`);this._minVolumeAbsolute=e}set minVolumeDecibels(e){if(!Number.isFinite(e)||e>0)throw new Error("minVolumeDecibels must be a number <= 0");this._minVolumeAbsolute=this._maxInputAmplitude*10**(e/10)}set maxInputAmplitude(e){if(!Number.isFinite(e)||e<=0)throw new Error("maxInputAmplitude must be a number > 0");this._maxInputAmplitude=e}findPitch(e,a){if(this._belowMinimumVolume(e))return[0,0];this._nsdf(e);const n=cy(this._nsdfBuffer);if(n.length===0)return[0,0];const l=Math.max(...n.map(c=>this._nsdfBuffer[c])),i=n.find(c=>this._nsdfBuffer[c]>=this._clarityThreshold*l),[s,r]=oy(i,this._nsdfBuffer);return[a/s,Math.min(r,1)]}_belowMinimumVolume(e){if(this._minVolumeAbsolute===0)return!1;let a=0;for(let n=0;n<e.length;n++)a+=e[n]**2;return Math.sqrt(a/e.length)<this._minVolumeAbsolute}_nsdf(e){this._autocorrelator.autocorrelate(e,this._nsdfBuffer);let a=2*this._nsdfBuffer[0],n;for(n=0;n<this._nsdfBuffer.length&&a>0;n++)this._nsdfBuffer[n]=2*this._nsdfBuffer[n]/a,a-=e[n]**2+e[e.length-n-1]**2;for(;n<this._nsdfBuffer.length;n++)this._nsdfBuffer[n]=0}}function uy(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t++,t}class Pm{constructor(){q(this,"detector",null);q(this,"inputLength",0);q(this,"lastStableFreq",0);q(this,"consecutiveSilence",0)}analyze(e,a,n={viterbi:!0}){(!this.detector||this.inputLength!==e.length)&&(this.inputLength=e.length,this.detector=Ll.forFloat32Array(this.inputLength),this.detector.minVolumeDecibels=-60);let l=0;for(let m=0;m<e.length;m++)l+=e[m]*e[m];l=Math.sqrt(l/e.length);const i=n.minRms??.01;if(l<i)return this.consecutiveSilence++,this.consecutiveSilence>5&&(this.lastStableFreq=0),{freq:0,conf:0};this.consecutiveSilence=0;const[s,r]=this.detector.findPitch(e,a);if(r<.5||s<60||s>4200)return{freq:0,conf:0};let c=s,u=r;if(n.guideFreq&&n.guideFreq>0){const m=n.guideFreq,g=12*Math.log2(c/m),f=Math.abs(g);Math.abs(f-12)<2&&u<.98&&(g>0?c/=2:c*=2,u=Math.min(1,u*1.2))}if(this.lastStableFreq>0){const m=12*Math.log2(c/this.lastStableFreq);Math.abs(m)<1?c=this.lastStableFreq*(1-.5)+c*.5:Math.abs(Math.abs(m)-12)<1&&u<.9&&(c=this.lastStableFreq)}return this.lastStableFreq=c,{freq:c,conf:u}}}function Rf(t,e="alphabet"){const a=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],n=["","#","","#","","","#","","#","","#",""],l=Math.round(t),i=Math.floor(l/12)-1,s=(l%12+12)%12;return(e==="katakana"?n[s]:a[s])+i}function Ja(t){const e=Math.max(0,t|0);return Math.round(Math.max(60,Math.min(e-80,e*.33)))}class fy{constructor(e){q(this,"canvas");q(this,"ctx");q(this,"pxPerPitch",20);q(this,"particles",[]);q(this,"lastPhraseId",null);this.canvas=e;const a=e.getContext("2d");if(!a)throw new Error("Could not get 2d context");this.ctx=a}spawnParticles(e,a,n,l){for(let i=0;i<n;i++){const s=Math.random()*Math.PI*2,r=2+Math.random()*4;this.particles.push({x:e,y:a,vx:Math.cos(s)*r,vy:Math.sin(s)*r,color:l[Math.floor(Math.random()*l.length)],life:1,maxLife:1,size:2+Math.random()*3})}}updateParticles(){for(let e=this.particles.length-1;e>=0;e--){const a=this.particles[e];a.x+=a.vx,a.y+=a.vy,a.life-=.02,a.vy+=.1,a.life<=0&&this.particles.splice(e,1)}}draw(e){if(!this.ctx)return;const{width:a,height:n}=this.canvas,l=a,i=n,s=this.ctx,r=e.verticalZoom*12;if(this.pxPerPitch=n/r,s.fillStyle="#222",s.fillRect(0,0,a,n),s.save(),this.drawGrid(e),this.drawBpmMarkers(e),this.drawLoopRegion(e),this.drawPhraseBoundaries(e),e.lastPhraseResult&&e.lastPhraseResult.phraseId!==this.lastPhraseId&&(this.lastPhraseId=e.lastPhraseResult.phraseId,e.isParticlesEnabled)){const K=e.lastPhraseResult,R=Ja(a),V=n/2;K.evaluation==="Perfect"?this.spawnParticles(R,V,50,["#FFD700","#FFA500","#FFFFFF","#00FFFF"]):K.evaluation==="Good"&&this.spawnParticles(R,V,20,["#00FF00","#AAFFAA","#FFFFFF"])}this.updateParticles();const{isCalibrating:c,isPracticing:u,isPitchOnlyMode:m,playbackPosition:g,timelineOffsetSec:f,verticalOffset:d,tempoFactor:v,pxPerSec:y,guideLineWidth:w,showNoteNames:p,currentTracks:h,melodyTrackIndex:b,pitchHistory:x,midiGhostNotes:T,micRenderMode:M,toleranceCents:z}=e,S=Ja(a),N=g+f,O=36+Math.round((96-r)*(d/100)),E=this.pxPerPitch,P=2,ut=N-S/y*v-P,yt=N+(l-S)/y*v+P,_=60/(e.bpm||120)*4;s.save(),s.strokeStyle="rgba(255, 255, 255, 0.15)",s.lineWidth=1,s.beginPath();const D=ut,j=yt,F=Math.floor(D/_),at=Math.ceil(j/_);for(let K=F;K<=at;K++){if(K<0)continue;const R=K*_,V=S+(R-N)*y/v;V>=0&&V<=l&&(s.moveTo(V,0),s.lineTo(V,i),s.fillStyle="rgba(255,255,255,0.3)",s.fillText(String(K+1),V+4,10))}if(s.stroke(),s.restore(),!c&&h[b]&&!m){const K=h[b];if(K.type==="audio"&&K.pitchData&&K.pitchData.length>0){s.save(),s.beginPath(),s.strokeStyle="#FFA500",s.lineWidth=3,s.lineCap="round",s.lineJoin="round",s.shadowBlur=10,s.shadowColor="#FFA500";let R=!0;const V=K.pitchData;for(let W=0;W<V.length;W++){const ot=V[W];if(ot.time>yt)break;if(ot.time<ut-.5)continue;const et=69+12*Math.log2(ot.freq/440),it=i-(et-O+1)*E,mt=S+(ot.time-N)*y/v;if(!R&&W>0){const J=V[W-1];ot.time-J.time>.1&&(s.stroke(),s.beginPath(),R=!0)}R?(s.moveTo(mt,it),R=!1):s.lineTo(mt,it)}s.stroke(),s.restore()}else{s.lineWidth=w,s.strokeStyle="#4e8cff";const R=K.notes;for(const V of R){if(V.time>yt)break;if(V.time+V.duration<ut)continue;const W=S+(V.time-N)*y/v;let ot=S+(V.time+V.duration-N)*y/v;if(ot-W>3&&(ot-=1),ot<0||W>l)continue;const et=V.midi+e.guideOctaveOffset*12+e.transposeOffset,it=i-(et-O+1)*E;if(s.beginPath(),s.moveTo(W,it),s.lineTo(ot,it),s.stroke(),ot-W>5){s.save(),s.lineWidth=2,s.strokeStyle="#ff0000",s.globalAlpha=1;const J=E;s.beginPath(),s.moveTo(ot,it-J/2),s.lineTo(ot,it+J/2),s.stroke(),s.restore()}e.editTool!=="view"&&e.selectedNote===V&&(s.save(),s.strokeStyle="#ffdd55",s.lineWidth=w+2,s.beginPath(),s.moveTo(W,it),s.lineTo(ot,it),s.stroke(),s.fillStyle="#ffdd55",s.beginPath(),s.arc(W,it,6,0,Math.PI*2),s.fill(),s.beginPath(),s.arc(ot,it,6,0,Math.PI*2),s.fill(),s.restore());const mt=z/100*E;if(mt>.2&&(s.save(),s.lineWidth=1,s.strokeStyle="#ffffff",s.beginPath(),s.moveTo(W,it-mt),s.lineTo(ot,it-mt),s.stroke(),s.beginPath(),s.moveTo(W,it+mt),s.lineTo(ot,it+mt),s.stroke(),s.restore()),p){s.font="10px sans-serif",s.fillStyle="#fff",s.textAlign="center",s.textBaseline="middle";const J=Rf(et);s.fillText(J,(W+ot)/2,it-8)}}}}if(Array.isArray(T)&&T.length&&(!m||u)){s.save(),s.lineWidth=Math.max(2,w),s.lineWidth=Math.max(2,w);for(let K=0;K<T.length;K++){const R=T[K];if(R.role==="resp"||R.role==="calib"?(s.strokeStyle="#4e8cff",s.setLineDash([4,4])):R.role==="call"?(s.strokeStyle="#ff5050",s.setLineDash([])):R.role==="practice"?(s.strokeStyle="#ffb300",s.lineWidth=Math.max(3,w),s.setLineDash([])):(s.strokeStyle="rgba(255,80,80,0.9)",s.setLineDash([6,4])),R.time+R.duration<ut||R.time>yt)continue;const V=S+(R.time-N)*y/v,W=S+(R.time+R.duration-N)*y/v;if(W<0||V>l)continue;const ot=R.midi+e.guideOctaveOffset*12+e.transposeOffset,et=i-(ot-O+1)*E;if(s.beginPath(),s.moveTo(V,et),s.lineTo(W,et),s.stroke(),R.role==="call"){const it=T[K+1];if(it&&it.midi===R.midi&&it.time-(R.time+R.duration)<.15){s.save(),s.globalAlpha=1;const wt=Math.max(2,w)+0;s.lineWidth=3,s.strokeStyle="#000000",s.beginPath(),s.moveTo(W,et-wt/2),s.lineTo(W,et+wt/2),s.stroke(),s.lineWidth=1.5,s.strokeStyle="#ff0000",s.beginPath(),s.moveTo(W,et-wt/2),s.lineTo(W,et+wt/2),s.stroke(),s.restore()}}if(R.role==="call"||R.role==="resp"||R.role==="practice")try{const it=R.label||Rf(Math.round(ot));s.save(),s.font="12px sans-serif",s.textAlign="center",s.textBaseline="bottom";const mt=(V+W)/2,J=et-6,bt=s.measureText(it).width;s.fillStyle="rgba(0,0,0,0.6)",s.fillRect(mt-bt/2-4,J-16,bt+8,14),R.role==="practice"?s.fillStyle="#ffca28":s.fillStyle=R.role==="call"?"#ffd27d":"#d6f0ff",s.fillText(it,mt,J-2),s.restore()}catch{}}s.restore()}if(!c&&x&&x.length){const V=Math.round(.05*1e3)/1e3,W=g-V,ot=440,et=36+Math.round((96-r)*(d/100)),it=et+r,mt=[];for(const J of x){const bt=J.time+(J.visOff!=null?J.visOff-.05:0);if(bt<ut||bt>yt||bt>W)continue;const wt=69+12*Math.log2(Math.max(1e-9,J.freq)/ot);wt<et||wt>it||mt.push({t:bt,midi:wt,conf:J.conf,freq:J.freq})}if(M==="dot"){s.save();for(const J of mt){const bt=i-(J.midi-et+1)*E,wt=S+(J.t-N)*y/v;wt<0||wt>l||(s.beginPath(),s.arc(wt,bt,3,0,Math.PI*2),s.fillStyle="#00FFCC",s.shadowBlur=10,s.shadowColor="#00FFCC",s.strokeStyle="#fff",s.lineWidth=1.5,s.fill(),s.stroke(),s.shadowBlur=0)}s.restore()}else if(mt.length>1){s.save(),s.beginPath(),s.strokeStyle="#39FF14",s.lineWidth=4,s.lineCap="round",s.lineJoin="round",s.shadowBlur=15,s.shadowColor="#39FF14";let J=!0;for(let bt=0;bt<mt.length;bt++){const wt=mt[bt],k=i-(wt.midi-et+1)*E,U=S+(wt.t-N)*y/v;if(!(U<-10)){if(U>l+10)break;if(bt>0){const Q=mt[bt-1];wt.t-Q.t>.12&&(s.stroke(),s.beginPath(),s.strokeStyle="#39FF14",s.lineWidth=4,s.shadowBlur=15,s.shadowColor="#39FF14",J=!0)}J?(s.moveTo(U,k),J=!1):s.lineTo(U,k)}}s.stroke(),s.restore()}}if(e.currentMicPitch&&e.currentMicConf&&e.currentMicConf>.3){const K=e.currentMicPitch,R=36+Math.round((96-r)*(d/100)),W=69+12*Math.log2(K/440);if(W>=R&&W<=R+r){const ot=i-(W-R+1)*E;s.save(),s.beginPath(),s.arc(S,ot,5,0,Math.PI*2),s.fillStyle="#00FFFF",s.shadowBlur=15,s.shadowColor="#00FFFF",s.strokeStyle="#fff",s.lineWidth=2,s.fill(),s.stroke(),s.restore()}}s.strokeStyle="#ffffff",s.beginPath(),s.moveTo(S+.5,0),s.lineTo(S+.5,i),s.stroke(),s.restore(),this.ctx.save(),this.ctx.resetTransform(),this.ctx.restore()}drawPianoKeys(e){if(!this.ctx)return;const{height:a}=this.canvas,{verticalOffset:n,verticalZoom:l}=e,i=40;this.ctx.fillStyle="#fff",this.ctx.fillRect(0,0,i,a);const s=l*12,r=36,u=r+Math.round((132-r-s)*(n/100)),m=u+s,g=this.pxPerPitch;this.ctx.textAlign="right",this.ctx.textBaseline="middle",this.ctx.font="10px sans-serif";for(let f=Math.floor(u);f<=Math.ceil(m);f++){if(f<0||f>127)continue;const d=a-(f-u+1)*g,v=[1,3,6,8,10].includes(f%12);v||(this.ctx.fillStyle="#ccc",this.ctx.fillRect(0,d+g-1,i,1)),f%12===0&&(this.ctx.fillStyle="#333",this.ctx.fillText("C"+(f/12-1),i-4,d+g/2)),v&&(this.ctx.fillStyle="black",this.ctx.fillRect(0,d,i*.6,g),this.ctx.strokeStyle="#555",this.ctx.strokeRect(0,d,i*.6,g))}this.ctx.fillStyle="#555",this.ctx.fillRect(i-1,0,1,a)}drawPhraseBoundaries(e){if(!e.phrases||e.phrases.length===0)return;const a=this.ctx,{width:n,height:l}=this.canvas,i=Ja(n),{playbackPosition:s,timelineOffsetSec:r,pxPerSec:c,tempoFactor:u}=e,m=s+r;a.save(),a.strokeStyle="rgba(255, 255, 255, 0.1)",a.lineWidth=2,a.setLineDash([5,5]),e.phrases.forEach(g=>{const f=g.endTime,d=i+(f-m)*c/u;d>=0&&d<=n&&(a.beginPath(),a.moveTo(d,0),a.lineTo(d,l),a.stroke())}),a.restore()}drawGrid(e){if(!this.ctx)return;const{width:a,height:n}=this.canvas,{timelineOffsetSec:l,verticalOffset:i,bpm:s,pxPerSec:r,verticalZoom:c}=e;this.ctx.font="10px sans-serif",this.ctx.fillStyle="#ffffff",this.ctx.textAlign="left",this.ctx.textBaseline="bottom";const u=c*12,m=36,f=m+Math.round((132-m-u)*(i/100)),d=f+u,v=this.pxPerPitch;for(let M=Math.floor(f);M<=Math.ceil(d);M++){const z=n-(M-f+1)*v,S=[1,3,6,8,10].includes(M%12),N=M%12===0;this.ctx.beginPath(),N?(this.ctx.strokeStyle="#ffffff",this.ctx.lineWidth=2):S?(this.ctx.strokeStyle="rgba(255, 255, 255, 0.08)",this.ctx.lineWidth=1):(this.ctx.strokeStyle="rgba(255, 255, 255, 0.5)",this.ctx.lineWidth=1),this.ctx.moveTo(0,z),this.ctx.lineTo(a,z),this.ctx.stroke(),N&&(this.ctx.fillStyle="rgba(255, 255, 255, 0.6)",this.ctx.fillText("C"+(M/12-1),2,z-2))}const y=60/s,w=Ja(a),p=e.playbackPosition+l,h=p+(0-w)*e.tempoFactor/r,b=p+(a-w)*e.tempoFactor/r,x=Math.floor(h/y),T=Math.ceil(b/y);for(let M=x;M<=T;M++){const z=M*y,S=w+(z-p)*r/e.tempoFactor;M%4===0?this.ctx.strokeStyle="rgba(255, 255, 255, 0.3)":this.ctx.strokeStyle="rgba(255, 255, 255, 0.1)",this.ctx.beginPath(),this.ctx.moveTo(S,0),this.ctx.lineTo(S,n),this.ctx.stroke()}}getQuantizedTimeMidi(e,a,n){const l=this.canvas.width,i=this.canvas.height,{verticalZoom:s,verticalOffset:r,playbackPosition:c,timelineOffsetSec:u,pxPerSec:m,tempoFactor:g}=n,f=s*12,d=36,y=d+Math.round((132-d-f)*(r/100)),w=i/f,p=y-1+(i-a)/w,h=Math.round(p),b=Ja(l),T=c+u+(e-b)*g/m,M=.125;return{time:Math.round(T/M)*M,midi:h,exactTime:T,exactMidi:p}}drawBpmMarkers(e){if(!this.ctx||!e.tempoMap||e.tempoMap.length===0)return;const{width:a,height:n}=this.canvas,{timelineOffsetSec:l,playbackPosition:i,pxPerSec:s,tempoFactor:r}=e,c=Ja(a),u=i+l;this.ctx.save(),this.ctx.font="bold 12px sans-serif",this.ctx.textBaseline="top";for(const m of e.tempoMap){const g=c+(m.time-u)*s/r;g<-50||g>a+50||(this.ctx.beginPath(),this.ctx.strokeStyle="rgba(255, 215, 0, 0.7)",this.ctx.lineWidth=1,this.ctx.setLineDash([5,5]),this.ctx.moveTo(g,0),this.ctx.lineTo(g,n),this.ctx.stroke(),this.ctx.fillStyle="rgba(255, 215, 0, 1)",this.ctx.fillText(`BPM ${Math.round(m.bpm)}`,g+4,25))}this.ctx.restore()}drawLoopRegion(e){if(!e.loopEnabled||!this.ctx)return;const{width:a,height:n}=this.canvas,{timelineOffsetSec:l,playbackPosition:i,pxPerSec:s,tempoFactor:r}=e,c=Ja(a),u=i+l,m=e.loopEnd>e.loopStart,g=!m;if(m){const f=c+(e.loopStart-u)*s/r,d=c+(e.loopEnd-u)*s/r,v=Math.max(0,f),y=Math.min(a,d);y>v&&(this.ctx.save(),this.ctx.fillStyle="rgba(0, 200, 100, 0.15)",this.ctx.fillRect(v,0,y-v,n),this.ctx.strokeStyle="rgba(0, 200, 100, 0.7)",this.ctx.lineWidth=2,f>=0&&f<=a&&(this.ctx.beginPath(),this.ctx.moveTo(f,0),this.ctx.lineTo(f,n),this.ctx.stroke()),d>=0&&d<=a&&(this.ctx.beginPath(),this.ctx.moveTo(d,0),this.ctx.lineTo(d,n),this.ctx.stroke()),this.ctx.font="bold 10px sans-serif",this.ctx.fillStyle="rgba(0, 200, 100, 0.9)",this.ctx.fillText("LOOP",v+5,12),this.ctx.restore())}else if(g){const f=c+(e.loopStart-u)*s/r,v=c-l*s/r;if(v>f){const y=Math.max(0,f),w=Math.min(a,v);if(w>y){this.ctx.save();const p=.1+.05*Math.sin(Date.now()/200);this.ctx.fillStyle=`rgba(234, 179, 8, ${p})`,this.ctx.fillRect(y,0,w-y,n),this.ctx.strokeStyle="rgba(234, 179, 8, 0.9)",this.ctx.lineWidth=3,f>=0&&f<=a&&(this.ctx.beginPath(),this.ctx.moveTo(f,0),this.ctx.lineTo(f,n),this.ctx.stroke()),v>=0&&v<=a&&(this.ctx.setLineDash([8,8]),this.ctx.strokeStyle="rgba(234, 179, 8, 0.6)",this.ctx.lineWidth=2,this.ctx.beginPath(),this.ctx.moveTo(v,0),this.ctx.lineTo(v,n),this.ctx.stroke(),this.ctx.setLineDash([])),y+100<a&&(this.ctx.font="bold 11px sans-serif",this.ctx.fillStyle="rgba(234, 179, 8, 1)",this.ctx.fillText(" ",y+8,14)),this.ctx.restore()}}}}}async function dy(t,e=20,a=440,n=!1,l=null,i=s=>{}){const s=t.sampleRate,r=t.getChannelData(0),c=t.numberOfChannels>1?t.getChannelData(1):null,u=new Float32Array(r.length);for(let k=0;k<u.length;k++)u[k]=r[k]*(c?.5:1)+(c?c[k]*.5:0);function m(k,U,Q){if(!(Q>0)||Q>=U*.5)return 0;const G=2*Math.PI*Q/U,I=2*Math.cos(G);let gt=0,B=0,Z=0;for(let H=0;H<k.length;H++)gt=k[H]+I*B-Z,Z=B,B=gt;const rt=B*B+Z*Z-I*B*Z;return Math.max(0,rt)}function g(k,U,Q,G){if(!(Q>0))return 0;const $=Math.max(1,G|0);let I=0,gt=0;for(let B=1;B<=$;B++){const Z=Q*B;if(Z>=U*.5)break;const rt=m(k,U,Z);I+=(rt>0?Math.sqrt(rt):0)*(1/B),gt++}return gt?I/gt:0}try{let U=0;for(let Q=0;Q<u.length;Q++){const G=u[Q];u[Q]=G-.97*U,U=G}}catch{}i(10);const d=Math.max(1,Math.floor(s/44100)),v=s/d,y=Math.floor(u.length/d),w=new Float32Array(y);for(let k=0,U=0;k<y;k++,U+=d){let Q=0,G=0;for(let $=0;$<d&&U+$<u.length;$++)Q+=u[U+$],G++;w[k]=Q/Math.max(1,G)}i(20);const p=Math.max(28,Math.min(60,(e||20)+25)),b=Math.floor(v*.09),T=Math.max(1024,Math.min(2048,(k=>1<<Math.round(Math.log2(Math.max(1,k))))(b))),M=Math.max(1,Math.floor(v/Math.max(28,p))),z=new Float32Array(T);for(let k=0;k<T;k++)z[k]=.5*(1-Math.cos(2*Math.PI*k/(T-1)));const S=new Float32Array(Math.ceil(w.length/M)),N=new Float32Array(Math.ceil(w.length/M)),O=new Pm;let E=0;for(;E*M+T<w.length;){const k=E*M,U=w.subarray(k,k+T),Q=O.analyze(U,v,{viterbi:!0,minRms:.002});if(S[E]=Q.freq,N[E]=Q.conf,E++,E%200===0){const G=20+E/(w.length/M)*70;i(Math.min(90,G)),await new Promise($=>setTimeout($,0))}}i(95);const P=[],ut=k=>k*M/v,yt=.07,st=2,_=.045;let D=null,j=0,F=0,at=null;for(let k=0;k<S.length;k++){const U=S[k],Q=ut(k);if(U<=0){if(D!=null){const I=Q-j;I>0&&P.push({midi:D,time:Math.max(0,j-_),duration:I}),D=null}F=0,at=null;continue}let G=69+12*Math.log2(U/a);if(D!=null){for(;G-D>6;)G-=12;for(;D-G>6;)G+=12}const $=Math.round(G);if(D==null)D=$,j=Q,F=0,at=$;else if($!==D){if(at===$?F++:(F=1,at=$),F>=st){const I=Q-j;I>0&&P.push({midi:D,time:Math.max(0,j-_),duration:I}),D=$,j=Q,F=0}}else F=0,at=$}if(D!=null){const U=ut(S.length)-j;U>0&&P.push({midi:D,time:Math.max(0,j-_),duration:U})}const vt=[];for(const k of P){if(!vt.length){vt.push(k);continue}const U=vt[vt.length-1];k.midi===U.midi&&k.time-(U.time+U.duration)<.02||k.duration<yt&&Math.abs(k.midi-U.midi)<=1&&k.time-(U.time+U.duration)<.03?U.duration=k.time+k.duration-U.time:vt.push(k)}const K=[];for(let k=0;k<vt.length;k++){if(k>0&&k<vt.length-1){const U=vt[k-1],Q=vt[k],G=vt[k+1],$=Q.time-(U.time+U.duration),I=G.time-(Q.time+Q.duration);if(Q.duration<Math.min(.06,yt)&&U.midi===G.midi&&Math.abs(Q.midi-U.midi)<=1&&$<.03&&I<.03){U.duration=G.time+G.duration-U.time,k++;continue}}K.push(vt[k])}const R=36,V=127,W=k=>Math.max(0,Math.min(S.length-1,Math.round(k*v/M))),ot=k=>Math.max(R,Math.min(V,k)),et=k=>{const U=k.slice().sort((G,$)=>G-$),Q=U.length;return Q?Q%2?U[Q-1>>1]:.5*(U[Q/2-1]+U[Q/2]):0},it=[],mt=[];for(const k of K){const U=W(k.time),Q=W(k.time+k.duration),G=[];for(let I=U;I<=Q;I++){const gt=S[I];gt>0&&isFinite(gt)&&G.push(gt)}const $=G.length?et(G):a*Math.pow(2,(k.midi-69)/12);it.push($),mt.push(69+12*Math.log2($/a))}(function(){const k=new Float32Array(T),U=G=>{const $=G*M;if($+T>w.length)return null;let I=0;for(let B=0;B<T;B++)I+=w[$+B];I/=T;let gt=0;for(let B=0;B<T;B++){const Z=(w[$+B]-I)*z[B];k[B]=Z,gt+=Z*Z}return Math.sqrt(gt/T)},Q=(G,$)=>{if(!($>0)&&isFinite($))return 0;const I=U(G);return!I||I<1e-5?0:g(k,v,$,8)};for(let G=0;G<K.length;G++){const $=mt[G],I=it[G];if(!(I>0)&&isFinite(I))continue;const gt=W(K[G].time),B=W(K[G].time+K[G].duration);let Z=0,rt=0,H=0;const Tt=Math.max(1,Math.floor((B-gt+1)/24));for(let Bt=gt;Bt<=B;Bt+=Tt)rt+=Q(Bt,I),Z+=Q(Bt,I*.5),H+=Q(Bt,I*2);const te=Z>=rt&&Z>=H?-12:H>=rt&&H>=Z?12:0;te!==0&&(mt[G]=$+te)}})();const J=[];for(let k=0;k<K.length;k++)J.push(Math.round(mt[k]));if(n&&J.length>=2){let k=function(H,Tt){const te=Q[Tt];let Bt=0;return te!==0&&(Bt+=.12),Bt},U=function(H,Tt,te){const Bt=Q[Tt],Ge=Q[te],Yt=J[H-1]+Bt,Je=J[H]+Ge,ye=Math.abs(Je-Yt),Ie=B[H],yi=Ie>1.8||Ie<.55;let vn=.1*ye;return Math.min(Math.abs(ye-12),Math.abs(ye-24))<.6&&(vn+=yi?.05:1.1),ye<=6&&(vn-=.03),vn};const Q=[-24,-12,0,12,24],G=J.length,$=Q.length,I=new Array(G),gt=new Array(G);for(let H=0;H<G;H++)I[H]=new Array($).fill(1/0),gt[H]=new Array($).fill(-1);const B=new Array(G).fill(1);for(let H=1;H<G;H++){const Tt=it[H-1]>0&&it[H]>0?it[H]/it[H-1]:1;B[H]=Tt}for(let H=0;H<$;H++)I[0][H]=k(0,H),gt[0][H]=-1;for(let H=1;H<G;H++)for(let Tt=0;Tt<$;Tt++){let te=1/0,Bt=-1;const Ge=k(H,Tt);for(let Yt=0;Yt<$;Yt++){const Je=U(H,Yt,Tt),ye=I[H-1][Yt]+Ge+Je;ye<te&&(te=ye,Bt=Yt)}I[H][Tt]=te,gt[H][Tt]=Bt}let Z=0;{let H=1/0;for(let Tt=0;Tt<$;Tt++)I[G-1][Tt]<H&&(H=I[G-1][Tt],Z=Tt)}const rt=new Array(G).fill(0);for(let H=G-1;H>=0;H--)rt[H]=Q[Z],Z=gt[H][Z]>=0?gt[H][Z]:0;for(let H=0;H<G;H++)J[H]=ot(J[H]+rt[H])}else for(let k=1;k<J.length;k++)Math.abs(J[k]-J[k-1]);(function(){if(K.length<=1)return;const k=.26,U=[];let Q=0;for(let Z=1;Z<K.length;Z++){const rt=K[Z-1];K[Z].time-(rt.time+rt.duration)>=k&&(U.push({s:Q,e:Z-1}),Q=Z)}if(U.push({s:Q,e:K.length-1}),U.length<=1)return;const G=Z=>{const rt=Z.slice().sort((Tt,te)=>Tt-te),H=rt.length;return H?rt[H-1>>1]:0},$=[-24,-12,0,12,24],I=U[0];let gt=G(J.slice(I.s,I.e+1)),B=J[I.e];for(let Z=1;Z<U.length;Z++){const rt=U[Z],H=J.slice(rt.s,rt.e+1);if(!H.length)continue;const Tt=H[0],te=G(H);let Bt=0,Ge=1e9;for(const Yt of $){const Je=Math.abs(Tt+Yt-B),ye=Math.abs(te+Yt-gt),Ie=1.2*Je+1*ye;Ie<Ge&&(Ge=Ie,Bt=Yt)}if(Bt!==0)for(let Yt=rt.s;Yt<=rt.e;Yt++)J[Yt]=ot(J[Yt]+Bt);gt=G(J.slice(rt.s,rt.e+1)),B=J[rt.e]}})();for(let k=0;k<K.length;k++)K[k].midi=J[k];const bt=[];for(const k of K){if(!bt.length){bt.push(k);continue}const U=bt[bt.length-1];k.midi===U.midi&&k.time<=U.time+U.duration+.03?U.duration=Math.max(U.duration,k.time+k.duration-U.time):bt.push(k)}const wt=[];if(S.length>0){const k=new Float32Array(S.length);for(let B=0;B<S.length;B++)N[B]>=.4&&S[B]>0?k[B]=S[B]:k[B]=0;const U=[];for(let B=0;B<k.length;B++)if(k[B]>0){const Z=69+12*Math.log2(k[B]/a);U.push(Z)}let Q=0;if(U.length>0){U.sort((B,Z)=>B-Z),Q=U[Math.floor(U.length/2)];for(let B=0;B<k.length;B++)if(k[B]>0){const Z=69+12*Math.log2(k[B]/a);Math.abs(Z-Q)>36&&(k[B]=0)}}const G=new Float32Array(k.length),$=2;for(let B=0;B<k.length;B++){const Z=[];for(let rt=-$;rt<=$;rt++)if(B+rt>=0&&B+rt<k.length){const H=k[B+rt];H>0&&Z.push(H)}Z.length===0?G[B]=0:(Z.sort((rt,H)=>rt-H),G[B]=Z[Math.floor(Z.length/2)])}const I=new Float32Array(G.length);I.set(G);let gt=-1;for(let B=0;B<I.length;B++){const Z=I[B];if(Z<=0)continue;const rt=69+12*Math.log2(Z/a);if(gt>0){const H=rt-gt,Tt=Math.abs(H);if(Math.abs(Tt-12)<2.5||Math.abs(Tt-24)<2.5){const Bt=H>0?-12:12,Ge=H>0?-24:24,Yt=rt+Bt,Je=rt+Ge,ye=Math.abs(Yt-gt),Ie=Math.abs(Je-gt);ye<4?I[B]=Z*Math.pow(2,Bt/12):Ie<4&&(I[B]=Z*Math.pow(2,Ge/12))}}gt=69+12*Math.log2(I[B]/a)}for(let B=0;B<I.length;B++){const Z=I[B];Z>0&&wt.push({time:ut(B),freq:Z})}}return{notes:bt,pitchData:wt}}const Bf=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Ic{static getMidiFromNoteName(e,a=4){const n=Bf.indexOf(e);return n===-1?60:12*(a+1)+n}static getNoteName(e){const a=Math.round(e)%12;return Bf[a]}static generateScale(e,a,n=120,l=0,i="AscDesc"){const s=this.SCALES[a],c=60/n/2,u=[];if((i==="Ascending"||i==="AscDesc")&&u.push(...s.map(f=>e+f)),i==="Descending")u.push(...[...s].reverse().map(f=>e+f));else if(i==="AscDesc"){const f=[...s].reverse().slice(1).map(d=>e+d);u.push(...f)}const m=u.map((f,d)=>({midi:f,time:l+d*c,duration:c*.9,role:"practice",label:this.getNoteName(f)})),g=m.length*c;return{notes:m,duration:g}}static generateArpeggio(e,a,n=120,l=0,i="AscDesc"){const s=this.ARPEGGIOS[a],c=60/n/2,u=[];if((i==="Ascending"||i==="AscDesc")&&u.push(...s.map(f=>e+f)),i==="Descending")u.push(...[...s].reverse().map(f=>e+f));else if(i==="AscDesc"){const f=[...s].reverse().slice(1).map(d=>e+d);u.push(...f)}const m=u.map((f,d)=>({midi:f,time:l+d*c,duration:c*.95,role:"practice",label:this.getNoteName(f)})),g=m.length*c;return{notes:m,duration:g}}static generateExercise(e,a,n=120,l=0){const i=60/n,s=[];if(a==="LongTone")s.push({midi:e,dur:i*4});else if(a==="FiveNote"){const u=i/2;[0,2,4,5,7,5,4,2,0].forEach(g=>s.push({midi:e+g,dur:u}))}else if(a==="Triad"){const u=i;[0,4,7,4,0].forEach(g=>s.push({midi:e+g,dur:u}))}else if(a==="Thirds"){const u=i,m=[0,2,4,5,7,9,11,12];[[0,2],[1,3],[2,4]].forEach(f=>{s.push({midi:e+m[f[0]],dur:u}),s.push({midi:e+m[f[1]],dur:u})}),s.push({midi:e,dur:u*2})}else a==="Octave"&&(s.push({midi:e,dur:i*2}),s.push({midi:e+12,dur:i*2}),s.push({midi:e,dur:i*4}));const r=[];let c=l;return s.forEach(u=>{r.push({midi:u.midi,time:c,duration:u.dur*.95,role:"practice",label:this.getNoteName(u.midi)}),c+=u.dur}),{notes:r,duration:c-l}}static generateRandomBatch(e,a=60,n=120,l={mode:"Mix"}){const i=[];let s=e,r=a;const c=72,u=l.maxPitch??103,m=(g,f=20)=>{var y,w,p;for(let h=0;h<f;h++){let b=!1,x=!1;if(l.mode==="Scale")b=!0;else if(l.mode==="Arpeggio")b=!1;else if(l.mode==="Exercise")x=!0;else{const E=Math.random();E<.4?b=!0:E<.7?x=!0:b=!1}const z=Math.max(c,u-15)-c,S=c+Math.floor(Math.random()*(z+1));let N;if(x){const E=(y=l.allowedExercises)!=null&&y.length?l.allowedExercises:["LongTone","FiveNote","Triad"],P=E[Math.floor(Math.random()*E.length)];N=this.generateExercise(S,P,n,g)}else if(b){const E=(w=l.allowedScales)!=null&&w.length?l.allowedScales:["Major","NaturalMinor","MajorPentatonic"],P=E[Math.floor(Math.random()*E.length)];N=this.generateScale(S,P,n,g,"AscDesc")}else{const E=(p=l.allowedArpeggios)!=null&&p.length?l.allowedArpeggios:["Major","Minor"],P=E[Math.floor(Math.random()*E.length)];N=this.generateArpeggio(S,P,n,g,"AscDesc")}if(Math.max(...N.notes.map(E=>E.midi))<=u)return N}return console.warn(`[Generator] Failed to generate pattern within limit ${u} after ${f} tries. Using fallback.`),this.generateScale(60,"Major",n,g,"AscDesc")};for(;r>0;){const f=60/n*4,d=m(s);if(!d){s+=f,r-=f;continue}const v=d.notes.map(T=>({...T,role:"call"}));i.push(...v);const y=d.duration,p=Math.ceil(y/f)*f,h=s+p,b=d.notes.map(T=>({...T,time:T.time-s+h,role:"resp"}));i.push(...b);const x=p*2;s+=x,r=e+a-s}return{notes:i,nextStartTime:s}}}q(Ic,"SCALES",{Major:[0,2,4,5,7,9,11,12],NaturalMinor:[0,2,3,5,7,8,10,12],HarmonicMinor:[0,2,3,5,7,8,11,12],MelodicMinor:[0,2,3,5,7,9,11,12],MajorPentatonic:[0,2,4,7,9,12],MinorPentatonic:[0,3,5,7,10,12],Chromatic:[0,1,2,3,4,5,6,7,8,9,10,11,12]}),q(Ic,"ARPEGGIOS",{Major:[0,4,7,12],Minor:[0,3,7,12],Major7:[0,4,7,11,12],Minor7:[0,3,7,10,12],Dominant7:[0,4,7,10,12]});class hy{constructor(){q(this,"state");q(this,"visualizer",null);q(this,"pitchAnalyzer");q(this,"scoreAnalyzer");q(this,"audioCtx",null);q(this,"micStream",null);q(this,"micSource",null);q(this,"micAnalyser",null);q(this,"micData",null);q(this,"masterGain",null);q(this,"melodyGain",null);q(this,"accompGain",null);q(this,"analysisTimer",null);q(this,"playbackStartTime",0);q(this,"playbackStartPerf",0);q(this,"reqFrameId",null);q(this,"analysisRate",20);q(this,"listeners",[]);q(this,"history",[]);q(this,"redoStack",[]);q(this,"loadedMidi",null);q(this,"processedPhrases",new Set);q(this,"backingBuffer",null);q(this,"backingSource",null);q(this,"nextGuideNoteIndex",0);q(this,"originalGhostNotes",null);q(this,"nextPracticeTime",0);q(this,"nextMetronomeTime",0);q(this,"practiceQueue",[]);q(this,"nextNoteIndexToSchedule",0);q(this,"_isSeeking",!1);q(this,"mediaRecorder",null);q(this,"recordedChunks",[]);q(this,"isRecording",!1);this.pitchAnalyzer=new Pm,this.scoreAnalyzer=new yb,this.state={isPlaying:!1,isPracticing:!1,isCalibrating:!1,isPitchOnlyMode:!1,playbackPosition:0,timelineOffsetSec:-.05,verticalZoom:3,verticalOffset:60,tempoFactor:1,pxPerSec:100,guideLineWidth:4,showNoteNames:!0,toleranceCents:40,currentTracks:[],melodyTrackIndex:-1,pitchHistory:[],midiGhostNotes:[],phrases:[],practiceExpectedNotes:null,micRenderMode:"graph",practiceMode:"free",editTool:"view",gateThreshold:-50,guideVolume:.8,accompVolume:.8,selectedNote:null,bpm:120,isMonophonic:!0,guideOctaveOffset:1,scoreResult:null,loadingProgress:null,isGuideSoundEnabled:!0,isBackingSoundEnabled:!0,tempoMap:[],loopEnabled:!1,loopStart:0,loopEnd:0,transposeOffset:0,isParticlesEnabled:!0,noteNotation:"alphabet",metronomeMode:"off"},this.loadSettings()}subscribe(e){return this.listeners.push(e),()=>{this.listeners=this.listeners.filter(a=>a!==e)}}notify(){this.listeners.forEach(e=>e())}pushHistory(){const e=JSON.parse(JSON.stringify(this.state.currentTracks));this.history.push(e),this.history.length>50&&this.history.shift(),this.redoStack=[]}undo(){if(this.history.length===0)return;const e=JSON.parse(JSON.stringify(this.state.currentTracks));this.redoStack.push(e);const a=this.history.pop();a&&(this.state.currentTracks=a,this.draw(),this.notify())}redo(){if(this.redoStack.length===0)return;const e=JSON.parse(JSON.stringify(this.state.currentTracks));this.history.push(e);const a=this.redoStack.pop();a&&(this.state.currentTracks=a,this.draw(),this.notify())}setCanvas(e){this.visualizer=new fy(e),this.draw()}setTool(e){this.state.editTool=e,e!=="view"&&(!this.state.currentTracks.length||this.state.melodyTrackIndex===-1)&&(this.state.currentTracks=[{name:"Guide Track",notes:[]}],this.state.melodyTrackIndex=0),this.draw(),this.notify()}async ensureAudio(){var e;if(!this.audioCtx){const a=window.AudioContext||window.webkitAudioContext;if(!a)throw new Error("AudioContext not supported");this.audioCtx=new a({latencyHint:"interactive"})}!this.masterGain&&this.audioCtx&&(this.masterGain=this.audioCtx.createGain(),this.masterGain.connect(this.audioCtx.destination),this.melodyGain=this.audioCtx.createGain(),this.melodyGain.connect(this.masterGain)),((e=this.audioCtx)==null?void 0:e.state)==="suspended"&&await this.audioCtx.resume()}async initMic(e){if(await this.ensureAudio(),!this.audioCtx)return!1;try{this.micStream&&this.micStream.getTracks().forEach(n=>n.stop());const a={audio:{echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1,deviceId:e?{exact:e}:void 0}};return this.micStream=await navigator.mediaDevices.getUserMedia(a),this.micSource=this.audioCtx.createMediaStreamSource(this.micStream),this.micAnalyser=this.audioCtx.createAnalyser(),this.micAnalyser.fftSize=2048,this.micData=new Float32Array(this.micAnalyser.fftSize),this.micSource.connect(this.micAnalyser),this.startAnalysis(),!0}catch(a){return console.error("initMic failed",a),!1}}startAnalysis(){this.analysisTimer&&clearInterval(this.analysisTimer),this.analysisTimer=window.setInterval(()=>this.analyze(),1e3/this.analysisRate)}analyze(){if(!this.micAnalyser||!this.micData||!this.audioCtx)return;this.micAnalyser.getFloatTimeDomainData(this.micData);let e=0;const a=this.state.playbackPosition+this.state.timelineOffsetSec;if(Array.isArray(this.state.midiGhostNotes)){const s=this.state.midiGhostNotes.find(r=>a>=r.time&&a<=r.time+r.duration);if(s){const r=this.state.guideOctaveOffset*12;e=440*Math.pow(2,(s.midi+r-69)/12)}}const n=this.pitchAnalyzer.analyze(this.micData,this.audioCtx.sampleRate,{viterbi:!0,guideFreq:e}),{freq:l,conf:i}=n;if(this.state.currentMicPitch=l,this.state.currentMicConf=i,this.state.isPlaying){const s=this.state.playbackPosition;this.scoreAnalyzer.feed(s,l,e)}if(l>0&&this.state.isPlaying){const s=this.state.playbackPosition,r=.05;this.isRecording&&(this.state.pitchHistory=this.state.pitchHistory.filter(u=>u.time<s-.1||u.time>s+.1)),this.state.pitchHistory.push({time:s-r,visOff:r,freq:l,conf:i}),this.state.pitchHistory.length>2e3&&this.state.pitchHistory.shift()}this.state.isPlaying||this.draw()}async startPractice(e={mode:"Mix"}){var a;if(await this.ensureAudio(),this.state.isPracticing?!this.originalGhostNotes&&this.state.midiGhostNotes.length>0&&((a=this.state.practiceConfig)==null?void 0:a.mode)==="Midi"&&(console.log("[Practice] Switching from MIDI practice, backing up notes."),this.originalGhostNotes=[...this.state.midiGhostNotes]):this.state.midiGhostNotes.length>0?(console.log("[Practice] Initial Backup: Saved",this.state.midiGhostNotes.length,"guide notes."),this.originalGhostNotes=[...this.state.midiGhostNotes]):this.originalGhostNotes=null,this.stopPractice(),this.state.isPracticing=!0,this.state.isPitchOnlyMode=!0,this.state.practiceConfig=e,!this.audioCtx){console.error("Failed to initialize AudioContext");return}if(this.audioCtx.state==="suspended"&&await this.audioCtx.resume(),this.state.playbackPosition=0,this.playbackStartTime=this.audioCtx.currentTime,console.log(`[Practice] Started (${e.mode}).`),this.state.isPlaying=!0,this.state.scoreResult=null,this.nextPracticeTime=0,this.nextMetronomeTime=this.audioCtx.currentTime,this.nextNoteIndexToSchedule=0,e.mode==="Midi")if(this.state.midiGhostNotes.length===0&&this.state.melodyTrackIndex!==-1&&this.state.currentTracks[this.state.melodyTrackIndex]&&(this.state.midiGhostNotes=this.state.currentTracks[this.state.melodyTrackIndex].notes.map(n=>({...n,role:"call"}))),this.state.midiGhostNotes.length>0){const n=this.state.midiGhostNotes[this.state.midiGhostNotes.length-1];this.nextPracticeTime=n.time+n.duration}else{console.warn("[Practice] MIDI mode selected but no melody track is set."),this.stopPractice();return}else this.state.midiGhostNotes=[],this.updatePracticeQueue();this.reqFrameId||this.loop(),this.notify()}stopPractice(){var e;this.stopPlayback(),this.state.isPracticing&&(this.state.isPracticing=!1,this.state.isPitchOnlyMode=!1,((e=this.state.practiceConfig)==null?void 0:e.mode)!=="Midi"&&(this.originalGhostNotes?(console.log("[Practice] Restoring",this.originalGhostNotes.length,"original guide notes."),this.state.midiGhostNotes=[...this.originalGhostNotes],this.originalGhostNotes=null):(console.log("[Practice] No backup notes to restore. Clearing."),this.state.midiGhostNotes=[]),this.state.scoreResult=null)),this.practiceQueue=[],this.nextNoteIndexToSchedule=0,this.notify()}updatePracticeQueue(){var n;if(!this.state.isPracticing||((n=this.state.practiceConfig)==null?void 0:n.mode)==="Midi")return;const e=10,a=this.state.playbackPosition;if(this.nextPracticeTime<a+e)try{const l=Math.max(a,this.nextPracticeTime),i=Ic.generateRandomBatch(l,15,this.state.bpm||120,this.state.practiceConfig);i.notes.length>0?(this.state.midiGhostNotes.push(...i.notes),this.nextPracticeTime=i.nextStartTime,this.generatePhrases(),this.notify()):(console.warn("[Practice] No notes generated. Skipping forward."),this.nextPracticeTime+=5)}catch(l){console.error("[Practice] Error generating patterns:",l),this.nextPracticeTime+=5}}async startPlayback(){this.state.isPlaying||this.audioCtx&&(this.ensureAudio(),this.audioCtx.state==="suspended"&&this.audioCtx.resume(),this.state.isPlaying=!0,this.state.scoreResult=null,this.scoreAnalyzer.reset(),this.playbackStartTime=this.audioCtx.currentTime-this.state.playbackPosition,this.playbackStartPerf=performance.now(),this.onSeek(this.state.playbackPosition),this.loop(),this.notify())}stopPlayback(){if(this.state.isPlaying=!1,this.reqFrameId&&cancelAnimationFrame(this.reqFrameId),this.reqFrameId=null,this.backingSource){try{this.backingSource.stop()}catch{}this.backingSource=null}if(this.scoreAnalyzer){const e=this.scoreAnalyzer.summarize(this.state.phrases);this.updateState({scoreResult:e})}this.checkPhraseCompletion(),this.draw(),this.notify()}checkPhraseCompletion(){if(!this.state.isPlaying||!this.scoreAnalyzer||this.state.phrases.length===0)return;const e=this.state.playbackPosition,a=.1;for(const n of this.state.phrases)if(!this.processedPhrases.has(n.id)&&e>n.endTime+a){this.processedPhrases.add(n.id);const l=this.scoreAnalyzer.summarize([n]);if(l.phraseScores.length>0){const i=l.phraseScores[0];console.log(`Phrase finished: ${i.evaluation} (${i.score})`),this.updateState({lastPhraseResult:i})}}}syncBackingTrack(){if(this.backingSource){try{this.backingSource.stop()}catch{}this.backingSource=null}if(!this.state.isPlaying||!this.audioCtx||!this.backingBuffer||!this.state.isBackingSoundEnabled)return;const e=this.state.playbackPosition;e<this.backingBuffer.duration&&(this.backingSource=this.audioCtx.createBufferSource(),this.backingSource.buffer=this.backingBuffer,this.backingSource.connect(this.masterGain),this.backingSource.start(0,e))}onSeek(e){if(this.audioCtx&&(this.playbackStartTime=this.audioCtx.currentTime-e,this.nextMetronomeTime=0),this.state.isPlaying&&!this._isSeeking&&this.syncBackingTrack(),this.state.melodyTrackIndex!==-1&&this.state.currentTracks[this.state.melodyTrackIndex]){const a=this.state.currentTracks[this.state.melodyTrackIndex].notes;let n=0;for(;n<a.length&&a[n].time+a[n].duration<e;)n++;this.nextGuideNoteIndex=n}}startSeek(){var e;this._isSeeking||(this._isSeeking=!0,this.masterGain&&this.masterGain.gain.setValueAtTime(0,((e=this.audioCtx)==null?void 0:e.currentTime)||0))}endSeek(){var e;this._isSeeking&&(this._isSeeking=!1,this.masterGain&&this.masterGain.gain.setValueAtTime(1,((e=this.audioCtx)==null?void 0:e.currentTime)||0),this.state.isPlaying&&this.syncBackingTrack())}loadSettings(){try{const e=localStorage.getItem("ontei-settings");if(e){const a=JSON.parse(e),n=["verticalZoom","pxPerSec","noteNotation","tempoFactor","guideOctaveOffset","transposeOffset","guideVolume","accompVolume","gateThreshold","toleranceCents","isParticlesEnabled"],l={};n.forEach(i=>{a[i]!==void 0&&(l[i]=a[i])}),this.state={...this.state,...l},console.log("[AudioEngine] Settings loaded",l)}}catch(e){console.error("Failed to load settings",e)}}saveSettings(){try{const a=["verticalZoom","pxPerSec","noteNotation","tempoFactor","guideOctaveOffset","transposeOffset","guideVolume","accompVolume","gateThreshold","toleranceCents","isParticlesEnabled"].reduce((n,l)=>(n[l]=this.state[l],n),{});localStorage.setItem("ontei-settings",JSON.stringify(a))}catch(e){console.error("Failed to save settings",e)}}updateState(e){this.state={...this.state,...e},e.playbackPosition!==void 0&&this.onSeek(e.playbackPosition),e.isBackingSoundEnabled!==void 0&&this.syncBackingTrack();const a=["verticalZoom","pxPerSec","noteNotation","tempoFactor","guideOctaveOffset","transposeOffset","guideVolume","accompVolume","gateThreshold","toleranceCents","isParticlesEnabled"];Object.keys(e).some(n=>a.includes(n))&&this.saveSettings(),this.draw(),this.notify()}loop(){if(!this.state.isPlaying)return;this.audioCtx&&(this.state.playbackPosition=this.audioCtx.currentTime-this.playbackStartTime),this.state.loopEnabled&&this.state.loopEnd>this.state.loopStart&&this.state.playbackPosition>=this.state.loopEnd&&(this.state.playbackPosition=this.state.loopStart,this.playbackStartTime=this.audioCtx.currentTime-this.state.loopStart,this.onSeek(this.state.loopStart),this.syncBackingTrack());const e=1;let a=0;if(this.backingBuffer&&(a=Math.max(a,this.backingBuffer.duration)),this.state.melodyTrackIndex!==-1&&this.state.currentTracks[this.state.melodyTrackIndex]){const n=this.state.currentTracks[this.state.melodyTrackIndex].notes;if(n.length>0){const l=n[n.length-1];a=Math.max(a,l.time+l.duration)}}if(this.state.midiGhostNotes.length>0){const n=this.state.midiGhostNotes[this.state.midiGhostNotes.length-1];a=Math.max(a,n.time+n.duration)}if(a>0&&this.state.playbackPosition>a+e){console.log("Auto-stopping at end of track"),this.stopPlayback();return}this.state.isPracticing&&(this.schedulePracticeNotes(),this.updatePracticeQueue()),this.state.isGuideSoundEnabled&&(this.state.melodyTrackIndex!==-1||this.state.midiGhostNotes.length>0)&&this.scheduleGuideNotes(),this.scheduleMetronome(),this.draw(),this.reqFrameId=requestAnimationFrame(()=>this.loop())}scheduleMetronome(){if(this.state.metronomeMode==="off"||!this.audioCtx)return;this.nextMetronomeTime<this.audioCtx.currentTime-.2&&(this.nextMetronomeTime=this.audioCtx.currentTime+.1);const e=60/(this.state.bpm||120),a=.5;for(;this.nextMetronomeTime<this.audioCtx.currentTime+a;){const n=this.nextMetronomeTime-this.playbackStartTime,i=Math.round(n/e)%4===0;let s=!1;this.state.metronomeMode==="measure"?i&&(s=!0):this.state.metronomeMode==="beat"&&(s=!0),s&&this.playClick(this.nextMetronomeTime,i),this.nextMetronomeTime+=e}}playClick(e,a){if(!this.audioCtx||!this.masterGain)return;const n=this.audioCtx.createOscillator(),l=this.audioCtx.createGain();n.connect(l),l.connect(this.masterGain),n.type="triangle",n.frequency.value=a?1e3:800,l.gain.setValueAtTime(.3,e),l.gain.exponentialRampToValueAtTime(.001,e+.05),n.start(e),n.stop(e+.05)}scheduleGuideNotes(){if(!this.audioCtx)return;const e=.1,a=this.state.playbackPosition;let n=[],l=!1;const i=this.state.melodyTrackIndex!==-1?this.state.currentTracks[this.state.melodyTrackIndex]:null;if(i&&i.type!=="audio")n=i.notes;else if(this.state.midiGhostNotes.length>0)n=this.state.midiGhostNotes,l=!0;else return;for(;this.nextGuideNoteIndex<n.length;){const s=n[this.nextGuideNoteIndex];if(l&&s.role==="resp"){this.nextGuideNoteIndex++;continue}if(s.time+s.duration<a-.05){this.nextGuideNoteIndex++;continue}if(s.time>a+e)break;const r=Math.max(0,a-s.time);if(s.duration-r>.05){const u=Math.max(this.audioCtx.currentTime,this.playbackStartTime+s.time),g=this.playbackStartTime+s.time+s.duration-u;if(g>.03){const f=this.state.guideOctaveOffset*12+this.state.transposeOffset;this.scheduleNote(s.midi+f,u,g,r>0)}}this.nextGuideNoteIndex++}}schedulePracticeNotes(){if(!this.audioCtx)return;const e=.1,a=this.state.playbackPosition,n=this.state.midiGhostNotes;for(;this.nextNoteIndexToSchedule<n.length;){const l=n[this.nextNoteIndexToSchedule];if(l.time>a+e)break;if(l.role==="call"){const i=this.playbackStartTime+l.time;if(i>=this.audioCtx.currentTime-.05){const s=this.state.guideOctaveOffset*12;this.scheduleNote(l.midi+s,i,l.duration)}}this.nextNoteIndexToSchedule++}}scheduleNote(e,a,n,l=!1){if(!this.audioCtx||!this.masterGain)return;const i=this.audioCtx.createOscillator(),s=this.audioCtx.createGain();i.type="triangle";const r=440*Math.pow(2,(e-69)/12);i.frequency.value=r,l?(s.gain.setValueAtTime(0,a),s.gain.linearRampToValueAtTime(.4*this.state.guideVolume,a+.05)):(s.gain.setValueAtTime(0,a),s.gain.linearRampToValueAtTime(.4*this.state.guideVolume,a+.01)),s.gain.exponentialRampToValueAtTime(.01,a+n-.01),s.gain.setValueAtTime(0,a+n),i.connect(s),s.connect(this.masterGain),i.start(a),i.stop(a+n+.1),setTimeout(()=>{i.disconnect(),s.disconnect()},(a-this.audioCtx.currentTime+n+.2)*1e3)}draw(){this.visualizer&&this.visualizer.draw(this.state)}async loadAudioFile(e){if(this.state.midiGhostNotes.length>0&&(this.state.midiGhostNotes=[],this.state.scoreResult=null),this.updateState({loadingProgress:0}),await this.ensureAudio(),!this.audioCtx){this.updateState({loadingProgress:null});return}try{const a=await e.arrayBuffer();this.updateState({loadingProgress:10});const n=await this.audioCtx.decodeAudioData(a);this.updateState({loadingProgress:15}),this.backingBuffer=n;const l=await dy(n,20,440,!0,null,i=>this.updateState({loadingProgress:i}));this.state.currentTracks=[{name:e.name,notes:l.notes,pitchData:l.pitchData,type:"audio"}],this.state.melodyTrackIndex=0,this.state.playbackPosition=0,this.state.midiGhostNotes=[],this.state.scoreResult=null}catch(a){console.error("Load Audio Failed",a),alert("")}finally{this.updateState({loadingProgress:null}),this.draw()}}addNote(e){if(this.state.melodyTrackIndex===-1)return;this.pushHistory();const a=this.state.currentTracks[this.state.melodyTrackIndex];a.notes.push(e),a.notes.sort((n,l)=>n.time-l.time),this.draw(),this.notify()}removeNote(e){if(this.state.melodyTrackIndex===-1)return;this.pushHistory();const a=this.state.currentTracks[this.state.melodyTrackIndex];a.notes=a.notes.filter(n=>n!==e),this.draw(),this.notify()}async previewNote(e){if(this.audioCtx||await this.ensureAudio(),!this.audioCtx)return;const a=this.audioCtx.createOscillator(),n=this.audioCtx.createGain();a.type="triangle";const l=440*Math.pow(2,(e-69)/12);a.frequency.setValueAtTime(l,this.audioCtx.currentTime);const i=this.audioCtx.currentTime;n.gain.setValueAtTime(0,i),n.gain.linearRampToValueAtTime(.5,i+.02),n.gain.exponentialRampToValueAtTime(.01,i+.5),a.connect(n),n.connect(this.masterGain),a.start(i),a.stop(i+.6),setTimeout(()=>{a.disconnect(),n.disconnect()},600)}async loadMidiFile(e){const a=await e.arrayBuffer();try{await Gi.saveMidi(a),console.log("[AudioEngine] MIDI saved to storage")}catch(n){console.warn("[AudioEngine] Failed to save MIDI to storage",n)}return this.loadMidiFromBuffer(a)}loadMidiFromBuffer(e){const a=new Fm.Midi(e);this.loadedMidi=a;const n=a.tracks.map((i,s)=>({id:s,name:i.name,instrument:i.instrument.name,noteCount:i.notes.length,channel:i.channel})),l=n.filter(i=>i.noteCount>0);return this.updateState({scoreResult:null}),n.length===1?(this.importMidiTrack(n[0].id),n):l.length===1?(this.importMidiTrack(l[0].id),n):(this.updateState({midiTrackCandidates:n}),n)}async startRecording(){if(this.micStream||await this.initMic(),!this.micStream){console.error("No mic stream available for recording");return}this.recordedChunks=[],this.mediaRecorder=new MediaRecorder(this.micStream),this.mediaRecorder.ondataavailable=e=>{e.data.size>0&&this.recordedChunks.push(e.data)},this.mediaRecorder.start(),this.isRecording=!0,this.notify()}async stopRecording(){return new Promise(e=>{if(!this.mediaRecorder||this.mediaRecorder.state==="inactive"){e(null);return}this.mediaRecorder.onstop=()=>{const a=new Blob(this.recordedChunks,{type:"audio/webm"});this.recordedChunks=[],this.isRecording=!1,this.notify(),e(a)},this.mediaRecorder.stop()})}generatePhrases(){const e=this.state.midiGhostNotes.sort((s,r)=>s.time-r.time);if(e.length===0)return;const a=[];let n=[],l=e[0].time;const i=1.5;for(let s=0;s<e.length;s++){const r=e[s];n.push(r);const c=e[s+1];if(!c||c.time-(r.time+r.duration)>i){const m=r.time+r.duration;a.push({id:crypto.randomUUID(),startTime:l,endTime:m,notes:[...n]}),n=[],c&&(l=c.time)}}console.log(`Generated ${a.length} phrases`),this.updateState({phrases:a})}importMidiTrack(e){if(!this.loadedMidi)return;this.state.midiGhostNotes.length>0&&(this.state.midiGhostNotes=[],this.state.scoreResult=null);const a=this.loadedMidi.tracks[e];if(!a)return;const n=this.loadedMidi.header.tempos.map(i=>({time:i.time||0,bpm:i.bpm}));n.length>0&&(this.state.bpm=Math.round(n[0].bpm)),this.state.tempoMap=n;const l=a.notes.map(i=>({midi:i.midi,time:i.time,duration:i.duration,role:"call"}));this.state.midiGhostNotes=l,this.state.playbackPosition=0,this.notify()}exportSession(){const e={version:1,timestamp:new Date().toISOString(),bpm:this.state.bpm,tempoMap:this.state.tempoMap,practiceConfig:this.state.practiceConfig,ghostNotes:this.state.midiGhostNotes};return JSON.stringify(e,null,2)}async importSession(e){this.state.midiGhostNotes.length>0;const a=await e.text();try{const n=JSON.parse(a);return n.bpm&&(this.state.bpm=n.bpm),n.tempoMap&&(this.state.tempoMap=n.tempoMap),n.practiceConfig&&(this.state.practiceConfig=n.practiceConfig),n.ghostNotes&&(this.state.midiGhostNotes=n.ghostNotes,this.state.isPracticing=!0),this.notify(),!0}catch(n){return console.error("Failed to import session",n),!1}}triggerSessionDownload(){const e=this.exportSession(),a=new Blob([e],{type:"application/json"}),n=URL.createObjectURL(a),l=document.createElement("a");l.href=n,l.download=`practice_session_${new Date().toISOString().slice(0,19).replace(/[:T]/g,"-")}.json`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(n)}async importBackingFile(e){if(this.audioCtx||await this.ensureAudio(),!!this.audioCtx)try{const a=await e.arrayBuffer(),n=await this.audioCtx.decodeAudioData(a);this.backingBuffer=n,this.state.isBackingSoundEnabled=!0,console.log(`[AudioEngine] Loaded Backing Track: ${e.name} (${n.duration.toFixed(2)}s)`),this.notify()}catch(a){console.error("Failed to load backing file:",a)}}async initFromStorage(){try{await Gi.init();const e=await Gi.loadMidi();if(e){console.log("[AudioEngine] Restoring MIDI from storage...");const a=this.loadMidiFromBuffer(e);if(a&&a.length>0){const n=a.filter(l=>l.noteCount>0);n.length===1&&this.importMidiTrack(n[0].id)}}}catch(e){console.warn("[AudioEngine] Failed to restore from storage",e)}}resetSession(e){this.stopPlayback(),this.stopPractice(),e==="all"?(this.state.currentTracks=[],this.state.melodyTrackIndex=-1,this.state.midiGhostNotes=[],this.state.pitchHistory=[],this.state.phrases=[],this.state.scoreResult=null,this.state.playbackPosition=0,this.backingBuffer=null,this.loadedMidi=null,this.originalGhostNotes=null,Gi.saveMidi(new ArrayBuffer(0)).catch(()=>{}),console.log("[AudioEngine] Session fully reset")):(this.state.pitchHistory=[],this.state.scoreResult=null,console.log("[AudioEngine] Pitch history cleared")),this.draw(),this.notify()}}const C=new hy;window.audioEngine=C;function my(t){const e=Math.max(0,t|0);return Math.round(Math.max(60,Math.min(e-80,e*.33)))}function gy(){const t=L.useRef(null),e=L.useRef(null),[a,n]=L.useState("default"),l=L.useRef("idle"),i=L.useRef({x:0,y:0}),s=L.useRef({vOffset:0,tOffset:0,noteTime:0,noteMidi:0,noteDur:0,noteStartTime:0,noteStartMidi:0,clickTimeOffset:0,clickMidiOffset:0,playbackPosition:0}),r=L.useRef(null),c=L.useRef(null);L.useEffect(()=>{if(t.current&&e.current){const f=()=>{if(e.current&&t.current){const d=e.current.clientWidth,v=e.current.clientHeight;(Math.abs(t.current.width-d)>1||Math.abs(t.current.height-v)>1)&&(t.current.width=d,t.current.height=v,C.draw())}};return f(),window.addEventListener("resize",f),C.setCanvas(t.current),()=>window.removeEventListener("resize",f)}},[]);const u=f=>{var st;C.audioCtx||C.ensureAudio();const d=t.current;if(!d)return;const v=d.getBoundingClientRect(),y=f.clientX-v.left,w=f.clientY-v.top;d.setPointerCapture(f.pointerId),i.current={x:y,y:w};const{editTool:p,timelineOffsetSec:h,verticalOffset:b,selectedNote:x,playbackPosition:T,pxPerSec:M,tempoFactor:z,guideOctaveOffset:S}=C.state,N=S*12;if(w<30){l.current="scrub";const _=my(d.width),D=M/z,j=T+h+(y-_)/D,F=Math.max(0,j-h);C.updateState({playbackPosition:F}),s.current.playbackPosition=F,C.startSeek(),n("ew-resize");return}if(p==="view"){l.current="pan",s.current.playbackPosition=T,s.current.vOffset=b,C.startSeek(),n("grabbing");return}const O=(st=C.visualizer)==null?void 0:st.getQuantizedTimeMidi(y,w,C.state);let E=null,P=!1,ut=!1;if(O){const{exactTime:_,exactMidi:D}=O;if(console.log("[Debug] PointerDown",JSON.stringify({x:y,y:w,exactTime:_,exactMidi:D,offset:N})),x){const j=x.time,F=x.time+x.duration,at=x.midi+N;Math.abs(_-j)<.2&&Math.abs(D-at)<1?(E=x,ut=!0):Math.abs(_-F)<.2&&Math.abs(D-at)<1&&(E=x,P=!0)}if(!E){const j=C.state.currentTracks[C.state.melodyTrackIndex];E=(j==null?void 0:j.notes.find(F=>{const at=Math.abs(F.midi+N-D),vt=_>=F.time&&_<=F.time+F.duration&&at<.8;return console.log("[Debug] Check Note",JSON.stringify({noteTime:F.time,noteMidi:F.midi,visMidi:F.midi+N,exactTime:_,exactMidi:D,diffMidi:at,match:vt})),vt}))||null}E&&(s.current.noteStartTime=E.time,s.current.noteStartMidi=E.midi,s.current.noteDur=E.duration,s.current.clickTimeOffset=_-E.time,s.current.clickMidiOffset=D-(E.midi+N))}if(p==="eraser"){E&&(C.removeNote(E),x===E&&C.updateState({selectedNote:null}));return}if(p==="select"||p==="pencil"&&E){if(E){c.current=JSON.parse(JSON.stringify(C.state.currentTracks)),r.current=E,ut?(l.current="resize_note_left",n("ew-resize")):P?(l.current="resize_note_right",n("ew-resize")):(C.previewNote(E.midi+N),l.current="move_note",n("move")),C.updateState({selectedNote:E});return}p==="select"&&C.updateState({selectedNote:null})}if(p==="pencil"&&O&&!E){let _=.25;const D=C.state.currentTracks[C.state.melodyTrackIndex];if(D){if(D.notes.find(R=>O.time>=R.time&&O.time<R.time+R.duration-.001&&Math.abs(R.midi+N-O.midi)<.5)||C.state.isMonophonic&&D.notes.find(V=>O.time>=V.time&&O.time<V.time+V.duration-.001))return;const vt=C.state.isMonophonic,K=D.notes.filter(R=>R.time<=O.time+.001?!1:vt?!0:Math.abs(R.midi+N-O.midi)<.5).sort((R,V)=>R.time-V.time)[0];if(K&&(_=Math.min(.25,K.time-O.time),_<=0))return}const j={time:O.time,midi:O.midi-N,duration:_};C.addNote(j),C.updateState({selectedNote:j}),C.previewNote(O.midi),s.current.noteStartTime=O.time,s.current.noteStartMidi=O.midi,l.current="creating_note",r.current=j,n("crosshair"),c.current=null}},m=f=>{var z;if(l.current==="idle")return;const d=t.current;if(!d)return;const v=d.getBoundingClientRect(),y=f.clientX-v.left,w=f.clientY-v.top,p=y-i.current.x,h=w-i.current.y,{pxPerSec:b,tempoFactor:x}=C.state;if(l.current==="scrub"){const S=b/x,N=p/S,O=Math.max(0,s.current.playbackPosition+N);C.updateState({playbackPosition:O});return}if(l.current==="pan"){const S=b/x,N=-p/S,O=Math.max(0,s.current.playbackPosition+N);C.updateState({playbackPosition:O,timelineOffsetSec:0,verticalOffset:s.current.vOffset+h/5});return}const T=(z=C.visualizer)==null?void 0:z.getQuantizedTimeMidi(y,w,C.state);if(!T||!r.current)return;const M=r.current;if(l.current==="move_note"){const S=T.exactTime-s.current.clickTimeOffset,N=T.exactMidi-s.current.clickMidiOffset,O=Math.max(0,Math.round(S*20)/20),E=C.state.guideOctaveOffset*12,ut=Math.max(0,Math.min(127,Math.round(N)))-E,yt=C.state.currentTracks[C.state.melodyTrackIndex];if(yt){const st=C.state.isMonophonic,_=O+M.duration;if(yt.notes.some(j=>{if(j===M)return!1;const F=j.time+j.duration;return O<F-.01&&_>j.time+.01?st?!0:Math.abs(j.midi-ut)<.5:!1}))return}M.time=O,M.midi=ut,C.draw()}else if(l.current==="resize_note_right"||l.current==="resize_note"){let S=Math.max(M.time+.05,T.time);const N=C.state.currentTracks[C.state.melodyTrackIndex];if(N){const O=C.state.isMonophonic,E=N.notes.filter(P=>P===M||P.time<M.time?!1:O?!0:Math.abs(P.midi-M.midi)<.5).sort((P,ut)=>P.time-ut.time)[0];E&&(S=Math.min(S,E.time))}M.duration=Math.max(.05,Math.round((S-M.time)*20)/20),C.draw()}else if(l.current==="resize_note_left"){const S=s.current.noteStartTime+s.current.noteDur;let N=T.time;N=Math.min(S-.05,N),N=Math.max(0,N);const O=C.state.currentTracks[C.state.melodyTrackIndex];if(O){const ut=C.state.isMonophonic,yt=O.notes.filter(st=>st===M||st.time>=S?!1:ut?!0:Math.abs(st.midi-M.midi)<.5).filter(st=>st.time<M.time).sort((st,_)=>_.time-st.time)[0];yt&&(N=Math.max(N,yt.time+yt.duration))}const E=Math.max(.05,Math.round((S-N)*20)/20),P=S-E;M.time=P,M.duration=E,C.draw()}else if(l.current==="creating_note"){let S=Math.max(s.current.noteStartTime+.05,T.time);const N=C.state.currentTracks[C.state.melodyTrackIndex],O=C.state.isMonophonic,E=C.state.guideOctaveOffset*12,P=T.midi,ut=P-E;if(N){const yt=N.notes.filter(st=>st===M||st.time<M.time?!1:O?!0:Math.abs(st.midi-ut)<.5).sort((st,_)=>st.time-_.time)[0];yt&&(S=Math.min(S,yt.time))}M.duration=Math.max(.05,Math.round((S-M.time)*20)/20),M.midi!==ut&&(M.midi=ut,C.previewNote(P)),C.draw()}},g=f=>{const d=t.current;if(d&&d.releasePointerCapture(f.pointerId),(l.current==="resize_note_right"||l.current==="resize_note_left")&&r.current&&C.previewNote(r.current.midi+C.state.guideOctaveOffset*12),c.current){const v=JSON.stringify(C.state.currentTracks),y=JSON.stringify(c.current);v!==y&&(C.history.push(c.current),C.history.length>50&&C.history.shift(),C.redoStack=[])}if((l.current==="scrub"||l.current==="pan")&&C.endSeek(),c.current=null,l.current="idle",n("default"),r.current=null,C.state.editTool==="pencil"||C.state.editTool==="select"){const v=C.state.currentTracks[C.state.melodyTrackIndex];v&&v.notes.sort((y,w)=>y.time-w.time),C.notify()}};return o.jsx("div",{ref:e,className:"w-full h-full relative overflow-hidden bg-[#222]",children:o.jsx("canvas",{ref:t,className:"absolute inset-0 block touch-none w-full h-full",style:{cursor:a},onPointerDown:u,onPointerMove:m,onPointerUp:g,onPointerCancel:g,onWheel:f=>{f.preventDefault(),f.ctrlKey;const{deltaX:d,deltaY:v,ctrlKey:y,shiftKey:w,altKey:p,metaKey:h}=f,b=y||h,x=p,T=w;if(b){const S=v>0?.9:1.1,N=Math.max(10,Math.min(1e3,C.state.pxPerSec*S));C.updateState({pxPerSec:N});return}if(x){const S=v>0?1.1:.9,N=Math.max(1,Math.min(10,C.state.verticalZoom*S));C.updateState({verticalZoom:N});return}if(T||Math.abs(d)>Math.abs(v)){const N=(d!==0?d:v)/C.state.pxPerSec,O=Math.max(0,C.state.playbackPosition+N);C.updateState({playbackPosition:O});return}const M=v/500*10,z=Math.max(0,Math.min(100,C.state.verticalOffset-M));C.updateState({verticalOffset:z})}})})}/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Wm=(...t)=>t.filter((e,a,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===a).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var by={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=L.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:a=2,absoluteStrokeWidth:n,className:l="",children:i,iconNode:s,...r},c)=>L.createElement("svg",{ref:c,...by,width:e,height:e,stroke:t,strokeWidth:n?Number(a)*24/Number(e):a,className:Wm("lucide",l),...r},[...s.map(([u,m])=>L.createElement(u,m)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=(t,e)=>{const a=L.forwardRef(({className:n,...l},i)=>L.createElement(yy,{ref:i,iconNode:e,className:Wm(`lucide-${py(t)}`,n),...l}));return a.displayName=`${t}`,a};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Es=Ut("Activity",vy);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Sy=Ut("Calendar",xy);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ir=Ut("Check",wy);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],My=Ut("CircleHelp",Ty);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],$m=Ut("Clock",Ny);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],ky=Ut("Download",jy);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]],t0=Ut("Eraser",Ay);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m14.5 12.5-5 5",key:"b62r18"}],["path",{d:"m9.5 12.5 5 5",key:"1rk7el"}]],_y=Ut("FileX",zy);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],Oy=Ut("Hand",Cy);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],Pc=Ut("Mic",Ey);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],Uy=Ut("MousePointer2",Dy);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Ds=Ut("Music",Ry);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],Hy=Ut("Pause",By);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],qy=Ut("PenLine",Gy);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Yy=Ut("Pencil",Vy);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],nu=Ut("Play",Xy);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],Qy=Ut("Settings2",Ly);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],e0=Ut("Settings",Zy);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],a0=Ut("Square",Fy);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Hf=Ut("Target",Ky);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],cr=Ut("Trash2",Jy);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],Us=Ut("Trophy",Iy);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],pa=Ut("X",Py);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],$y=Ut("Zap",Wy);function tv({tracks:t,onSelect:e,onCancel:a,open:n}){return n?o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:o.jsxs("div",{className:"bg-zinc-900 border border-white/10 rounded-xl w-full max-w-lg max-h-[80vh] flex flex-col shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10 bg-zinc-800/50",children:[o.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[o.jsx(Ds,{className:"w-5 h-5 text-emerald-400"}),"Select MIDI Track to Practice"]}),o.jsx("button",{onClick:a,className:"p-1 hover:bg-white/10 rounded-full transition-colors text-white/50 hover:text-white",children:o.jsx(pa,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"overflow-y-auto p-2 flex-1 scrollbar-thin scrollbar-thumb-white/10 scrollbar-track-transparent",children:t.length===0?o.jsxs("div",{className:"p-12 text-center text-white/50 flex flex-col items-center gap-2",children:[o.jsx(Ds,{className:"w-12 h-12 opacity-20"}),o.jsx("p",{children:"No playable tracks found in this MIDI file."})]}):o.jsx("div",{className:"grid gap-2",children:t.map(l=>o.jsxs("button",{onClick:()=>e(l.id),className:"flex items-center gap-4 p-4 rounded-lg bg-white/5 hover:bg-white/10 transition-all group text-left border border-white/5 hover:border-emerald-500/30",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-emerald-500/10 flex items-center justify-center text-emerald-400 font-mono text-sm shrink-0",children:l.id+1}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-white font-medium truncate text-lg",children:l.name||`Track ${l.id+1}`}),o.jsxs("div",{className:"text-white/50 text-sm flex items-center gap-3",children:[o.jsx("span",{className:"flex items-center gap-1",children:l.instrument}),o.jsx("span",{className:"w-1 h-1 rounded-full bg-white/20"}),o.jsxs("span",{children:[l.noteCount," notes"]})]})]}),o.jsx("div",{className:"text-emerald-400 opacity-0 group-hover:opacity-100 transition-opacity text-sm font-semibold whitespace-nowrap px-2",children:"Select"})]},l.id))})}),o.jsx("div",{className:"p-4 border-t border-white/10 bg-zinc-800/30 text-xs text-center text-white/40",children:"Importing a track will set it as the Guide (Call) for practice."})]})}):null}function n0(t){var e,a,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var l=t.length;for(e=0;e<l;e++)t[e]&&(a=n0(t[e]))&&(n&&(n+=" "),n+=a)}else for(a in t)t[a]&&(n&&(n+=" "),n+=a);return n}function ev(){for(var t,e,a=0,n="",l=arguments.length;a<l;a++)(t=arguments[a])&&(e=n0(t))&&(n&&(n+=" "),n+=e);return n}const av=(t,e)=>{const a=new Array(t.length+e.length);for(let n=0;n<t.length;n++)a[n]=t[n];for(let n=0;n<e.length;n++)a[t.length+n]=e[n];return a},nv=(t,e)=>({classGroupId:t,validator:e}),l0=(t=new Map,e=null,a)=>({nextPart:t,validators:e,classGroupId:a}),Rs="-",Gf=[],lv="arbitrary..",iv=t=>{const e=rv(t),{conflictingClassGroups:a,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:s=>{if(s.startsWith("[")&&s.endsWith("]"))return sv(s);const r=s.split(Rs),c=r[0]===""&&r.length>1?1:0;return i0(r,c,e)},getConflictingClassGroupIds:(s,r)=>{if(r){const c=n[s],u=a[s];return c?u?av(u,c):c:u||Gf}return a[s]||Gf}}},i0=(t,e,a)=>{if(t.length-e===0)return a.classGroupId;const l=t[e],i=a.nextPart.get(l);if(i){const u=i0(t,e+1,i);if(u)return u}const s=a.validators;if(s===null)return;const r=e===0?t.join(Rs):t.slice(e).join(Rs),c=s.length;for(let u=0;u<c;u++){const m=s[u];if(m.validator(r))return m.classGroupId}},sv=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),a=e.indexOf(":"),n=e.slice(0,a);return n?lv+n:void 0})(),rv=t=>{const{theme:e,classGroups:a}=t;return cv(a,e)},cv=(t,e)=>{const a=l0();for(const n in t){const l=t[n];lu(l,a,n,e)}return a},lu=(t,e,a,n)=>{const l=t.length;for(let i=0;i<l;i++){const s=t[i];ov(s,e,a,n)}},ov=(t,e,a,n)=>{if(typeof t=="string"){uv(t,e,a);return}if(typeof t=="function"){fv(t,e,a,n);return}dv(t,e,a,n)},uv=(t,e,a)=>{const n=t===""?e:s0(e,t);n.classGroupId=a},fv=(t,e,a,n)=>{if(hv(t)){lu(t(n),e,a,n);return}e.validators===null&&(e.validators=[]),e.validators.push(nv(a,t))},dv=(t,e,a,n)=>{const l=Object.entries(t),i=l.length;for(let s=0;s<i;s++){const[r,c]=l[s];lu(c,s0(e,r),a,n)}},s0=(t,e)=>{let a=t;const n=e.split(Rs),l=n.length;for(let i=0;i<l;i++){const s=n[i];let r=a.nextPart.get(s);r||(r=l0(),a.nextPart.set(s,r)),a=r}return a},hv=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,mv=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,a=Object.create(null),n=Object.create(null);const l=(i,s)=>{a[i]=s,e++,e>t&&(e=0,n=a,a=Object.create(null))};return{get(i){let s=a[i];if(s!==void 0)return s;if((s=n[i])!==void 0)return l(i,s),s},set(i,s){i in a?a[i]=s:l(i,s)}}},Wc="!",qf=":",gv=[],Vf=(t,e,a,n,l)=>({modifiers:t,hasImportantModifier:e,baseClassName:a,maybePostfixModifierPosition:n,isExternal:l}),pv=t=>{const{prefix:e,experimentalParseClassName:a}=t;let n=l=>{const i=[];let s=0,r=0,c=0,u;const m=l.length;for(let y=0;y<m;y++){const w=l[y];if(s===0&&r===0){if(w===qf){i.push(l.slice(c,y)),c=y+1;continue}if(w==="/"){u=y;continue}}w==="["?s++:w==="]"?s--:w==="("?r++:w===")"&&r--}const g=i.length===0?l:l.slice(c);let f=g,d=!1;g.endsWith(Wc)?(f=g.slice(0,-1),d=!0):g.startsWith(Wc)&&(f=g.slice(1),d=!0);const v=u&&u>c?u-c:void 0;return Vf(i,d,f,v)};if(e){const l=e+qf,i=n;n=s=>s.startsWith(l)?i(s.slice(l.length)):Vf(gv,!1,s,void 0,!0)}if(a){const l=n;n=i=>a({className:i,parseClassName:l})}return n},bv=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((a,n)=>{e.set(a,1e6+n)}),a=>{const n=[];let l=[];for(let i=0;i<a.length;i++){const s=a[i],r=s[0]==="[",c=e.has(s);r||c?(l.length>0&&(l.sort(),n.push(...l),l=[]),n.push(s)):l.push(s)}return l.length>0&&(l.sort(),n.push(...l)),n}},yv=t=>({cache:mv(t.cacheSize),parseClassName:pv(t),sortModifiers:bv(t),...iv(t)}),vv=/\s+/,xv=(t,e)=>{const{parseClassName:a,getClassGroupId:n,getConflictingClassGroupIds:l,sortModifiers:i}=e,s=[],r=t.trim().split(vv);let c="";for(let u=r.length-1;u>=0;u-=1){const m=r[u],{isExternal:g,modifiers:f,hasImportantModifier:d,baseClassName:v,maybePostfixModifierPosition:y}=a(m);if(g){c=m+(c.length>0?" "+c:c);continue}let w=!!y,p=n(w?v.substring(0,y):v);if(!p){if(!w){c=m+(c.length>0?" "+c:c);continue}if(p=n(v),!p){c=m+(c.length>0?" "+c:c);continue}w=!1}const h=f.length===0?"":f.length===1?f[0]:i(f).join(":"),b=d?h+Wc:h,x=b+p;if(s.indexOf(x)>-1)continue;s.push(x);const T=l(p,w);for(let M=0;M<T.length;++M){const z=T[M];s.push(b+z)}c=m+(c.length>0?" "+c:c)}return c},Sv=(...t)=>{let e=0,a,n,l="";for(;e<t.length;)(a=t[e++])&&(n=r0(a))&&(l&&(l+=" "),l+=n);return l},r0=t=>{if(typeof t=="string")return t;let e,a="";for(let n=0;n<t.length;n++)t[n]&&(e=r0(t[n]))&&(a&&(a+=" "),a+=e);return a},wv=(t,...e)=>{let a,n,l,i;const s=c=>{const u=e.reduce((m,g)=>g(m),t());return a=yv(u),n=a.cache.get,l=a.cache.set,i=r,r(c)},r=c=>{const u=n(c);if(u)return u;const m=xv(c,a);return l(c,m),m};return i=s,(...c)=>i(Sv(...c))},Tv=[],Ft=t=>{const e=a=>a[t]||Tv;return e.isThemeGetter=!0,e},c0=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,o0=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Mv=/^\d+\/\d+$/,Nv=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,jv=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,kv=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Av=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,zv=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Mn=t=>Mv.test(t),ct=t=>!!t&&!Number.isNaN(Number(t)),xa=t=>!!t&&Number.isInteger(Number(t)),Pr=t=>t.endsWith("%")&&ct(t.slice(0,-1)),ea=t=>Nv.test(t),_v=()=>!0,Cv=t=>jv.test(t)&&!kv.test(t),u0=()=>!1,Ov=t=>Av.test(t),Ev=t=>zv.test(t),Dv=t=>!Y(t)&&!X(t),Uv=t=>ml(t,h0,u0),Y=t=>c0.test(t),Ia=t=>ml(t,m0,Cv),Wr=t=>ml(t,qv,ct),Yf=t=>ml(t,f0,u0),Rv=t=>ml(t,d0,Ev),qi=t=>ml(t,g0,Ov),X=t=>o0.test(t),Tl=t=>gl(t,m0),Bv=t=>gl(t,Vv),Xf=t=>gl(t,f0),Hv=t=>gl(t,h0),Gv=t=>gl(t,d0),Vi=t=>gl(t,g0,!0),ml=(t,e,a)=>{const n=c0.exec(t);return n?n[1]?e(n[1]):a(n[2]):!1},gl=(t,e,a=!1)=>{const n=o0.exec(t);return n?n[1]?e(n[1]):a:!1},f0=t=>t==="position"||t==="percentage",d0=t=>t==="image"||t==="url",h0=t=>t==="length"||t==="size"||t==="bg-size",m0=t=>t==="length",qv=t=>t==="number",Vv=t=>t==="family-name",g0=t=>t==="shadow",Yv=()=>{const t=Ft("color"),e=Ft("font"),a=Ft("text"),n=Ft("font-weight"),l=Ft("tracking"),i=Ft("leading"),s=Ft("breakpoint"),r=Ft("container"),c=Ft("spacing"),u=Ft("radius"),m=Ft("shadow"),g=Ft("inset-shadow"),f=Ft("text-shadow"),d=Ft("drop-shadow"),v=Ft("blur"),y=Ft("perspective"),w=Ft("aspect"),p=Ft("ease"),h=Ft("animate"),b=()=>["auto","avoid","all","avoid-page","page","left","right","column"],x=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],T=()=>[...x(),X,Y],M=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto","contain","none"],S=()=>[X,Y,c],N=()=>[Mn,"full","auto",...S()],O=()=>[xa,"none","subgrid",X,Y],E=()=>["auto",{span:["full",xa,X,Y]},xa,X,Y],P=()=>[xa,"auto",X,Y],ut=()=>["auto","min","max","fr",X,Y],yt=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],st=()=>["start","end","center","stretch","center-safe","end-safe"],_=()=>["auto",...S()],D=()=>[Mn,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],j=()=>[t,X,Y],F=()=>[...x(),Xf,Yf,{position:[X,Y]}],at=()=>["no-repeat",{repeat:["","x","y","space","round"]}],vt=()=>["auto","cover","contain",Hv,Uv,{size:[X,Y]}],K=()=>[Pr,Tl,Ia],R=()=>["","none","full",u,X,Y],V=()=>["",ct,Tl,Ia],W=()=>["solid","dashed","dotted","double"],ot=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],et=()=>[ct,Pr,Xf,Yf],it=()=>["","none",v,X,Y],mt=()=>["none",ct,X,Y],J=()=>["none",ct,X,Y],bt=()=>[ct,X,Y],wt=()=>[Mn,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ea],breakpoint:[ea],color:[_v],container:[ea],"drop-shadow":[ea],ease:["in","out","in-out"],font:[Dv],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ea],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ea],shadow:[ea],spacing:["px",ct],text:[ea],"text-shadow":[ea],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Mn,Y,X,w]}],container:["container"],columns:[{columns:[ct,Y,X,r]}],"break-after":[{"break-after":b()}],"break-before":[{"break-before":b()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:T()}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:N()}],"inset-x":[{"inset-x":N()}],"inset-y":[{"inset-y":N()}],start:[{start:N()}],end:[{end:N()}],top:[{top:N()}],right:[{right:N()}],bottom:[{bottom:N()}],left:[{left:N()}],visibility:["visible","invisible","collapse"],z:[{z:[xa,"auto",X,Y]}],basis:[{basis:[Mn,"full","auto",r,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ct,Mn,"auto","initial","none",Y]}],grow:[{grow:["",ct,X,Y]}],shrink:[{shrink:["",ct,X,Y]}],order:[{order:[xa,"first","last","none",X,Y]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:E()}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:E()}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ut()}],"auto-rows":[{"auto-rows":ut()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...yt(),"normal"]}],"justify-items":[{"justify-items":[...st(),"normal"]}],"justify-self":[{"justify-self":["auto",...st()]}],"align-content":[{content:["normal",...yt()]}],"align-items":[{items:[...st(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...st(),{baseline:["","last"]}]}],"place-content":[{"place-content":yt()}],"place-items":[{"place-items":[...st(),"baseline"]}],"place-self":[{"place-self":["auto",...st()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:_()}],mx:[{mx:_()}],my:[{my:_()}],ms:[{ms:_()}],me:[{me:_()}],mt:[{mt:_()}],mr:[{mr:_()}],mb:[{mb:_()}],ml:[{ml:_()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:D()}],w:[{w:[r,"screen",...D()]}],"min-w":[{"min-w":[r,"screen","none",...D()]}],"max-w":[{"max-w":[r,"screen","none","prose",{screen:[s]},...D()]}],h:[{h:["screen","lh",...D()]}],"min-h":[{"min-h":["screen","lh","none",...D()]}],"max-h":[{"max-h":["screen","lh",...D()]}],"font-size":[{text:["base",a,Tl,Ia]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,X,Wr]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Pr,Y]}],"font-family":[{font:[Bv,Y,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[l,X,Y]}],"line-clamp":[{"line-clamp":[ct,"none",X,Wr]}],leading:[{leading:[i,...S()]}],"list-image":[{"list-image":["none",X,Y]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",X,Y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:j()}],"text-color":[{text:j()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:[ct,"from-font","auto",X,Ia]}],"text-decoration-color":[{decoration:j()}],"underline-offset":[{"underline-offset":[ct,"auto",X,Y]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",X,Y]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",X,Y]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:F()}],"bg-repeat":[{bg:at()}],"bg-size":[{bg:vt()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},xa,X,Y],radial:["",X,Y],conic:[xa,X,Y]},Gv,Rv]}],"bg-color":[{bg:j()}],"gradient-from-pos":[{from:K()}],"gradient-via-pos":[{via:K()}],"gradient-to-pos":[{to:K()}],"gradient-from":[{from:j()}],"gradient-via":[{via:j()}],"gradient-to":[{to:j()}],rounded:[{rounded:R()}],"rounded-s":[{"rounded-s":R()}],"rounded-e":[{"rounded-e":R()}],"rounded-t":[{"rounded-t":R()}],"rounded-r":[{"rounded-r":R()}],"rounded-b":[{"rounded-b":R()}],"rounded-l":[{"rounded-l":R()}],"rounded-ss":[{"rounded-ss":R()}],"rounded-se":[{"rounded-se":R()}],"rounded-ee":[{"rounded-ee":R()}],"rounded-es":[{"rounded-es":R()}],"rounded-tl":[{"rounded-tl":R()}],"rounded-tr":[{"rounded-tr":R()}],"rounded-br":[{"rounded-br":R()}],"rounded-bl":[{"rounded-bl":R()}],"border-w":[{border:V()}],"border-w-x":[{"border-x":V()}],"border-w-y":[{"border-y":V()}],"border-w-s":[{"border-s":V()}],"border-w-e":[{"border-e":V()}],"border-w-t":[{"border-t":V()}],"border-w-r":[{"border-r":V()}],"border-w-b":[{"border-b":V()}],"border-w-l":[{"border-l":V()}],"divide-x":[{"divide-x":V()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":V()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...W(),"hidden","none"]}],"divide-style":[{divide:[...W(),"hidden","none"]}],"border-color":[{border:j()}],"border-color-x":[{"border-x":j()}],"border-color-y":[{"border-y":j()}],"border-color-s":[{"border-s":j()}],"border-color-e":[{"border-e":j()}],"border-color-t":[{"border-t":j()}],"border-color-r":[{"border-r":j()}],"border-color-b":[{"border-b":j()}],"border-color-l":[{"border-l":j()}],"divide-color":[{divide:j()}],"outline-style":[{outline:[...W(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ct,X,Y]}],"outline-w":[{outline:["",ct,Tl,Ia]}],"outline-color":[{outline:j()}],shadow:[{shadow:["","none",m,Vi,qi]}],"shadow-color":[{shadow:j()}],"inset-shadow":[{"inset-shadow":["none",g,Vi,qi]}],"inset-shadow-color":[{"inset-shadow":j()}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:j()}],"ring-offset-w":[{"ring-offset":[ct,Ia]}],"ring-offset-color":[{"ring-offset":j()}],"inset-ring-w":[{"inset-ring":V()}],"inset-ring-color":[{"inset-ring":j()}],"text-shadow":[{"text-shadow":["none",f,Vi,qi]}],"text-shadow-color":[{"text-shadow":j()}],opacity:[{opacity:[ct,X,Y]}],"mix-blend":[{"mix-blend":[...ot(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ot()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ct]}],"mask-image-linear-from-pos":[{"mask-linear-from":et()}],"mask-image-linear-to-pos":[{"mask-linear-to":et()}],"mask-image-linear-from-color":[{"mask-linear-from":j()}],"mask-image-linear-to-color":[{"mask-linear-to":j()}],"mask-image-t-from-pos":[{"mask-t-from":et()}],"mask-image-t-to-pos":[{"mask-t-to":et()}],"mask-image-t-from-color":[{"mask-t-from":j()}],"mask-image-t-to-color":[{"mask-t-to":j()}],"mask-image-r-from-pos":[{"mask-r-from":et()}],"mask-image-r-to-pos":[{"mask-r-to":et()}],"mask-image-r-from-color":[{"mask-r-from":j()}],"mask-image-r-to-color":[{"mask-r-to":j()}],"mask-image-b-from-pos":[{"mask-b-from":et()}],"mask-image-b-to-pos":[{"mask-b-to":et()}],"mask-image-b-from-color":[{"mask-b-from":j()}],"mask-image-b-to-color":[{"mask-b-to":j()}],"mask-image-l-from-pos":[{"mask-l-from":et()}],"mask-image-l-to-pos":[{"mask-l-to":et()}],"mask-image-l-from-color":[{"mask-l-from":j()}],"mask-image-l-to-color":[{"mask-l-to":j()}],"mask-image-x-from-pos":[{"mask-x-from":et()}],"mask-image-x-to-pos":[{"mask-x-to":et()}],"mask-image-x-from-color":[{"mask-x-from":j()}],"mask-image-x-to-color":[{"mask-x-to":j()}],"mask-image-y-from-pos":[{"mask-y-from":et()}],"mask-image-y-to-pos":[{"mask-y-to":et()}],"mask-image-y-from-color":[{"mask-y-from":j()}],"mask-image-y-to-color":[{"mask-y-to":j()}],"mask-image-radial":[{"mask-radial":[X,Y]}],"mask-image-radial-from-pos":[{"mask-radial-from":et()}],"mask-image-radial-to-pos":[{"mask-radial-to":et()}],"mask-image-radial-from-color":[{"mask-radial-from":j()}],"mask-image-radial-to-color":[{"mask-radial-to":j()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":x()}],"mask-image-conic-pos":[{"mask-conic":[ct]}],"mask-image-conic-from-pos":[{"mask-conic-from":et()}],"mask-image-conic-to-pos":[{"mask-conic-to":et()}],"mask-image-conic-from-color":[{"mask-conic-from":j()}],"mask-image-conic-to-color":[{"mask-conic-to":j()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:F()}],"mask-repeat":[{mask:at()}],"mask-size":[{mask:vt()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",X,Y]}],filter:[{filter:["","none",X,Y]}],blur:[{blur:it()}],brightness:[{brightness:[ct,X,Y]}],contrast:[{contrast:[ct,X,Y]}],"drop-shadow":[{"drop-shadow":["","none",d,Vi,qi]}],"drop-shadow-color":[{"drop-shadow":j()}],grayscale:[{grayscale:["",ct,X,Y]}],"hue-rotate":[{"hue-rotate":[ct,X,Y]}],invert:[{invert:["",ct,X,Y]}],saturate:[{saturate:[ct,X,Y]}],sepia:[{sepia:["",ct,X,Y]}],"backdrop-filter":[{"backdrop-filter":["","none",X,Y]}],"backdrop-blur":[{"backdrop-blur":it()}],"backdrop-brightness":[{"backdrop-brightness":[ct,X,Y]}],"backdrop-contrast":[{"backdrop-contrast":[ct,X,Y]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ct,X,Y]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ct,X,Y]}],"backdrop-invert":[{"backdrop-invert":["",ct,X,Y]}],"backdrop-opacity":[{"backdrop-opacity":[ct,X,Y]}],"backdrop-saturate":[{"backdrop-saturate":[ct,X,Y]}],"backdrop-sepia":[{"backdrop-sepia":["",ct,X,Y]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",X,Y]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ct,"initial",X,Y]}],ease:[{ease:["linear","initial",p,X,Y]}],delay:[{delay:[ct,X,Y]}],animate:[{animate:["none",h,X,Y]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,X,Y]}],"perspective-origin":[{"perspective-origin":T()}],rotate:[{rotate:mt()}],"rotate-x":[{"rotate-x":mt()}],"rotate-y":[{"rotate-y":mt()}],"rotate-z":[{"rotate-z":mt()}],scale:[{scale:J()}],"scale-x":[{"scale-x":J()}],"scale-y":[{"scale-y":J()}],"scale-z":[{"scale-z":J()}],"scale-3d":["scale-3d"],skew:[{skew:bt()}],"skew-x":[{"skew-x":bt()}],"skew-y":[{"skew-y":bt()}],transform:[{transform:[X,Y,"","none","gpu","cpu"]}],"transform-origin":[{origin:T()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:wt()}],"translate-x":[{"translate-x":wt()}],"translate-y":[{"translate-y":wt()}],"translate-z":[{"translate-z":wt()}],"translate-none":["translate-none"],accent:[{accent:j()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:j()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",X,Y]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",X,Y]}],fill:[{fill:["none",...j()]}],"stroke-w":[{stroke:[ct,Tl,Ia,Wr]}],stroke:[{stroke:["none",...j()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Xv=wv(Yv);function Rt(...t){return Xv(ev(t))}function Lv({onOpenSettings:t,onOpenPractice:e,onOpenHistory:a,onRecordingComplete:n}){const[l,i]=L.useState(C.state.isPlaying),[s,r]=L.useState(!!C.micStream),[c,u]=L.useState(C.isRecording),[m,g]=L.useState(C.state.editTool),[f,d]=L.useState([]),[v,y]=L.useState(!1);L.useEffect(()=>{const T=C.subscribe(()=>{i(C.state.isPlaying),r(!!C.micStream),u(C.isRecording),g(C.state.editTool);const z=C.state.midiTrackCandidates;z&&z.length>0&&(d(z),y(!0),C.updateState({midiTrackCandidates:void 0}))}),M=setInterval(()=>{},100);return()=>{T(),clearInterval(M)}},[]);const[,w]=L.useState(0);L.useEffect(()=>C.subscribe(()=>w(T=>T+1)),[]);const p=async()=>{C.state.isPlaying?C.stopPlayback():(await C.ensureAudio(),C.startPlayback())},h=async()=>{s?C.micStream&&(C.micStream.getTracks().forEach(T=>T.stop()),C.micStream=null,C.notify()):await C.initMic()},b=T=>{C.importMidiTrack(T),C.startPractice({mode:"Midi"}),y(!1)},x=async()=>{if(c){const T=await C.stopRecording();T&&n&&n(T)}else await C.startRecording()};return o.jsxs("div",{id:"bottom-controls-panel",className:"fixed bottom-0 left-0 right-0 bg-neutral-900 border-t border-white/10 p-4 z-50 shadow-2xl",style:{paddingBottom:"max(1rem, env(safe-area-inset-bottom))"},children:[o.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between gap-4 overflow-x-auto no-scrollbar",children:[o.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[o.jsx("button",{onClick:p,className:Rt("w-12 h-12 rounded-full flex items-center justify-center transition-all",l?"bg-red-500/20 text-red-500 hover:bg-red-500/30":"bg-blue-600 hover:bg-blue-500 text-white shadow-lg shadow-blue-500/20"),title:l?"Stop (Space)":"Play (Space)",children:l?o.jsx(a0,{className:"w-5 h-5 fill-current"}):o.jsx(nu,{className:"w-5 h-5 fill-current translate-x-0.5"})}),o.jsx("button",{onClick:h,className:Rt("w-10 h-10 rounded-full flex items-center justify-center transition-all border",s?"bg-red-500 text-white border-red-500 shadow-red-500/20 animate-pulse":"bg-white/5 border-white/10 text-white/70 hover:text-white hover:bg-white/10"),title:"Toggle Microphone",children:o.jsx(Pc,{className:"w-5 h-5"})}),o.jsx("button",{onClick:x,className:Rt("w-10 h-10 rounded-full flex items-center justify-center transition-all border",c?"bg-red-600 text-white border-red-600 shadow-lg shadow-red-600/30":"bg-white/5 border-white/10 text-white/70 hover:text-white hover:bg-white/10"),title:c?"Stop Recording":"Start Recording",children:o.jsx("div",{className:Rt("w-4 h-4 rounded-full transition-all",c?"bg-white rounded-sm":"bg-red-500")})})]}),o.jsx("div",{className:"w-px h-8 bg-white/10 shrink-0 hidden sm:block"}),o.jsx("div",{className:"flex items-center bg-white/5 rounded-full p-1 gap-1 shrink-0",children:[{id:"select",icon:Uy,label:"Select"},{id:"view",icon:Oy,label:"Pan"},{id:"pencil",icon:Yy,label:"Draw"},{id:"eraser",icon:t0,label:"Erase"}].map(T=>o.jsx("button",{onClick:()=>C.setTool(T.id),className:Rt("p-2 rounded-full transition-all relative group",m===T.id?"bg-blue-600 text-white shadow-md":"text-white/50 hover:text-white hover:bg-white/10"),title:T.label,children:o.jsx(T.icon,{className:"w-5 h-5"})},T.id))}),o.jsx("div",{className:"w-px h-8 bg-white/10 shrink-0 hidden sm:block"}),o.jsxs("div",{className:"flex items-center gap-2 shrink-0 ml-auto",children:[e&&o.jsx("button",{onClick:e,className:"p-2.5 rounded-lg border border-white/10 bg-white/5 text-white/70 hover:text-white hover:bg-white/10 transition-all",title:"Practice Tools",children:o.jsx(Es,{className:"w-5 h-5"})}),a&&o.jsx("button",{onClick:a,className:"p-2.5 rounded-lg border border-white/10 bg-white/5 text-white/70 hover:text-white hover:bg-white/10 transition-all",title:"History & Analytics",children:o.jsx($m,{className:"w-5 h-5"})}),o.jsx("button",{onClick:t,className:"p-2.5 rounded-lg border border-white/10 bg-white/5 text-white/70 hover:text-white hover:bg-white/10 transition-all",title:"Settings",children:o.jsx(e0,{className:"w-5 h-5"})})]})]}),v&&o.jsx(tv,{tracks:f,onSelect:b,onCancel:()=>y(!1),open:v})]})}function Qv({onClose:t}){const[e,a]=L.useState("basic");return o.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in duration-200",children:o.jsxs("div",{className:"w-full max-w-2xl bg-[#1e1e24] border border-white/10 rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[85vh]",children:[o.jsxs("div",{className:"p-4 border-b border-white/10 flex items-center justify-between bg-white/5",children:[o.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2 text-white",children:[o.jsx("span",{className:"w-8 h-8 rounded-full bg-blue-500/20 text-blue-400 flex items-center justify-center",children:"?"}),""]}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-full transition-colors text-white/70 hover:text-white",children:o.jsx(pa,{size:20})})]}),o.jsxs("div",{className:"flex border-b border-white/10 bg-black/20 overflow-x-auto",children:[o.jsx("button",{onClick:()=>a("basic"),className:Rt("px-6 py-3 text-sm font-medium transition-colors whitespace-nowrap",e==="basic"?"text-blue-400 border-b-2 border-blue-400 bg-blue-500/5":"text-white/50 hover:text-white hover:bg-white/5"),children:""}),o.jsx("button",{onClick:()=>a("tools"),className:Rt("px-6 py-3 text-sm font-medium transition-colors whitespace-nowrap",e==="tools"?"text-blue-400 border-b-2 border-blue-400 bg-blue-500/5":"text-white/50 hover:text-white hover:bg-white/5"),children:""}),o.jsx("button",{onClick:()=>a("settings"),className:Rt("px-6 py-3 text-sm font-medium transition-colors whitespace-nowrap",e==="settings"?"text-blue-400 border-b-2 border-blue-400 bg-blue-500/5":"text-white/50 hover:text-white hover:bg-white/5"),children:""})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-6 text-white/80 space-y-8",children:[e==="basic"&&o.jsxs("div",{className:"space-y-6 animate-in slide-in-from-bottom-2 duration-300",children:[o.jsxs("section",{children:[o.jsxs("h3",{className:"text-white font-bold text-lg mb-3 flex items-center gap-2",children:[o.jsx(Ds,{className:"w-5 h-5 text-blue-400"}),""]}),o.jsxs("ul",{className:"list-disc list-inside space-y-2 text-sm ml-2",children:[o.jsxs("li",{children:[" ",o.jsx("span",{className:"text-blue-300",children:" "})," MIDI"]}),o.jsxs("li",{children:[o.jsx("span",{className:"text-purple-300",children:" "})," "]})]})]}),o.jsxs("section",{children:[o.jsxs("h3",{className:"text-white font-bold text-lg mb-3 flex items-center gap-2",children:[o.jsx(Pc,{className:"w-5 h-5 text-red-400"}),""]}),o.jsxs("div",{className:"space-y-2 text-sm ml-2",children:[o.jsxs("p",{children:[" ",o.jsx("span",{className:"inline-block p-1 bg-red-500/20 rounded border border-red-500/50",children:o.jsx(Pc,{className:"w-3 h-3 inline"})})," "]}),o.jsx("p",{children:""}),o.jsxs("p",{children:["",o.jsx("span",{className:"text-green-400 font-bold",children:""}),""]})]})]})]}),e==="tools"&&o.jsx("div",{className:"space-y-6 animate-in slide-in-from-bottom-2 duration-300",children:o.jsxs("section",{children:[o.jsxs("h3",{className:"text-white font-bold text-lg mb-3 flex items-center gap-2",children:[o.jsx(qy,{className:"w-5 h-5 text-yellow-400"}),""]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"bg-white/5 p-3 rounded-lg border border-white/5",children:[o.jsx("div",{className:"font-bold text-white mb-1",children:"  (Pan)"}),o.jsx("div",{className:"text-xs text-white/60",children:""})]}),o.jsxs("div",{className:"bg-white/5 p-3 rounded-lg border border-white/5",children:[o.jsx("div",{className:"font-bold text-white mb-1",children:"  (Select)"}),o.jsx("div",{className:"text-xs text-white/60",children:""})]}),o.jsxs("div",{className:"bg-white/5 p-3 rounded-lg border border-white/5",children:[o.jsx("div",{className:"font-bold text-white mb-1",children:"  (Pencil)"}),o.jsx("div",{className:"text-xs text-white/60",children:""})]}),o.jsxs("div",{className:"bg-white/5 p-3 rounded-lg border border-white/5",children:[o.jsx("div",{className:"font-bold text-white mb-1",children:"  (Eraser)"}),o.jsx("div",{className:"text-xs text-white/60",children:""})]})]})]})}),e==="settings"&&o.jsxs("div",{className:"space-y-6 animate-in slide-in-from-bottom-2 duration-300",children:[o.jsxs("section",{children:[o.jsxs("h3",{className:"text-white font-bold text-lg mb-3 flex items-center gap-2",children:[o.jsx(e0,{className:"w-5 h-5 text-gray-400"}),""]}),o.jsx("p",{className:"text-sm",children:" "})]}),o.jsxs("section",{children:[o.jsx("h3",{className:"text-white font-bold text-lg mb-3 text-red-400",children:""}),o.jsxs("ul",{className:"list-disc list-inside space-y-2 text-sm ml-2",children:[o.jsxs("li",{children:[o.jsx("span",{className:"font-bold text-white",children:":"})," "]}),o.jsxs("li",{children:[o.jsx("span",{className:"font-bold text-white",children:":"})," "]}),o.jsxs("li",{children:[o.jsx("span",{className:"font-bold text-white",children:":"})," "]})]})]})]})]}),o.jsx("div",{className:"p-4 border-t border-white/10 bg-white/5 flex justify-end",children:o.jsx("button",{onClick:t,className:"px-6 py-2 bg-white/10 hover:bg-white/20 text-white rounded-full transition-colors",children:""})})]})})}function Zv({onClose:t}){const[e,a]=L.useState(C.state),[n,l]=L.useState(!1);L.useEffect(()=>C.subscribe(()=>a(C.state)),[]);const i=(s,r)=>{C.updateState({[s]:r})};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"absolute top-14 right-2 md:right-4 z-50 w-[95vw] md:w-80 max-w-[95vw] md:max-w-none bg-black/90 backdrop-blur-md rounded-2xl border border-white/10 shadow-2xl overflow-hidden text-white/90 animate-in fade-in slide-in-from-right-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10 bg-white/5",children:[o.jsxs("h3",{className:"font-bold flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-6 bg-blue-500 rounded-full"}),""]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("button",{onClick:()=>l(!0),className:"p-2 hover:bg-white/10 rounded-full transition-colors text-blue-300 hover:text-blue-200",title:"",children:o.jsx(My,{size:20})}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-full transition-colors","aria-label":"",children:o.jsx(pa,{size:20})})]})]}),o.jsxs("div",{className:"p-5 space-y-6 max-h-[75vh] overflow-y-auto overscroll-contain",children:[o.jsxs("div",{className:"bg-white/5 rounded-lg overflow-hidden border border-white/5",children:[o.jsx("div",{className:"px-4 py-2 bg-white/10 text-xs font-bold uppercase tracking-wider text-white/70",children:""}),o.jsxs("div",{className:"p-4 space-y-6",children:[o.jsx("div",{className:"space-y-2",children:o.jsxs("div",{className:"flex justify-between text-sm items-center",children:[o.jsx("span",{children:""}),o.jsxs("div",{className:"flex bg-white/10 rounded-lg p-1",children:[o.jsx("button",{onClick:()=>i("noteNotation","alphabet"),className:`px-3 py-1 rounded-md text-xs transition-all ${e.noteNotation==="alphabet"?"bg-blue-500 text-white shadow-sm":"text-white/50 hover:text-white/80"}`,children:"CDE"}),o.jsx("button",{onClick:()=>i("noteNotation","katakana"),className:`px-3 py-1 rounded-md text-xs transition-all ${e.noteNotation==="katakana"?"bg-blue-500 text-white shadow-sm":"text-white/50 hover:text-white/80"}`,children:""})]})]})}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm items-center",children:[o.jsx("span",{children:" ()"}),o.jsxs("span",{className:"font-mono text-blue-400 bg-blue-400/10 px-2 py-0.5 rounded",children:[e.verticalZoom.toFixed(1)," Octave"]})]}),o.jsx("input",{type:"range",min:"1",max:"10",step:"0.5",value:e.verticalZoom,onChange:s=>i("verticalZoom",parseFloat(s.target.value)),className:"w-full h-2 bg-white/20 rounded-full appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:bg-blue-500 [&::-webkit-slider-thumb]:rounded-full hover:[&::-webkit-slider-thumb]:scale-110 transition-all"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm items-center",children:[o.jsx("span",{children:""}),o.jsxs("span",{className:"font-mono text-blue-400 bg-blue-400/10 px-2 py-0.5 rounded",children:[e.pxPerSec," px/s"]})]}),o.jsx("input",{type:"range",min:"50",max:"300",step:"10",value:e.pxPerSec,onChange:s=>i("pxPerSec",parseFloat(s.target.value)),className:"w-full h-2 bg-white/20 rounded-full appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:bg-blue-500 [&::-webkit-slider-thumb]:rounded-full hover:[&::-webkit-slider-thumb]:scale-110 transition-all"})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm pt-2 border-t border-white/5",children:[o.jsx("span",{children:""}),o.jsx("button",{onClick:()=>i("isParticlesEnabled",!e.isParticlesEnabled),className:`w-10 h-5 rounded-full transition-colors relative ${e.isParticlesEnabled?"bg-blue-500":"bg-white/10"}`,children:o.jsx("span",{className:`absolute top-0.5 w-4 h-4 bg-white rounded-full transition-transform duration-200 ${e.isParticlesEnabled?"left-5.5":"left-0.5"}`})})]})]})]}),o.jsxs("div",{className:"bg-white/5 rounded-lg overflow-hidden border border-white/5",children:[o.jsx("div",{className:"px-4 py-2 bg-white/10 text-xs font-bold uppercase tracking-wider text-white/70",children:""}),o.jsxs("div",{className:"p-4 space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm items-center",children:[o.jsx("span",{children:" ()"}),o.jsxs("span",{className:"font-mono text-orange-400 bg-orange-400/10 px-2 py-0.5 rounded",children:["x",e.tempoFactor.toFixed(2)]})]}),o.jsx("input",{type:"range",min:"0.5",max:"2.0",step:"0.05",value:e.tempoFactor,onChange:s=>i("tempoFactor",parseFloat(s.target.value)),className:"w-full h-2 bg-white/20 rounded-full appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:bg-orange-500 [&::-webkit-slider-thumb]:rounded-full hover:[&::-webkit-slider-thumb]:scale-110 transition-all"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm items-center",children:[o.jsx("span",{children:""}),o.jsxs("span",{className:"font-mono text-yellow-400 bg-yellow-400/10 px-2 py-0.5 rounded",children:[e.guideOctaveOffset>0?"+":"",e.guideOctaveOffset," Oct"]})]}),o.jsxs("div",{className:"flex bg-white/10 rounded-lg p-1 gap-1",children:[o.jsx("button",{onClick:()=>i("guideOctaveOffset",e.guideOctaveOffset-1),className:"flex-1 py-1 hover:bg-white/10 rounded-md transition-colors text-white/80",children:"-1"}),o.jsx("button",{onClick:()=>i("guideOctaveOffset",0),className:"flex-1 py-1 hover:bg-white/10 rounded-md transition-colors text-xs text-white/40",children:"Reset"}),o.jsx("button",{onClick:()=>i("guideOctaveOffset",e.guideOctaveOffset+1),className:"flex-1 py-1 hover:bg-white/10 rounded-md transition-colors text-white/80",children:"+1"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm items-center",children:[o.jsx("span",{children:""}),o.jsxs("span",{className:"font-mono text-cyan-400 bg-cyan-400/10 px-2 py-0.5 rounded",children:[e.transposeOffset>0?"+":"",e.transposeOffset," "]})]}),o.jsx("input",{type:"range",min:"-12",max:"12",step:"1",value:e.transposeOffset,onChange:s=>i("transposeOffset",parseInt(s.target.value)),className:"w-full h-2 bg-white/20 rounded-full appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-6 [&::-webkit-slider-thumb]:h-6 [&::-webkit-slider-thumb]:bg-cyan-500 [&::-webkit-slider-thumb]:rounded-full hover:[&::-webkit-slider-thumb]:scale-110 transition-all"}),o.jsxs("div",{className:"flex justify-between text-[10px] text-white/30 px-1",children:[o.jsx("span",{children:"-1"}),o.jsx("button",{onClick:()=>i("transposeOffset",0),className:"text-white/50 hover:text-white",children:"Reset"}),o.jsx("span",{children:"+1"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm items-center",children:[o.jsx("span",{children:""}),o.jsxs("span",{className:"font-mono text-blue-400 bg-blue-400/10 px-2 py-0.5 rounded",children:[(e.guideVolume*100).toFixed(0),"%"]})]}),o.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:e.guideVolume,onChange:s=>i("guideVolume",parseFloat(s.target.value)),className:"w-full h-2 bg-white/20 rounded-full appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-6 [&::-webkit-slider-thumb]:h-6 [&::-webkit-slider-thumb]:bg-blue-400 [&::-webkit-slider-thumb]:rounded-full hover:[&::-webkit-slider-thumb]:scale-110 transition-all"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm items-center",children:[o.jsx("span",{children:""}),o.jsxs("span",{className:"font-mono text-purple-400 bg-purple-400/10 px-2 py-0.5 rounded",children:[(e.accompVolume*100).toFixed(0),"%"]})]}),o.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:e.accompVolume,onChange:s=>i("accompVolume",parseFloat(s.target.value)),className:"w-full h-2 bg-white/20 rounded-full appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-6 [&::-webkit-slider-thumb]:h-6 [&::-webkit-slider-thumb]:bg-purple-400 [&::-webkit-slider-thumb]:rounded-full hover:[&::-webkit-slider-thumb]:scale-110 transition-all"})]})]})]}),o.jsxs("div",{className:"bg-white/5 rounded-lg overflow-hidden border border-white/5",children:[o.jsx("div",{className:"px-4 py-2 bg-white/10 text-xs font-bold uppercase tracking-wider text-white/70",children:""}),o.jsxs("div",{className:"p-4 space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm items-center",children:[o.jsx("span",{children:" (Gate)"}),o.jsxs("span",{className:"font-mono text-red-400 bg-red-400/10 px-2 py-0.5 rounded",children:[e.gateThreshold," dB"]})]}),o.jsx("input",{type:"range",min:"-80",max:"0",step:"1",value:e.gateThreshold,onChange:s=>i("gateThreshold",parseFloat(s.target.value)),className:"w-full h-2 bg-white/20 rounded-full appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:bg-red-500 [&::-webkit-slider-thumb]:rounded-full hover:[&::-webkit-slider-thumb]:scale-110 transition-all"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm items-center",children:[o.jsx("span",{children:""}),o.jsxs("span",{className:"font-mono text-emerald-400 bg-emerald-400/10 px-2 py-0.5 rounded",children:["",e.toleranceCents," cent"]})]}),o.jsx("input",{type:"range",min:"10",max:"100",step:"5",value:e.toleranceCents,onChange:s=>i("toleranceCents",parseFloat(s.target.value)),className:"w-full h-2 bg-white/20 rounded-full appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:bg-emerald-500 [&::-webkit-slider-thumb]:rounded-full hover:[&::-webkit-slider-thumb]:scale-110 transition-all"})]})]})]})]}),o.jsx("div",{className:"pt-4 pb-4 text-center",children:o.jsx("p",{className:"text-[10px] text-white/20",children:"Ontei Web - Refactor"})})]}),n&&o.jsx(Qv,{onClose:()=>l(!1)})]})}const Fv=["Major","NaturalMinor","HarmonicMinor","MelodicMinor","MajorPentatonic","MinorPentatonic","Chromatic"],Kv=["Major","Minor","Major7","Minor7","Dominant7"],Jv=["LongTone","FiveNote","Triad","Thirds","Octave"],Iv=({audioEngine:t,isPracticing:e,onClose:a})=>{var x,T,M,z;const[n,l]=L.useState("Exercise"),[i,s]=L.useState(["Major","NaturalMinor"]),[r,c]=L.useState(["Major","Minor"]),[u,m]=L.useState(["LongTone","FiveNote","Triad"]),[g,f]=L.useState(103),[d,v]=L.useState(!0),y=()=>{const S={mode:n,allowedScales:i,allowedArpeggios:r,allowedExercises:u,maxPitch:g};t.startPractice(S),v(!1)},w=()=>{t.stopPractice()},p=S=>{i.includes(S)?s(i.filter(N=>N!==S)):s([...i,S])},h=S=>{r.includes(S)?c(r.filter(N=>N!==S)):c([...r,S])},b=S=>{u.includes(S)?m(u.filter(N=>N!==S)):m([...u,S])};return o.jsxs("div",{className:"absolute top-20 right-4 z-40 w-80 bg-black/90 backdrop-blur-md rounded-2xl border border-white/10 shadow-2xl overflow-hidden text-white/90 animate-in fade-in slide-in-from-right-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10 bg-white/5",children:[o.jsxs("h3",{className:"font-bold flex items-center gap-2",children:[o.jsx("span",{className:"p-1 rounded bg-green-500/20 text-green-400",children:o.jsx(Es,{size:16})}),""]}),o.jsxs("div",{className:"flex items-center gap-1",children:[!e&&o.jsx("button",{onClick:()=>v(!d),className:Rt("p-2 rounded-full transition-colors",d?"bg-white/20 text-white":"hover:bg-white/10 text-white/60"),title:"",children:o.jsx(Qy,{size:18})}),o.jsx("button",{onClick:a,className:"p-2 hover:bg-white/10 rounded-full transition-colors","aria-label":"",children:o.jsx(pa,{size:18})})]})]}),o.jsxs("div",{className:"p-5 space-y-6 max-h-[70vh] overflow-y-auto",children:[o.jsx("div",{className:"space-y-2",children:o.jsx("p",{className:"text-sm text-white/60 leading-relaxed",children:""})}),d&&!e&&o.jsxs("div",{className:"space-y-4 bg-white/5 p-4 rounded-xl border border-white/5",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-bold text-white/40 uppercase tracking-wider",children:""}),o.jsx("div",{className:"flex bg-black/40 p-1 rounded-lg",children:["Exercise","Mix","Scale","Arpeggio"].map(S=>o.jsx("button",{onClick:()=>l(S),className:Rt("flex-1 py-1.5 text-xs font-medium rounded-md transition-all",n===S?"bg-white/20 text-white shadow-sm":"text-white/40 hover:text-white/60"),children:S==="Mix"?"":S==="Scale"?"":S==="Arpeggio"?"":""},S))})]}),(n==="Scale"||n==="Mix")&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-bold text-white/40 uppercase tracking-wider",children:""}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:Fv.map(S=>o.jsxs("button",{onClick:()=>p(S),className:Rt("px-2 py-1.5 text-[10px] text-left rounded border transition-all flex items-center justify-between",i.includes(S)?"bg-green-500/20 border-green-500/30 text-green-300":"bg-white/5 border-white/5 text-white/40 hover:bg-white/10"),children:[o.jsx("span",{className:"truncate",children:S==="Major"?" ()":S==="NaturalMinor"?"":S==="HarmonicMinor"?"":S==="MelodicMinor"?"":S==="MajorPentatonic"?"":S==="MinorPentatonic"?"":" ()"}),i.includes(S)&&o.jsx(Ir,{size:10})]},S))})]}),(n==="Arpeggio"||n==="Mix")&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-bold text-white/40 uppercase tracking-wider",children:""}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:Kv.map(S=>o.jsxs("button",{onClick:()=>h(S),className:Rt("px-2 py-1.5 text-[10px] text-left rounded border transition-all flex items-center justify-between",r.includes(S)?"bg-blue-500/20 border-blue-500/30 text-blue-300":"bg-white/5 border-white/5 text-white/40 hover:bg-white/10"),children:[o.jsx("span",{className:"truncate",children:S==="Major"?"":S==="Minor"?"":S==="Major7"?"7th":S==="Minor7"?"7th":"7th"}),r.includes(S)&&o.jsx(Ir,{size:10})]},S))})]}),(n==="Exercise"||n==="Mix")&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-bold text-white/40 uppercase tracking-wider",children:""}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:Jv.map(S=>o.jsxs("button",{onClick:()=>b(S),className:Rt("px-2 py-1.5 text-[10px] text-left rounded border transition-all flex items-center justify-between",u.includes(S)?"bg-purple-500/20 border-purple-500/30 text-purple-300":"bg-white/5 border-white/5 text-white/40 hover:bg-white/10"),children:[o.jsx("span",{className:"truncate",children:S==="LongTone"?"":S==="FiveNote"?"5":S==="Triad"?" (3)":S==="Thirds"?"3":""}),u.includes(S)&&o.jsx(Ir,{size:10})]},S))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-bold text-white/40 uppercase tracking-wider",children:""}),o.jsx("div",{className:"flex bg-black/40 p-1 rounded-lg",children:[{label:"G6 ()",val:91},{label:"C7 ()",val:96},{label:"G7 ()",val:103},{label:"C8 ()",val:108}].map(S=>o.jsx("button",{onClick:()=>f(S.val),className:Rt("flex-1 py-1.5 text-[10px] font-medium rounded-md transition-all",g===S.val?"bg-white/20 text-white shadow-sm":"text-white/40 hover:text-white/60"),children:S.label},S.val))})]})]}),e?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-3 bg-green-500/10 border border-green-500/20 rounded-xl space-y-2 animate-pulse",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-ping"}),o.jsx("span",{className:"text-green-400 font-medium text-sm",children:"..."})]}),o.jsxs("div",{className:"text-[10px] text-green-300/60 pl-5",children:["Mode: ",((x=t.state.practiceConfig)==null?void 0:x.mode)==="Mix"?"":((T=t.state.practiceConfig)==null?void 0:T.mode)==="Scale"?"":((M=t.state.practiceConfig)==null?void 0:M.mode)==="Arpeggio"?"":((z=t.state.practiceConfig)==null?void 0:z.mode)==="Exercise"?"":""]})]}),o.jsxs("div",{className:"flex items-center justify-between bg-white/5 p-3 rounded-xl border border-white/10",children:[o.jsx("span",{className:"text-xs text-white/60",children:""}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:()=>{t.updateState({guideOctaveOffset:t.state.guideOctaveOffset-1})},className:"p-1 hover:bg-white/10 rounded",children:"-"}),o.jsxs("span",{className:"text-sm font-bold w-4 text-center",children:[t.state.guideOctaveOffset>0?"+":"",t.state.guideOctaveOffset]}),o.jsx("button",{onClick:()=>{t.updateState({guideOctaveOffset:t.state.guideOctaveOffset+1})},className:"p-1 hover:bg-white/10 rounded",children:"+"})]})]}),o.jsxs("button",{onClick:w,className:"w-full py-3 bg-red-500/20 hover:bg-red-500/30 text-red-400 hover:text-red-300 font-bold rounded-xl flex items-center justify-center gap-2 transition-all border border-red-500/20 active:scale-95",children:[o.jsx(a0,{size:18,className:"fill-current"}),""]})]}):o.jsxs("button",{onClick:y,className:"w-full py-3 bg-green-600 hover:bg-green-500 text-white font-bold rounded-xl flex items-center justify-center gap-2 transition-all shadow-lg hover:shadow-green-500/20 active:scale-95",children:[o.jsx(nu,{size:18,className:"fill-white"}),""]}),o.jsx("div",{className:"pt-2 text-[10px] text-center text-white/20 border-t border-white/5",children:"Continuous Practice Generator v1.1"})]})]})},$r="ontei-practice-history",en=class en{constructor(){}static getInstance(){return en.instance||(en.instance=new en),en.instance}getRecords(){try{const e=localStorage.getItem($r);return e?JSON.parse(e):[]}catch(e){return console.error("Failed to load history:",e),[]}}saveRecord(e){const a={...e,id:crypto.randomUUID(),date:new Date().toISOString()},n=this.getRecords();n.unshift(a),n.length>100&&(n.length=100);try{localStorage.setItem($r,JSON.stringify(n))}catch(l){console.error("Failed to save history:",l)}return a}clearHistory(){localStorage.removeItem($r)}getStats(){const e=this.getRecords();if(e.length===0)return{totalDuration:0,averageScore:0,bestScore:0,totalSessions:0};const a=e.reduce((i,s)=>i+s.duration,0),n=e.reduce((i,s)=>i+s.score,0)/e.length,l=Math.max(...e.map(i=>i.score));return{totalDuration:a,averageScore:n,bestScore:l,totalSessions:e.length}}};q(en,"instance");let $c=en;const An=$c.getInstance(),Pv=t=>{const e=Math.floor(t/60),a=Math.floor(t%60);return`${e}:${a.toString().padStart(2,"0")}`},Lf=({result:t,onClose:e})=>{const a=L.useRef(!1);L.useEffect(()=>{a.current||(An.saveRecord({score:t.totalScore,accuracy:t.radar.pitch,songName:"Unknown Song",duration:0}),a.current=!0)},[t]);const n=[{label:"",val:t.radar.pitch,full:100},{label:"",val:t.radar.stability,full:100},{label:"",val:t.radar.expressiveness,full:100},{label:"",val:t.radar.rhythm,full:100},{label:"",val:t.radar.technique,full:100}],l=80,i=100,s=n.map((c,u)=>{const m=Math.PI*2*u/5-Math.PI/2,g=c.val/100*l,f=i+g*Math.cos(m),d=i+g*Math.sin(m);return`${f},${d}`}).join(" "),r=n.map((c,u)=>{const m=Math.PI*2*u/5-Math.PI/2,g=i+l*Math.cos(m),f=i+l*Math.sin(m);return`${g},${f}`}).join(" ");return o.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm animate-in fade-in duration-300 p-4",children:o.jsxs("div",{className:"w-full max-w-4xl bg-[#1a1a1e] rounded-3xl border border-white/10 shadow-2xl overflow-hidden animate-in zoom-in-95 duration-300",children:[o.jsxs("div",{className:"bg-gradient-to-r from-indigo-900/50 to-purple-900/50 p-6 flex items-center justify-between border-b border-white/10",children:[o.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2 text-white",children:[o.jsx(Us,{className:"text-yellow-400 fill-yellow-400"}),""]}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-full transition-colors text-white/60 hover:text-white",children:o.jsx(pa,{})})]}),o.jsxs("div",{className:"p-8 grid grid-cols-1 md:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"space-y-6 text-center md:text-left",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("span",{className:"text-sm font-bold tracking-widest text-white/40 uppercase",children:"Total Score"}),o.jsxs("div",{className:"text-8xl font-black text-transparent bg-clip-text bg-gradient-to-br from-white to-white/50 shadow-glow",children:[t.totalScore,o.jsx("span",{className:"text-2xl text-white/30 font-normal ml-2",children:"pts"})]})]}),o.jsxs("div",{className:"p-4 bg-white/5 rounded-2xl border border-white/5",children:[o.jsx("h3",{className:"text-sm font-bold text-blue-300 mb-1",children:""}),o.jsx("p",{className:"text-white/80 leading-relaxed text-sm",children:t.comment})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-xs text-white/40 uppercase font-bold",children:[o.jsx("span",{children:"Flat ()"}),o.jsx("span",{children:"Perfect"}),o.jsx("span",{children:"Sharp ()"})]}),o.jsxs("div",{className:"h-4 bg-black/50 rounded-full relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-white/30 left-1/2 -ml-[0.5px]"}),o.jsx("div",{className:Rt("absolute top-1 bottom-1 rounded-full transition-all",t.tendency>0?"bg-red-500 left-1/2":"bg-blue-500 right-1/2"),style:{[(t.tendency>0,"width")]:`${Math.min(50,Math.abs(t.tendency))}%`}})]}),o.jsxs("div",{className:"text-center text-xs text-white/30 font-mono",children:[": ",Math.abs(t.tendency).toFixed(1)," cent ",t.tendency>0?"":t.tendency<0?"":""]})]}),t.advice&&t.advice.length>0&&o.jsxs("div",{className:"space-y-3 pt-4 border-t border-white/10",children:[o.jsxs("h3",{className:"text-sm font-bold text-white/50 uppercase tracking-widest flex items-center gap-2",children:[o.jsx($y,{size:14,className:"text-yellow-400"}),"Expert Analysis"]}),o.jsx("div",{className:"space-y-2 max-h-[150px] overflow-y-auto pr-2 custom-scrollbar",children:t.advice.map((c,u)=>o.jsxs("div",{className:Rt("flex items-start gap-3 p-3 rounded-lg border text-sm",c.level==="warning"?"bg-red-500/10 border-red-500/30 text-red-200":c.level==="positive"?"bg-green-500/10 border-green-500/30 text-green-200":"bg-blue-500/10 border-blue-500/30 text-blue-200"),children:[o.jsx("div",{className:"mt-0.5 shrink-0",children:c.level==="warning"?o.jsx(pa,{size:16}):c.level==="positive"?o.jsx(Us,{size:16}):o.jsx(Ds,{size:16})}),o.jsx("span",{className:"leading-snug",children:c.message})]},u))})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"aspect-square w-full max-w-[280px] mx-auto relative",children:o.jsxs("svg",{viewBox:"-30 -30 260 260",className:"w-full h-full drop-shadow-2xl",children:[o.jsx("polygon",{points:r,fill:"#ffffff05",stroke:"#ffffff20",strokeWidth:"1"}),[.8,.6,.4,.2].map(c=>o.jsx("polygon",{points:n.map((u,m)=>{const g=Math.PI*2*m/5-Math.PI/2,f=c*l;return`${i+f*Math.cos(g)},${i+f*Math.sin(g)}`}).join(" "),fill:"none",stroke:"#ffffff10",strokeWidth:"1"},c)),o.jsx("polygon",{points:s,fill:"rgba(99, 102, 241, 0.4)",stroke:"#818cf8",strokeWidth:"2"}),n.map((c,u)=>{const m=Math.PI*2*u/5-Math.PI/2,g=l+20,f=i+g*Math.cos(m),d=i+g*Math.sin(m);return o.jsx("text",{x:f,y:d,fill:"white",fontSize:"10",textAnchor:"middle",dominantBaseline:"middle",children:c.label},u)})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[o.jsxs("div",{className:"bg-white/5 p-3 rounded-xl flex items-center gap-3 border border-white/5",children:[o.jsx("div",{className:"p-2 bg-pink-500/20 rounded-lg text-pink-400",children:o.jsx(Es,{size:16})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-[10px] text-white/40 uppercase",children:"Vibrato"}),o.jsxs("div",{className:"font-bold text-white",children:[t.vibratoCount," ",o.jsxs("span",{className:"text-xs font-normal text-white/40",children:["(",t.vibratoSec.toFixed(1),"s)"]})]})]})]}),o.jsxs("div",{className:"bg-white/5 p-3 rounded-xl flex items-center gap-3 border border-white/5",children:[o.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg text-emerald-400",children:o.jsx(Hf,{size:16})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-[10px] text-white/40 uppercase",children:"Accuracy"}),o.jsxs("div",{className:"font-bold text-white",children:[t.radar.pitch,o.jsx("span",{className:"text-xs",children:"%"})]})]})]})]}),t.weakNotes&&t.weakNotes.length>0&&o.jsxs("div",{className:"mt-4 bg-white/5 p-4 rounded-xl border border-white/5",children:[o.jsxs("h3",{className:"text-sm font-bold text-white/50 uppercase tracking-widest mb-3 flex items-center gap-2",children:[o.jsx(Hf,{size:14,className:"text-red-400"}),"Weak Point Analysis"]}),o.jsx("div",{className:"space-y-2",children:t.weakNotes.map((c,u)=>{const m=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],g=["","#","","#","","","#","","#","","#",""],d=(C.state.noteNotation||"alphabet")==="katakana"?g[c.noteIndex]:m[c.noteIndex];return o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-bold w-12 h-6 flex items-center justify-center bg-white/10 rounded text-white/80 text-xs",children:d}),o.jsx("span",{className:"text-white/60",children:""}),o.jsx("span",{className:Rt("font-bold",c.diff>0?"text-red-400":"text-blue-400"),children:c.diff>0?"":""}),o.jsx("span",{className:"text-white/60",children:""})]}),o.jsxs("div",{className:"font-mono text-xs opacity-50",children:[c.diff>0?"+":"",c.diff.toFixed(1)," cent"]})]},u)})})]}),t.phraseScores&&t.phraseScores.length>0&&o.jsxs("div",{className:"mt-6 space-y-3",children:[o.jsxs("h3",{className:"text-sm font-bold text-white/50 uppercase tracking-widest flex items-center gap-2",children:[o.jsx(Es,{size:14,className:"text-blue-400"}),"Phrase Analysis"]}),o.jsx("div",{className:"space-y-2 max-h-[200px] overflow-y-auto custom-scrollbar pr-2",children:t.phraseScores.map(c=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg border border-white/5 hover:bg-white/10 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("span",{className:"text-xs font-mono text-white/50",children:[Pv(c.startTime),o.jsx("span",{className:"mx-1",children:"~"})]}),o.jsx("span",{className:Rt("text-xs font-bold px-2 py-0.5 rounded-full border",c.evaluation==="Perfect"?"bg-yellow-500/20 text-yellow-300 border-yellow-500/30":c.evaluation==="Good"?"bg-green-500/20 text-green-300 border-green-500/30":"bg-white/10 text-white/40 border-white/10"),children:c.evaluation})]}),o.jsxs("div",{className:"font-bold text-white",children:[c.score," ",o.jsx("span",{className:"text-xs font-normal text-white/30",children:"pts"})]})]},c.phraseId))})]})]})]})]})})};function Wv({records:t}){const e=L.useRef(null);return L.useEffect(()=>{const a=e.current;if(!a)return;const n=a.getContext("2d");if(!n)return;const l=window.devicePixelRatio||1,i=a.getBoundingClientRect();a.width=i.width*l,a.height=i.height*l,n.scale(l,l);const s=i.width,r=i.height;if(n.clearRect(0,0,s,r),t.length<2){n.fillStyle="rgba(255, 255, 255, 0.3)",n.font="14px sans-serif",n.textAlign="center",n.fillText("",s/2,r/2);return}const c=[...t].reverse().slice(-20),u={top:20,right:20,bottom:30,left:40},m=s-u.left-u.right,g=r-u.top-u.bottom,f=y=>u.left+y/(c.length-1)*m,d=y=>u.top+g-y/100*g;n.strokeStyle="rgba(255, 255, 255, 0.1)",n.lineWidth=1,n.beginPath();for(let y=0;y<=4;y++){const w=u.top+y/4*g;n.moveTo(u.left,w),n.lineTo(s-u.right,w),n.fillStyle="rgba(255, 255, 255, 0.3)",n.font="10px sans-serif",n.textAlign="right",n.fillText(`${100-y*25}`,u.left-5,w+4)}n.stroke(),n.strokeStyle="#3b82f6",n.lineWidth=3,n.beginPath(),c.forEach((y,w)=>{const p=f(w),h=d(y.score);w===0?n.moveTo(p,h):n.lineTo(p,h)}),n.stroke();const v=n.createLinearGradient(0,u.top,0,r-u.bottom);if(v.addColorStop(0,"rgba(59, 130, 246, 0.3)"),v.addColorStop(1,"rgba(59, 130, 246, 0)"),n.fillStyle=v,n.lineTo(f(c.length-1),r-u.bottom),n.lineTo(f(0),r-u.bottom),n.fill(),c.forEach((y,w)=>{const p=f(w),h=d(y.score);n.fillStyle="#1a1a1a",n.beginPath(),n.arc(p,h,4,0,Math.PI*2),n.fill(),n.strokeStyle="#60a5fa",n.lineWidth=2,n.beginPath(),n.arc(p,h,4,0,Math.PI*2),n.stroke()}),n.fillStyle="rgba(255, 255, 255, 0.3)",n.textAlign="center",c.length>0){const y=new Date(c[0].date).toLocaleDateString(void 0,{month:"numeric",day:"numeric"});n.fillText(y,u.left,r-10);const w=new Date(c[c.length-1].date).toLocaleDateString(void 0,{month:"numeric",day:"numeric"});n.fillText(w,s-u.right,r-10)}},[t]),o.jsx("canvas",{ref:e,className:"w-full h-48 bg-white/5 rounded-xl border border-white/10"})}function $v({onClose:t}){const[e,a]=L.useState(()=>An.getRecords()),[n,l]=L.useState(()=>An.getStats()),i=()=>{a(An.getRecords()),l(An.getStats())},s=()=>{confirm("")&&(An.clearHistory(),i())};return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm animate-in fade-in duration-200",children:o.jsxs("div",{className:"w-full max-w-2xl bg-[#1e1e24] border border-white/10 rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10 bg-white/5",children:[o.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2 text-white",children:[o.jsx($m,{className:"text-blue-400"}),""]}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-full transition-colors text-white/60 hover:text-white",children:o.jsx(pa,{size:20})})]}),o.jsxs("div",{className:"overflow-y-auto p-6 space-y-8 custom-scrollbar",children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-white/5 p-4 rounded-xl border border-white/5",children:[o.jsx("div",{className:"text-white/40 text-xs font-bold uppercase mb-1",children:""}),o.jsxs("div",{className:"text-2xl font-bold text-white",children:[n.totalSessions," ",o.jsx("span",{className:"text-sm font-normal text-white/40",children:""})]})]}),o.jsxs("div",{className:"bg-white/5 p-4 rounded-xl border border-white/5",children:[o.jsx("div",{className:"text-white/40 text-xs font-bold uppercase mb-1",children:""}),o.jsxs("div",{className:"text-2xl font-bold text-white",children:[(n.totalDuration/60).toFixed(1)," ",o.jsx("span",{className:"text-sm font-normal text-white/40",children:""})]})]}),o.jsxs("div",{className:"bg-white/5 p-4 rounded-xl border border-white/5",children:[o.jsx("div",{className:"text-white/40 text-xs font-bold uppercase mb-1",children:""}),o.jsx("div",{className:Rt("text-2xl font-bold",n.averageScore>=80?"text-green-400":"text-yellow-400"),children:n.averageScore.toFixed(1)})]}),o.jsxs("div",{className:"bg-white/5 p-4 rounded-xl border border-white/5",children:[o.jsx("div",{className:"text-white/40 text-xs font-bold uppercase mb-1",children:""}),o.jsxs("div",{className:"text-2xl font-bold text-purple-400 flex items-center gap-1",children:[n.bestScore>0&&o.jsx(Us,{size:16}),n.bestScore.toFixed(1)]})]})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-white/70 font-bold mb-3 flex items-center gap-2",children:[o.jsx("span",{className:"w-1 h-4 bg-blue-500 rounded-full"}),""]}),o.jsx(Wv,{records:e})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("h3",{className:"text-white/70 font-bold flex items-center gap-2",children:[o.jsx("span",{className:"w-1 h-4 bg-purple-500 rounded-full"}),""]}),e.length>0&&o.jsxs("button",{onClick:s,className:"text-xs text-red-400 hover:text-red-300 flex items-center gap-1 px-2 py-1 hover:bg-red-500/10 rounded transition-colors",children:[o.jsx(cr,{size:12}),""]})]}),o.jsx("div",{className:"space-y-2",children:e.length===0?o.jsxs("div",{className:"text-center py-8 text-white/30 border border-dashed border-white/10 rounded-xl",children:["",o.jsx("br",{}),""]}):e.map(r=>o.jsxs("div",{className:"bg-white/5 hover:bg-white/10 transition-colors p-3 rounded-xl border border-white/5 flex items-center justify-between group",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:Rt("w-10 h-10 rounded-full flex items-center justify-center font-bold text-sm",r.score>=90?"bg-purple-500/20 text-purple-300 border border-purple-500/40":r.score>=80?"bg-green-500/20 text-green-300 border border-green-500/40":"bg-yellow-500/20 text-yellow-300 border border-yellow-500/40"),children:Math.round(r.score)}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-bold text-white/90",children:r.songName}),o.jsxs("div",{className:"text-xs text-white/50 flex items-center gap-2",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Sy,{size:10})," ",new Date(r.date).toLocaleString()]}),o.jsx("span",{children:""}),o.jsxs("span",{children:[Math.floor(r.duration/60)," ",Math.floor(r.duration%60),""]})]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-xs text-white/40 mb-0.5",children:""}),o.jsxs("div",{className:"text-sm font-mono text-white/80",children:[r.accuracy.toFixed(1),"%"]})]})]},r.id))})]})]})]})})}function tx({audioBlob:t,onClose:e}){const a=L.useRef(null),[n,l]=L.useState(!1),[i,s]=L.useState(0),[r,c]=L.useState(0),u=L.useRef(null),[m,g]=L.useState(new Array(30).fill(20));L.useEffect(()=>{if(!n)return;const h=setInterval(()=>{g(Array.from({length:30},()=>Math.random()*80+10))},50);return()=>clearInterval(h)},[n]),L.useEffect(()=>{const h=URL.createObjectURL(t);return u.current=h,a.current&&(a.current.src=h),()=>{URL.revokeObjectURL(h),u.current=null}},[t]);const f=()=>{a.current&&(n?a.current.pause():a.current.play(),l(!n))},d=()=>{a.current&&s(a.current.currentTime)},v=()=>{a.current&&c(a.current.duration)},y=h=>{const b=parseFloat(h.target.value);a.current&&(a.current.currentTime=b,s(b))},w=()=>{if(!u.current)return;const h=document.createElement("a");h.href=u.current,h.download=`ontei-recording-${new Date().toISOString().slice(0,19).replace(/:/g,"-")}.webm`,h.click()},p=h=>{if(!isFinite(h))return"0:00";const b=Math.floor(h/60),x=Math.floor(h%60);return`${b}:${x.toString().padStart(2,"0")}`};return o.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm animate-in fade-in duration-200",children:o.jsxs("div",{className:"w-full max-w-md bg-[#1e1e24] border border-white/10 rounded-2xl shadow-2xl p-6 flex flex-col gap-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-6 bg-red-500 rounded-full animate-pulse"}),""]}),o.jsx("button",{onClick:e,className:"text-white/40 hover:text-white transition-colors",children:o.jsx(pa,{size:20})})]}),o.jsx("audio",{ref:a,onTimeUpdate:d,onLoadedMetadata:v,onEnded:()=>l(!1)}),o.jsx("div",{className:"h-24 bg-black/40 rounded-xl border border-white/5 flex items-center justify-center relative overflow-hidden group",children:o.jsx("div",{className:"flex items-center gap-1 h-full w-full justify-center px-4",children:Array.from({length:30}).map((h,b)=>o.jsx("div",{className:Rt("w-1 bg-white/20 rounded-full transition-all duration-100",n?"animate-pulse":""),style:{height:`${n?m[b]:20}%`,transition:"height 0.05s ease"}},b))})}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-xs text-white/50 font-mono",children:[o.jsx("span",{children:p(i)}),o.jsx("span",{children:p(r)})]}),o.jsx("input",{type:"range",min:"0",max:r||100,value:i,onChange:y,className:"w-full h-1 bg-white/10 rounded-full appearance-none cursor-pointer outline-none [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-3 [&::-webkit-slider-thumb]:h-3 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-red-500"})]}),o.jsxs("div",{className:"flex items-center justify-center gap-6",children:[o.jsx("button",{onClick:e,className:"p-3 rounded-full bg-white/5 text-white/40 hover:bg-red-500/10 hover:text-red-400 transition-all border border-transparent hover:border-red-500/20",title:"",children:o.jsx(cr,{size:20})}),o.jsx("button",{onClick:f,className:"w-16 h-16 rounded-full bg-red-500 flex items-center justify-center text-white shadow-lg shadow-red-500/20 hover:scale-105 hover:bg-red-400 transition-all",children:n?o.jsx(Hy,{size:28,fill:"currentColor"}):o.jsx(nu,{size:28,fill:"currentColor",className:"ml-1"})}),o.jsx("button",{onClick:w,className:"p-3 rounded-full bg-white/5 text-blue-300 hover:bg-blue-500/10 transition-all border border-blue-500/20",title:"",children:o.jsx(ky,{size:20})})]})]})})}function ex({open:t,onClose:e,onResetAll:a,onResetPitchOnly:n}){return t?o.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:o.jsxs("div",{className:"bg-zinc-900 border border-white/10 rounded-2xl w-full max-w-md shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10 bg-zinc-800/50",children:[o.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[o.jsx(cr,{className:"w-5 h-5 text-red-400"}),""]}),o.jsx("button",{onClick:e,className:"p-1.5 hover:bg-white/10 rounded-full transition-colors text-white/50 hover:text-white",children:o.jsx(pa,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"p-4 space-y-3",children:[o.jsx("p",{className:"text-white/60 text-sm mb-4",children:""}),o.jsx("button",{onClick:()=>{a(),e()},className:Rt("w-full p-4 rounded-xl text-left transition-all","bg-red-500/10 hover:bg-red-500/20 border border-red-500/20 hover:border-red-500/40","group"),children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500/20 flex items-center justify-center",children:o.jsx(_y,{className:"w-5 h-5 text-red-400"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white font-medium",children:""}),o.jsx("div",{className:"text-white/50 text-sm",children:""})]})]})}),o.jsx("button",{onClick:()=>{n(),e()},className:Rt("w-full p-4 rounded-xl text-left transition-all","bg-emerald-500/10 hover:bg-emerald-500/20 border border-emerald-500/20 hover:border-emerald-500/40","group"),children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-emerald-500/20 flex items-center justify-center",children:o.jsx(t0,{className:"w-5 h-5 text-emerald-400"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white font-medium",children:""}),o.jsx("div",{className:"text-white/50 text-sm",children:""})]})]})})]}),o.jsx("div",{className:"p-4 border-t border-white/10 bg-zinc-800/30",children:o.jsx("button",{onClick:e,className:"w-full py-2.5 rounded-lg bg-white/5 hover:bg-white/10 text-white/70 hover:text-white transition-all text-sm font-medium",children:""})})]})}):null}function ax(){const[t]=L.useState(()=>C),[e,a]=L.useState(!1),[n,l]=L.useState(!1),[i,s]=L.useState(!1),[r,c]=L.useState(!1),[u,m]=L.useState(!1),[g,f]=L.useState(null),[d,v]=L.useState(C.state);return L.useEffect(()=>{C.initFromStorage()},[]),L.useEffect(()=>t.subscribe(()=>{v({...t.state})}),[t]),o.jsxs("div",{className:"w-screen h-[100dvh] bg-[#1a1a1a] text-white overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"h-12 border-b border-white/10 flex items-center px-2 md:px-4 bg-white/5 backdrop-blur-sm z-10 overflow-x-auto no-scrollbar gap-2",children:[o.jsxs("h1",{className:"font-bold text-base md:text-lg tracking-tight bg-gradient-to-r from-blue-400 to-indigo-400 bg-clip-text text-transparent truncate max-w-[120px] md:max-w-none",children:["Ontei ",o.jsx("span",{className:"hidden md:inline text-xs text-white/40 font-normal ml-2",children:"Legacy Refactor"})]}),o.jsxs("div",{id:"top-bar-import-controls",className:"flex items-center gap-2",children:[o.jsxs("button",{onClick:()=>{var y;return(y=document.getElementById("hidden-import-guide"))==null?void 0:y.click()},className:"h-8 w-24 rounded-full bg-blue-500/20 text-blue-300 text-xs hover:bg-blue-500/30 transition-all border border-blue-500/30 flex items-center justify-center gap-1.5",title:"(MIDI/)",children:[o.jsx("span",{className:"text-lg md:text-base",children:""})," ",o.jsx("span",{className:"hidden md:inline",children:""})]}),o.jsx("input",{type:"file",accept:".mid,.midi,.mp3,.wav,.ogg,.m4a",onChange:y=>{var p;const w=(p=y.target.files)==null?void 0:p[0];w&&(w.name.endsWith(".mid")||w.name.endsWith(".midi")?t.loadMidiFile(w):t.loadAudioFile(w))},className:"hidden",id:"hidden-import-guide"}),o.jsxs("button",{onClick:()=>{var y;return(y=document.getElementById("hidden-import-audio"))==null?void 0:y.click()},className:"h-8 w-24 rounded-full bg-purple-500/20 text-purple-300 text-xs hover:bg-purple-500/30 transition-all border border-purple-500/30 flex items-center justify-center gap-1.5",title:"(MP3/WAV)",children:[o.jsx("span",{className:"text-lg md:text-base",children:""})," ",o.jsx("span",{className:"hidden md:inline",children:""})]}),o.jsx("input",{type:"file",accept:".mp3,.wav,.ogg,.m4a",onChange:y=>{var w;return((w=y.target.files)==null?void 0:w[0])&&t.importBackingFile(y.target.files[0])},className:"hidden",id:"hidden-import-audio"}),o.jsxs("button",{onClick:()=>{const y=C.exportSession(),w=new Blob([y],{type:"application/json"}),p=URL.createObjectURL(w),h=document.createElement("a");h.href=p,h.download=`ontei-session-${new Date().toISOString().slice(0,10)}.json`,h.click(),URL.revokeObjectURL(p)},className:"h-8 w-24 rounded-full bg-green-500/20 text-green-300 text-xs hover:bg-green-500/30 transition-all border border-green-500/30 flex items-center justify-center gap-1.5 ml-2",title:"",children:[o.jsx("span",{className:"hidden md:inline",children:" SAVE"}),o.jsx("span",{className:"md:hidden",children:""})]}),o.jsxs("button",{onClick:()=>{var y;return(y=document.getElementById("hidden-import-json"))==null?void 0:y.click()},className:"h-8 w-24 rounded-full bg-white/5 text-white/70 text-xs hover:bg-white/10 transition-all border border-white/10 flex items-center justify-center gap-1.5 ml-2",title:"",children:[o.jsx("span",{className:"text-lg md:text-base",children:""})," ",o.jsx("span",{className:"hidden md:inline",children:"LOAD"})]}),o.jsx("input",{type:"file",accept:".json",onChange:y=>{var w;return((w=y.target.files)==null?void 0:w[0])&&t.importSession(y.target.files[0])},className:"hidden",id:"hidden-import-json"}),o.jsxs("button",{onClick:()=>d.scoreResult&&d.scoreResult.totalScore>0&&s(!0),disabled:!d.scoreResult||d.scoreResult.totalScore<=0,className:`h-8 w-28 rounded-full text-xs transition-all border flex items-center justify-center gap-1.5 ml-4 ${d.scoreResult&&d.scoreResult.totalScore>0?"bg-yellow-500/20 text-yellow-300 border-yellow-500/30 hover:bg-yellow-500/30 cursor-pointer":"bg-gray-800/50 text-gray-500 border-gray-700/50 cursor-not-allowed opacity-70"}`,title:d.scoreResult&&d.scoreResult.totalScore>0?"":"",children:[o.jsx(Us,{className:`w-3 h-3 ${d.scoreResult&&d.scoreResult.totalScore>0?"text-yellow-300":"text-gray-500"}`}),o.jsx("span",{className:"hidden md:inline",children:""})]})]}),o.jsx("div",{className:"flex items-center gap-2 bg-black/20 rounded-full px-3 py-1 border border-white/10 shrink-0",children:o.jsxs("span",{className:"text-xs text-white/60 font-medium",children:["BPM: ",d.bpm]})}),o.jsx("button",{onClick:()=>m(!0),className:"h-8 w-8 rounded-full bg-red-500/10 text-red-400 hover:bg-red-500/20 transition-all border border-red-500/20 flex items-center justify-center shrink-0 ml-auto",title:"",children:o.jsx(cr,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex-1 relative min-h-0",children:[o.jsx(gy,{}),e&&o.jsx(Zv,{onClose:()=>a(!1)}),n&&o.jsx(Iv,{audioEngine:t,isPracticing:d.isPracticing,onClose:()=>{t.stopPractice(),l(!1)}}),r&&o.jsx($v,{onClose:()=>c(!1)}),u&&o.jsx(ex,{open:u,onClose:()=>m(!1),onResetAll:()=>t.resetSession("all"),onResetPitchOnly:()=>t.resetSession("pitchOnly")}),g&&o.jsx(tx,{audioBlob:g,onClose:()=>f(null)}),i&&o.jsx(Lf,{result:d.scoreResult,onClose:()=>{s(!1)}}),d.loadingProgress!==null&&o.jsxs("div",{className:"absolute inset-0 z-[200] bg-black/80 backdrop-blur-md flex flex-col items-center justify-center gap-4 animate-in fade-in duration-300",children:[o.jsx("div",{className:"w-16 h-16 border-4 border-white/20 border-t-blue-500 rounded-full animate-spin"}),o.jsx("div",{className:"text-xl font-bold bg-gradient-to-r from-blue-400 to-cyan-400 bg-clip-text text-transparent",children:"Analyzing Audio..."}),o.jsxs("div",{className:"text-white/60 font-mono text-sm",children:[Math.round(d.loadingProgress),"%"]}),o.jsx("div",{className:"w-64 h-1.5 bg-white/10 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-blue-500 transition-all duration-100 ease-out",style:{width:`${d.loadingProgress}%`}})})]}),i&&d.scoreResult&&o.jsx(Lf,{result:d.scoreResult,onClose:()=>s(!1)}),o.jsx(Lv,{onOpenSettings:()=>a(!0),onOpenPractice:()=>{n||d.isPracticing?(t.stopPractice(),l(!1)):l(!0)},onOpenHistory:()=>c(!0),onRecordingComplete:y=>f(y)})]})]})}pb.createRoot(document.getElementById("root")).render(o.jsx(L.StrictMode,{children:o.jsx(ax,{})}));window.addEventListener("error",t=>{const e=document.getElementById("root");e&&e.innerHTML===""&&(e.innerHTML=`<div style="padding: 20px; color: #f87171; background: #222; height: 100vh;">
            <h1>Startup Error</h1>
            <pre>${t.message}</pre>
            <p>Check console for more details.</p>
        </div>`)});"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./sw.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})});
